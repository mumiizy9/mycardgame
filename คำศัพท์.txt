р╣Вр╕Ир╕Чр╕вр╣Мр╕Вр╕нр╕Зр╣Ар╕Бр╕б р╕Др╕╕р╕Ур╣Ар╕Ыр╣Зр╕Щр╕Др╕Щ р╕кр╕гр╣Йр╕▓р╕Зр╕Йр╕Ър╕▒р╕Ър╣Ар╕Хр╣Зр╕бр╕Чр╕╡р╣Ир╕Ир╕░р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡ 100% р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Бр╕Бр╣Йр╣Др╕Вр╣Гр╕лр╣Йр╕нр╕Щр╕▓р╕Др╕Хр╕лр╕гр╕╖р╕нр╕Цр╣Йр╕▓р╕лр╕▓р╕Бр╕Ир╕░р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕бр╕Ир╕░р╕Хр╣Йр╕нр╕Зр╕Чр╕│р╣Др╕Яр╕ер╣Мр╕бр╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╕Хр╣Ир╕▓р╕Зр╕лр╕▓р╕Бр╣Бр╕ер╣Йр╕зр╕Ир╕░р╕Хр╣Йр╕нр╕Зр╣Др╕бр╣Ир╕Вр╕▒р╕Фр╕Бр╕▒р╕Ър╣Вр╕Др╣Йр╕Фр╣Др╕Яр╕ер╣Мр╣Ар╕Фр╕┤р╕бр╕Чр╕╡р╣Ир╕бр╕╡р╕нр╕вр╕╣р╣Ир╕Хр╣Йр╕Щр╣Бр╕Ър╕Ър╕Вр╕нр╕Зр╣Ар╕Бр╕бр╕Щр╕╡р╣Йр╕Ир╕░р╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╕р╕Бр╕кр╣Ир╕зр╕Щр╕Вр╕нр╕Зр╣Ар╕Бр╕б р╕нр╕╡р╕Ыр╕┤р╕Бр╣Ар╕Лр╣Ар╕зр╣Ир╕Щ р╣Ар╕Кр╣Ир╕Щр╕Др╣Ир╕▓р╕кр╣Ар╕Хр╕Хр╕▒р╕кр╕Чр╕╕р╕Бр╕кр╣Ир╕зр╕Щ, р╕лр╕бр╕зр╕Фр╕Бр╕▓р╕гр╣Ар╕ер╣Ир╕Щр╕Хр╣Ир╕▓р╕Зр╣Ж,р╕лр╕гр╕╖р╕нр╕Чр╕▒р╣Йр╕Зр╕гр╕░р╕Ър╕Ър╕Хр╣Ир╕нр╕кр╕╣р╣Йр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ autoBattle (р╕вр╕Бр╣Ар╕зр╣Йр╕Щр╣Ар╕Щр╕╖р╣Йр╕нр╣Ар╕гр╕╖р╣Ир╕нр╕Зр╕Чр╕╡р╣Ир╕Хр╕┤р╕Фр╕ер╕┤р╕Вр╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕нр╕нр╕Б) р╕Чр╕╕р╕Бр╕лр╕Щр╣Йр╕▓р╕Вр╕нр╕Зр╕Хр╕▒р╕зр╣Ар╕Бр╕бр╣Ар╕Ыр╣Зр╕Щр╕кр╕╡р╣Вр╕Чр╕Щр╕бр╕╖р╕Фр╕Фр╣Йр╕зр╕вр╕Др╕зр╕▓р╕бр╣Ар╕Чр╣Ир╕Чр╕▒р╕Щр╕кр╕бр╕▒р╕вр╕лр╕гр╕╣р╕лр╕гр╕▓
р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕зр╕▓р╕Зр╕Ыр╕╕р╣Ир╕Щр╕лр╕гр╕╖р╕нр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╣Йр╕Юр╕нр╕Фр╕╡р╕лр╕Щр╣Йр╕▓р╕Ир╕░р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╕ер╕Зр╕бр╕▓р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╣Ж р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╕Бр╕▓р╕гр╕Бр╕Фр╕Ыр╕╕р╣Ир╕Щр╣Ар╕бр╕Щр╕╣р╕Хр╣Ир╕▓р╕Зр╣Жр╕Ир╕░р╣Ар╕Ыр╣Зр╕Щр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕Юр╕Вр╕╢р╣Йр╕Щр╕бр╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╣Бр╕ер╣Йр╕зр╕бр╕╡р╕Ыр╕╕р╣Ир╕Щр╕Ыр╕┤р╕Фр╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕Юр╕Щр╕▒р╣Йр╕Щр╣Др╕Фр╣Й
р╕кр╕гр╣Йр╕▓р╕Зр╕Ър╕Щ html р╣Вр╕Фр╕вр╣Ар╕Ыр╣Зр╕Щр╕Йр╕Ър╕▒р╕Ър╕Бр╕▓р╕гр╣Мр╕Фр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й р╕Ир╕▒р╕Фр╕Чр╕╡р╕бр╕зр╕▓р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ 4 р╣Бр╕Цр╕зр╕Ър╕Щ р╣Бр╕ер╕░р╕Эр╕▒р╣Ир╕Зр╕бр╕нр╕Щр╣Ар╕Хр╕нр╕гр╣М 4 р╣Бр╕Цр╕зр╕ер╣Ир╕▓р╕З р╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Йр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕Бр╕бр╕нр╕╡р╕Ыр╕┤р╕Бр╣Ар╕Лр╣Ар╕зр╣Ир╕Щ р╣Бр╕кр╕Фр╕Зр╕Фр╕▓р╣Ар╕бр╕Ир╕Ър╕Щр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Фр╣Гр╕Ър╕Щр╕▒р╣Йр╕Щр╣Жр╕лр╕▓р╕Бр╕Цр╕╣р╕Бр╣Вр╕Ир╕бр╕Хр╕╡ р╕бр╕╡р╣Бр╕Цр╕Ър╕лр╕ер╕нр╕Фр╣Ар╕ер╕╖р╕нр╕Фр╣Бр╕ер╕░р╕лр╕ер╕нр╕Фр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕зр╣Ир╕▓р╕Ир╕░р╣Др╕Фр╣Йр╣Вр╕Ир╕бр╕Хр╕╡р╕Др╕гр╕▒р╣Йр╕Зр╕Хр╣Ир╕нр╣Др╕Ыр╣Ар╕бр╕╖р╕нр╣Др╕г р╣Ар╕Кр╣Ир╕Щ р╕лр╕ер╕нр╕Фр╕Щр╕▒р╣Йр╕Щр╕Ир╕░р╕Др╣Ир╕нр╕вр╣Жр╣Др╕лр╕ер╕Ир╕Щр╣Ар╕Хр╣Зр╕бр╕лр╕ер╕нр╕Фр╣Бр╕ер╣Йр╕зр╣Вр╕Ир╕бр╕Хр╕╡р╕Ир╕░р╕зр╕▒р╕Фр╕Др╣Ир╕▓р╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕зр╕кр╣Ар╕Хр╕Хр╕▒р╕кр╕Вр╕нр╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Щр╕▒р╣Йр╕Щр╣Ж р╕Хр╕нр╕Щр╣Вр╕Ир╕бр╕Хр╕╡р╕Ир╕░р╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Бр╕▓р╕гр╣Мр╕Фр╕Щр╕▒р╣Йр╕Щр╣Др╕Ыр╕Кр╕Щр╕Бр╕▒р╕Ър╕Бр╕▓р╕гр╣Мр╕Фр╕Чр╕╡р╣Ир╕Ир╕░р╣Вр╕Ир╕бр╕Хр╕╡р╕Фр╣Йр╕зр╕вр╣Ар╕Юр╕╖р╣Ир╕нр╕Ър╕нр╕Бр╣Гр╕лр╣Йр╕Фр╕╣р╕зр╣Ир╕▓р╣Вр╕Ир╕бр╕Хр╕╡р╕Хр╕▒р╕зр╣Др╕лр╕Щ р╣Ар╕лр╕бр╕╖р╕нр╕Щр╣Ар╕Бр╕бр╕вр╕╣р╕Бр╕┤р╣Ар╕зр╕ер╕▓р╕Ир╕░р╕Хр╕╡р╕Хр╕▒р╕зр╣Др╕лр╕Щр╕Бр╕▓р╕гр╣Мр╕Фр╣Гр╕Ър╕Щр╕▒р╣Йр╕Щр╕Ир╕░р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╣Др╕Ыр╕Кр╕Щр╕Бр╕▒р╕Ър╕Бр╕▓р╕гр╣Мр╕Фр╣Гр╕Ър╕Чр╕╡р╣Ир╣Вр╕Ир╕бр╕Хр╕╡
р╕Ир╕░р╕Хр╣Йр╕нр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕гр╕нр╕Зр╕Бр╕▓р╕гр╣Ар╕ер╣Ир╕Щр╣Др╕Фр╣Йр╕Чр╕▒р╣Йр╕Зр╕бр╕╖р╕нр╕Цр╕╖р╕нр╣Бр╕ер╕░р╕Ър╕Щр╕Др╕нр╕бр╕Юр╕┤р╕зр╣Ар╕Хр╕нр╕гр╣М р╕Ир╕░р╕Вр╕нр╕Зр╕Бр╕▓р╕гр╣Мр╕Фр╕Ир╕░р╕бр╕▓р╣Гр╕кр╣Ир╕ар╕▓р╕вр╕лр╕ер╕▒р╕Зр╣Ар╕Ыр╣Зр╕Щр╣Др╕Яр╕ер╣М png р╕Щр╕нр╕Бр╣Ар╕лр╕Щр╕╖р╕нр╕Ир╕▓р╕Бр╕гр╕╣р╣Йр╕Бр╕▓р╕гр╣Мр╕Фр╣Бр╕ер╣Йр╕зр╕Ир╕░р╣Гр╕Щр╕гр╕╣р╕Ыр╕лр╕гр╕╖р╕нр╣Др╕нр╕Др╕нр╕Щр╕Чр╕╡р╣Ир╕бр╕╡р╣Гр╕Щр╕гр╕░р╕Ър╕Ър╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щр╕Ир╕░р╣Др╕бр╣Ир╕лр╕▓р╕бр╕▓р╣Гр╕кр╣Ир╣Ар╕Юр╕Юр╕┤р╣Ир╕б р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Йр╕Др╕╕р╕Ур╣Др╕Фр╣Йр╣Ар╕Вр╕╡р╕вр╕Щр╣Вр╕Др╣Кр╕Фр╕Ир╕Ър╣Гр╕Щр╕Чр╕╡р╣Ар╕Фр╕╡р╣Ир╕вр╕зр╣Др╕бр╣Ир╕зр╕Щр╕бр╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╕ар╕▓р╕вр╕лр╕ер╕▒р╕З
р╕Др╕╕р╕Ур╕Ир╕░р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щр╕Др╕Щр╣Ар╕Вр╕╡р╕вр╕Щр╣Вр╕Др╣Йр╕Фр╣Ар╕нр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Чр╕╕р╕Бр╕гр╕░р╕Ър╕Ър╕Вр╕нр╣Ар╕Ыр╣Зр╕Щр╕Йр╕Ър╕▒р╕Ър╣Ар╕Хр╣Зр╕бр╣Бр╕ер╕░р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╣Др╕Яр╕ер╣Мр╕нр╕╖р╣Ир╕Щр╣Др╕Фр╣Йр╣Гр╕Щр╕нр╕Щр╕▓р╕Др╕Х
р╕лр╕▓р╕Бр╣Гр╕Щр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕Хр╣Ир╕ер╕░р╕кр╣Ир╕зр╕Щр╕Вр╕нр╕Зр╕Др╕╕р╕Ур╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╣Ир╕Зр╕лр╕бр╕Фр╣Др╕Фр╣Йр╣Гр╕Щр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Ар╕Фр╕╡р╣Ир╕вр╕зр╕Бр╕▒р╕Щр╣Гр╕лр╣Йр╕Чр╕│р╕Бр╕▓р╕гр╣Бр╕вр╕Бр╕кр╣Ир╕Зр╣Ар╕Ыр╣Зр╕Щр╕Юр╕▓р╕гр╣Мр╕Чр╣Др╕Фр╣Йр╣Ар╕Кр╣Ир╕Щ 2.1, 2.2, 2.3 р╣Ар╕Ыр╣Зр╕Щр╕Хр╣Йр╕Щ р╣Бр╕ер╣Йр╕зр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕Бр╕▒р╕Щ р╕гр╕░р╕Ър╕Ър╕лр╕ер╕▒р╕Зр╕Ър╣Йр╕▓р╕Щр╕Чр╕╡р╣Ир╕Ир╕░р╣Ар╕нр╕▓р╣Др╕зр╣Йр╣Бр╕Бр╣Йр╣Др╕Вр╕Хр╕▒р╕зр╣Ар╕Бр╕бр╣Бр╕ер╕░р╕Др╣Ир╕▓р╕Хр╣Ир╕▓р╕Зр╣Жр╕Вр╕нр╕Чр╕╕р╕Бр╕лр╕▒р╕зр╕Вр╣Йр╕нр╕Чр╕│р╣Ар╕Ыр╣Зр╕Щр╣Бр╕вр╕Бр╣Др╕Ыр╕нр╕╡р╕Бр╕лр╕Щр╣Йр╕▓р╣Вр╕Фр╕вр╕Ир╕░р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕гр╕лр╕▒р╕кр╣Бр╕нр╕Фр╕бр╕┤р╕Щр╕Цр╕╢р╕Зр╕Ир╕░р╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╣Др╕Фр╣Йр╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ир╕░р╣Ар╕Ыр╣Зр╕Щр╣Бр╕Ър╕Ър╣Ар╕гр╕╡р╕вр╕ер╣Др╕Чр╕бр╣Мр╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕Бр╕Фр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╣Йр╕зр╕Ир╕░р╣Ар╕лр╣Зр╕Щр╕Ьр╕ер╕Чр╕▒р╕Щр╕Чр╕╡
р╣Вр╕Ыр╕гр╣Ар╕Ир╕Др╕Щр╕╡р╣Йр╕Ир╕░р╕Ър╕Щр╕нр╕нр╕Щр╣Др╕ер╕Щр╣Мр╕Ър╕Щ github р╕Лр╕╢р╣Ир╕Зр╕Йр╕▒р╕Щр╕бр╕╡р╣Ар╕Хр╕гр╕╡р╕вр╕бр╣Др╕зр╣Йр╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕зр╣Ар╕лр╕ер╕╖р╕нр╣Бр╕Др╣Ир╕зр╕▓р╕Зр╣Др╕Яр╕ер╣Мр╕Бр╣Зр╕Юр╕гр╣Йр╕нр╕бр╕нр╕нр╕Щр╣Др╕ер╕Щр╣Мр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡
р╕Кр╣Ир╕зр╕вр╕кр╕гр╕╕р╕Ыр╣Бр╕ер╣Йр╕зр╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕бр╣Ар╕Вр╣Йр╕▓р╕бр╕▓р╣Гр╕Щр╕гр╕░р╕Ър╕Ър╕Щр╕╡р╣Йр╕Чр╕╡р╕Др╕зр╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Чр╕╕р╕Бр╣Др╕лр╕Щр╣Бр╕ер╣Йр╕зр╕Др╕зр╕гр╕бр╕╡р╕гр╕░р╕Ър╕Ър╣Др╕лр╕Щр╣Гр╕лр╣Йр╕Др╕гр╕Ър╕Чр╕╕р╕Бр╕лр╕бр╕зр╕Фр╕Вр╕нр╕Зр╣Ар╕Бр╕бр╕нр╕╡р╕Ыр╕┤р╕Бр╣Ар╕Лр╣Ар╕зр╣Ир╕Щр╕нр╕╡р╕Б

 - р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╣Ар╕Бр╕б
р╣Ар╕ер╣Ир╕Щр╕Ър╕Щ HTML + JS (Frontend 100%)
р╣Бр╕Ър╕Ъ Single Screen (р╣Др╕бр╣Ир╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕лр╕Щр╣Йр╕▓)
р╣Вр╕Чр╕Щр╕кр╕╡р╕бр╕╖р╕Ф р╣Ар╕гр╕╡р╕вр╕Ър╕лр╕гр╕╣ р╕Чр╕▒р╕Щр╕кр╕бр╕▒р╕в
UI р╣Гр╕Кр╣Й Pop-up р╣Др╕бр╣Ир╕вр╣Йр╕▓р╕вр╕лр╕Щр╣Йр╕▓
р╕гр╕░р╕Ър╕Ъ Auto Battle р╣Бр╕кр╕Фр╕Зр╕лр╕ер╕нр╕Ф SPD р╣Бр╕ер╕░р╣Ар╕ер╕╖р╕нр╕Ф
р╕бр╕╡р╕Эр╕▒р╣Ир╕Зр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ 4 р╕Бр╕▓р╕гр╣Мр╕Фр╕Ър╕Щ р╣Бр╕ер╕░р╕бр╕нр╕Щр╕кр╣Ар╕Хр╕нр╕гр╣М 4 р╣Гр╕Ър╕ер╣Ир╕▓р╕З
р╕Бр╕▓р╕гр╣Мр╕Фр╣Ар╕ер╕╖р╣Ир╕нр╕Щр╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╣Вр╕Ир╕бр╕Хр╕╡р╣Бр╕Ър╕Ъ Yu-Gi-Oh! animation
р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Чр╕▒р╣Йр╕Зр╕Др╕нр╕бр╣Бр╕ер╕░р╕бр╕╖р╕нр╕Цр╕╖р╕н (Responsive Design)
р╣Др╕Яр╕ер╣Мр╕ар╕▓р╕Юр╕Бр╕▓р╕гр╣Мр╕Фр╣Бр╕вр╕Бр╕ар╕▓р╕вр╕Щр╕нр╕Б (*.png)

- р╕Вр╣Йр╕нр╕Бр╕│р╕лр╕Щр╕Фр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М
р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╣Вр╕Др╣Йр╕Фр╕лр╕ер╕▒р╕Бр╕ар╕▓р╕вр╕лр╕ер╕▒р╕З
р╕лр╕▓р╕Бр╕бр╕╡р╕кр╕┤р╣Ир╕Зр╣Гр╕лр╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щр╣Др╕Яр╕ер╣Мр╣Бр╕вр╕Б р╣Др╕бр╣Ир╕Бр╕гр╕░р╕Чр╕Ър╣Др╕Яр╕ер╣Мр╕лр╕ер╕▒р╕Б
р╕Хр╣Йр╕нр╕Зр╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╣Др╕Яр╕ер╣Мр╕нр╕╖р╣Ир╕Щр╣Гр╕Щр╕нр╕Щр╕▓р╕Др╕Х (modular, JSON-based)
р╕Юр╕гр╣Йр╕нр╕б deploy р╕Ър╕Щ GitHub р╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡

- Character Data (р╕кр╣Ар╕Хр╕Хр╕▒р╕кр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г)	HP, ATK, DEF, SPD, CRIT Rate, CRIT DMG, Effectiveness р╕пр╕ер╕п (р╕Фр╕╢р╕Зр╕Ир╕▓р╕Б JSON)
Skill Set	Passive, Active Skill, Cooldown р╕пр╕ер╕п (р╕Чр╕│р╣Бр╕Ър╕Ъ modular р╣Др╕Фр╣Й)
Turn System (SPD Bar)	р╕лр╕ер╕нр╕Ф SPD р╕Др╣Ир╕нр╕вр╣Ж р╣Ар╕Хр╕┤р╕бр╕Хр╕▓р╕бр╕Др╣Ир╕▓р╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕з (SPD)
Auto AI	р╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в, р╣Гр╕Кр╣Йр╕кр╕Бр╕┤р╕ер╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕Хр╕▓р╕б Priority
Damage System	р╕Др╕│р╕Щр╕зр╕Ур╕Фр╕▓р╣Ар╕бр╕Ир╕Хр╕▓р╕бр╕кр╕╣р╕Хр╕г Epic Seven (р╕нр╕┤р╕Зр╕Ир╕▓р╕Б ATK, DEF, skill multiplier р╕пр╕ер╕п)
Buff/Debuff Engine	р╣Ар╕Кр╣Ир╕Щ stun, poison, burn, def break, attack up
Animation Engine	р╣Ар╕Кр╣Ир╕Щ Card slide to attack, show damage, show buff/debuff effect
Battle Result	р╕лр╕Щр╣Йр╕▓р╕кр╕гр╕╕р╕Ыр╕Ьр╕е (р╣Бр╕Юр╣Й/р╕Кр╕Щр╕░, р╕Фр╕гр╕нр╕Ыр╣Др╕нр╣Ар╕Чр╣Зр╕б, EXP, Level Up)

- р╕гр╕░р╕Ър╕Ър╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ
ЁЯЧ║я╕П р╣Бр╕Ьр╕Щр╕Чр╕╡р╣Ир╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ (Stage Map)	- р╕лр╕Щр╣Йр╕▓р╕Ир╕нр╣Ар╕ер╕╖р╕нр╕Бр╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щр╣Бр╕Ър╕Ъ тАЬр╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕ЫтАЭ
- р╣Бр╕Ър╣Ир╕Зр╣Ар╕Ыр╣Зр╕Щ Chapter/Zone
- р╣Бр╕Хр╣Ир╕ер╕░ Chapter р╕бр╕╡р╕лр╕ер╕▓р╕в Stage
ЁЯзЩтАНтЩВя╕П р╕ир╕▒р╕Хр╕гр╕╣р╕Хр╕▓р╕бр╕Фр╣Ир╕▓р╕Щ (Enemy Wave)	- р╕Хр╣Ир╕нр╕кр╕╣р╣Йр╣Ар╕Ыр╣Зр╕Щр╣Ар╕зр╕Я р╣Ар╕Кр╣Ир╕Щ 1-10 р╣Ар╕зр╕Я/р╕Фр╣Ир╕▓р╕Щ
- р╕ир╕▒р╕Хр╕гр╕╣р╕лр╕ер╕▓р╕Бр╕лр╕ер╕▓р╕в р╣Ар╕ер╣Ар╕зр╕ер╕Хр╣Ир╕▓р╕Зр╕Бр╕▒р╕Щр╕вр╕┤р╣Ир╕Зр╕гр╕░р╕Фр╕▒р╕Ър╕кр╕╣р╣Йр╕бр╕нр╕Щр╣Ар╕Хр╕нр╕гр╣Мр╕вр╕┤р╕Зр╣Ар╕Бр╣Ир╕З
ЁЯФБ р╕гр╕░р╕Ър╕Ър╕Ьр╣Ир╕▓р╕Щр╕Фр╣Ир╕▓р╕Щр╕Лр╣Йр╕│ (Repeat / Sweep)	- р╕Цр╣Йр╕▓р╕Ьр╣Ир╕▓р╕Щр╣Бр╕ер╣Йр╕з р╣Гр╕лр╣Йр╣Гр╕Кр╣Йр╕гр╕░р╕Ър╕Ъ тАЬр╕Яр╕▓р╕гр╣Мр╕бр╕Лр╣Йр╕│тАЭ р╣Вр╕Фр╕вр╣Гр╕Кр╣Йр╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щ
тП▒я╕П р╕гр╕░р╕Ър╕Ър╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щ (Energy/Stamina)	- р╕Хр╣Ир╕нр╕кр╕╣р╣Йр╣Бр╕Хр╣Ир╕ер╕░р╕Др╕гр╕▒р╣Йр╕Зр╣Гр╕Кр╣Йр╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щ (р╕Бр╕│р╕лр╕Щр╕Фр╣Гр╕Щ config)
ЁЯТе р╕гр╕░р╕Ър╕Ър╕гр╕▓р╕Зр╕зр╕▒р╕е	- р╣Др╕Фр╣Й EXP, р╣Др╕нр╣Ар╕Чр╣Зр╕б, р╣Ар╕Зр╕┤р╕Щр╣Ар╕Бр╕б, р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ъ
ЁЯФУ р╕гр╕░р╕Ър╕Ър╕Ыр╕ер╕Фр╕ер╣Зр╕нр╕Бр╕Фр╣Ир╕▓р╕Щ	- р╕Хр╣Йр╕нр╕Зр╕Ьр╣Ир╕▓р╕Щр╕Фр╣Ир╕▓р╕Щр╕Бр╣Ир╕нр╕Щр╕лр╕Щр╣Йр╕▓р╕Ир╕╢р╕Зр╕Ир╕░р╣Ар╕Ыр╕┤р╕Фр╕Фр╣Ир╕▓р╕Щр╕Цр╕▒р╕Фр╣Др╕Ы
ЁЯОо Auto Battle	- р╣Гр╕Кр╣Йр╕гр╕░р╕Ър╕Ъ auto battle р╕Чр╕╡р╣Ир╕Др╕╕р╕Ур╕Бр╕│р╕лр╕Щр╕Фр╣Др╕зр╣Йр╣Бр╕ер╣Йр╕з (SPD bar, animation, AI)
ЁЯУК р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й	- р╕кр╕гр╕╕р╕Ыр╕Кр╕▒р╕вр╕Кр╕Щр╕░/р╣Бр╕Юр╣Й
- р╣Др╕Фр╣Йр╕нр╕░р╣Др╕гр╕Ър╣Йр╕▓р╕З
- р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Ар╕ер╣Ар╕зр╕ер╕нр╕▒р╕Ыр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
ЁЯз░ р╕гр╕░р╕Ър╕Ър╕Др╕зр╕Ър╕Др╕╕р╕бр╕Ир╕▓р╕Б Admin	- р╣Бр╕Бр╣Йр╣Др╕Вр╕ир╕▒р╕Хр╕гр╕╣, р╕Фр╕гр╕нр╕Ы, EXP, р╣Ар╕Зр╕╖р╣Ир╕нр╕Щр╣Др╕Вр╕Ыр╕ер╕Фр╕ер╣Зр╕нр╕Бр╣Бр╕Хр╣Ир╕ер╕░р╕Фр╣Ир╕▓р╕Щ
ЁЯУБ р╕гр╕░р╕Ър╕Ъ Modular	- р╕Фр╣Ир╕▓р╕Щр╣Бр╕вр╕Бр╣Ар╕Ыр╣Зр╕Щр╣Др╕Яр╕ер╣М .json р╣Бр╕ер╕░р╣Вр╕лр╕ер╕Фр╕Ьр╣Ир╕▓р╕Щ script р╣Др╕Фр╣Й

- Skill Cooldown (CD) тАФ р╕кр╕Бр╕┤р╕ер╕Фр╕╡р╣Ар╕ер╕вр╣М р╕Ър╕▒р╕Я/р╕Фр╕╡р╕Ър╕▒р╕Я (Buff & Debuff System)
ЁЯФв Cooldown Start	р╣Ар╕гр╕┤р╣Ир╕бр╕Щр╕▒р╕Ър╣Ар╕бр╕╖р╣Ир╕нр╣Гр╕Кр╣Йр╕кр╕Бр╕┤р╕е (CD = x turn)
тП│ CD Reduce	р╕ер╕Ф CD р╣Ар╕бр╕╖р╣Ир╕нр╕Ир╕Ър╕гр╕нр╕Ъ р╕лр╕гр╕╖р╕нр╕Фр╣Йр╕зр╕вр╕Ър╕▒р╕Я/р╕кр╕Бр╕┤р╕ер╕Юр╕┤р╣Ар╕ир╕й
ЁЯФТ р╕кр╕Бр╕┤р╕ер╕Цр╕╣р╕Бр╕ер╣Зр╕нр╕Бр╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Др╕гр╕Ъ CD	р╣Бр╕кр╕Фр╕З тАЬcooldown numberтАЭ р╕Ър╕Щр╣Др╕нр╕Др╕нр╕Щ
тП▓я╕П CD Reset	р╕гр╕╡р╣Ар╕Лр╣Зр╕Х CD р╕Фр╣Йр╕зр╕вр╣Др╕нр╣Ар╕Чр╣Зр╕б, passive р╕лр╕гр╕╖р╕нр╣Ар╕Зр╕╖р╣Ир╕нр╕Щр╣Др╕Вр╕Юр╕┤р╣Ар╕ир╕й
ЁЯза р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Ъ AI	р╕лр╕▓р╕Бр╕кр╕Бр╕┤р╕ер╕вр╕▒р╕Зр╕нр╕вр╕╣р╣Ир╣Гр╕Щ CD р╣Гр╕лр╣Йр╣Ар╕ер╕╖р╕нр╕Б skill р╕нр╕╖р╣Ир╕Щр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
р╕гр╕░р╕Ър╕Ъ Buff / Debuff Engine
ЁЯЯв Buff (р╕Эр╣Ир╕▓р╕вр╣Ар╕гр╕▓)	ATKтЖС, DEFтЖС, SPDтЖС, Immune, Barrier, Heal over Time
ЁЯФ┤ Debuff (р╕Эр╣Ир╕▓р╕вр╕ир╕▒р╕Хр╕гр╕╣)	Poison, Burn, Stun, DEF Break, Skill Block, Silence
ЁЯФБ Duration	р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕бр╕╡ тАЬр╕Ир╕│р╕Щр╕зр╕Щ turnтАЭ р╣Ар╕Кр╣Ир╕Щ 2 turn, 3 turn
тП│ Countdown	р╕ер╕Ф duration р╕Чр╕╕р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣Ир╣Ар╕Чр╕┤р╕гр╣Мр╕Щр╕Ир╕Ъ
тЭМ р╕ер╕Ър╕кр╕Цр╕▓р╕Щр╕░	р╕Ър╕▓р╕Зр╕кр╕Бр╕┤р╕ер╕кр╕▓р╕бр╕▓р╕гр╕Цр╕ер╣Йр╕▓р╕З buff/debuff р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Др╕Фр╣Й
ЁЯЫбя╕П Immunity	р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Фр╕╡р╕Ър╕▒р╕Яр╣Гр╕лр╕бр╣Ир╣Ар╕Ыр╣Зр╕Щр╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓ N turn
ЁЯФА Stackable	р╕Ър╕▒р╕Я/р╕Фр╕╡р╕Ър╕▒р╕Яр╕Ър╕▓р╕Зр╕Кр╕Щр╕┤р╕Фр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Лр╣Йр╕нр╕Щр╕Бр╕▒р╕Щр╣Др╕Фр╣Й (р╣Ар╕Кр╣Ир╕Щ poison x2)
ЁЯОп р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕Ир╕│р╣Ар╕Юр╕▓р╕░	р╕Хр╕▒р╕зр╣Гр╕Фр╣Вр╕Фр╕Щ, р╣Гр╕Др╕гр╣Ар╕Ыр╣Зр╕Щр╕Др╕Щр╣Гр╕кр╣И, р╕Ир╕░р╕лр╕бр╕Фр╣Ар╕бр╕╖р╣Ир╕нр╣Др╕г
р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Гр╕Щ UI
ЁЯТм р╣Др╕нр╕Др╕нр╕Щ Buff/Debuff	р╣Бр╕кр╕Фр╕Зр╕Ър╕Щр╕бр╕╕р╕бр╕Бр╕▓р╕гр╣Мр╕Ф (р╣Ар╕Кр╣Ир╕Щ ATKтЖС, DEFтЖУ)
ЁЯФв р╕Хр╕▒р╕зр╣Ар╕ер╕В turn	р╕Хр╕▒р╕зр╣Ар╕ер╣Зр╕Бр╣Бр╕кр╕Фр╕З "2", "1", "р╕лр╕бр╕Ф" р╕Ър╕Щр╣Др╕нр╕Др╕нр╕Щ
ЁЯМА Animation	р╣Ар╕нр╕Яр╣Ар╕Яр╕Бр╕Хр╣Мр╣Ар╕Вр╣Йр╕▓/р╕нр╕нр╕Бр╣Ар╕бр╕╖р╣Ир╕нр╣Др╕Фр╣Йр╕Ър╕▒р╕Яр╕лр╕гр╕╖р╕нр╕ер╕Ъ
ЁЯза Tooltip	р╣Ар╕бр╕╖р╣Ир╕н hover/click р╕Чр╕╡р╣Ир╣Др╕нр╕Др╕нр╕Щ = р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕кр╕▒р╣Йр╕Щ р╣Ж
р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ
тЪФя╕П р╕гр╕░р╕Ър╕Ър╕Хр╣Ир╕нр╕кр╕╣р╣Й	р╣Гр╕Кр╣Й Buff/Debuff р╣Бр╕ер╕░ CD р╣Гр╕Щр╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╣Ар╕Чр╕┤р╕гр╣Мр╕Щ, р╕Фр╕▓р╣Ар╕бр╕И, AI
ЁЯУж Inventory	р╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕бр╕ер╕Ф CD / р╕ер╣Йр╕▓р╕З debuff
ЁЯзк р╕гр╕░р╕Ър╕Ър╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф	р╕нр╕▒р╕Ыр╣Ар╕ер╣Ар╕зр╕е skill тЖТ р╕ер╕Ф CD р╕лр╕гр╕╖р╕нр╣Ар╕Юр╕┤р╣Ир╕б turn р╕Вр╕нр╕Зр╕Ър╕▒р╕Я
ЁЯзЩтАНтЩВя╕П р╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ	р╕ир╕▒р╕Хр╕гр╕╣р╕бр╕╡р╕Ър╕▒р╕Яр╕Юр╕┤р╣Ар╕ир╕й р╣Ар╕Кр╣Ир╕Щ тАЬр╣Ар╕гр╕┤р╣Ир╕бр╣Ар╕Чр╕┤р╕гр╣Мр╕Щр╕бр╕╡ ATKтЖС 2 turnтАЭ
ЁЯза AI	р╣Ар╕ер╕╖р╕нр╕Бр╣Гр╕Кр╣Йр╕кр╕Бр╕┤р╕ер╕Хр╕▓р╕б CD р╣Бр╕ер╕░р╕кр╕Цр╕▓р╕Щр╕░р╕Вр╕нр╕Зр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в
ЁЯУК Battle Result	р╕кр╕гр╕╕р╕Ыр╕зр╣Ир╕▓р╣Гр╕Др╕гр╣Ар╕Др╕вр╕Хр╕┤р╕Фр╕нр╕░р╣Др╕гр╕Ър╣Йр╕▓р╕Зр╣Гр╕Щр╣Бр╕Хр╣Ир╕ер╕░р╕Фр╣Ир╕▓р╕Щ (optional)
ЁЯЫа Admin Panel	р╕Ыр╕гр╕▒р╕Ър╕Др╣Ир╕▓ CD / р╣Ар╕Ыр╕┤р╕Ф skill р╣Гр╕лр╕бр╣И / р╕Ыр╕┤р╕Ф skill р╣Ар╕Йр╕Юр╕▓р╕░р╕Бр╕┤р╕И

- р╕гр╕░р╕Ър╕Ър╕Хр╣Ир╕нр╕кр╕╣р╣Й
р╕гр╕░р╕Ър╕Ър╕Хр╣Ир╕нр╕кр╕╣р╣Й (Battle System)
тЬи р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ Auto-Battle Turn System р╣Бр╕Ър╕Ъ Epic Seven:
р╕гр╕░р╕Ър╕Ъ SPD Bar р╕Чр╕╡р╣Ир╕кр╕░р╕кр╕б: р╣Бр╕Хр╣Ир╕ер╕░р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Бр╕кр╕Фр╕З bar 
р╣Ар╕бр╕╖р╣Ир╕н bar р╣Ар╕Хр╣Зр╕бр╕лр╕ер╕нр╕Ф р╕Хр╕▒р╕зр╕Щр╕▒р╣Йр╕Щр╕Цр╕╢р╕Зр╣Вр╕Ир╕бр╕Хр╕╡р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ (AI)
р╣Ар╕бр╕╖р╣Ир╕нр╣Вр╕Ир╕бр╕Хр╕╡: р╣Ар╕Ыр╣Зр╕Щр╕Бр╕▓р╕гр╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕Фр╣Йр╕зр╕в AI р╕Ир╕▓р╕Бр╕ер╕│р╕Фр╕▒р╕Ъ priority р╣Гр╕Щр╕Бр╕▓р╕гр╣Гр╕Кр╣Й skill
р╕кр╕╣р╕Хр╕гр╕ар╕▓р╕Юр╕Бр╕▓р╕гр╣Вр╕Ир╕бр╕Хр╕╡:
р╕Бр╕▓р╕гр╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Бр╕▓р╕гр╣Мр╕Фр╣Др╕Ыр╣Вр╕Ир╕бр╕Хр╕╡ р╣Ар╕Ыр╣Зр╕Щ animation slide (card slide to target)
р╣Бр╕кр╕Фр╕Зр╣Ар╕ер╕╖р╕нр╕Фр╕▓р╣Ар╕бр╕И р╣Ар╕Ыр╣Зр╕Щ popup number р╣Вр╕Ьр╕вр╕Ир╕╕р╕Ф
р╕Ър╕▓р╕З attack р╕кр╕▓р╕бр╕▓р╕гр╕Р: ATK, DEF, Multiplier, CRIT
р╕Ър╕▓р╕З debuff: burn, poison, stun, defense break
р╕гр╕░р╕Ър╕Ъ Status Effect UI р╕Ър╕Щр╕Бр╕▓р╕гр╣Мр╕Ф
р╕Ьр╕ер╕ер╕▒р╕Юр╕Бр╕▓р╕г:
р╕гр╕▓р╕вр╕Зр╕Ьр╕ер╕Чр╕╡р╣Ир╕кр╕╣р╣Й: Win / Lose
р╣Бр╕кр╕Фр╕З EXP р╕Вр╕нр╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г, Drop Item
р╕Бр╕▓р╕г Level Up
р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ:
UI р╕кр╕зр╕вр╕лр╕Щр╣Йр╕▓р╣Гр╕лр╕бр╣И: team.html
р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕ер╕░р╕Др╕г JSON р╕Чр╕╡р╣Ир╣Ар╕ер╕╖р╕нр╕Б
р╕Хр╕гр╕зр╕Ир╕кр╣Ар╕Хр╕Хр╕▒р╕кр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г р╣Бр╕ер╕░р╕бр╕нр╕Щр╕кр╣Ар╕Хр╕нр╕гр╣Мр╕Чр╕╕р╕Бр╕Хр╕▒р╕з AI р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Вр╕Ир╕бр╕Хр╕╡
р╣Вр╕Ир╕бр╕Хр╕╡р╕Ыр╕Бр╕Хр╕┤ (Single Target Attack)
Animation:
р╕Бр╕▓р╕гр╣Мр╕Фр╕Ьр╕╣р╣Йр╣Вр╕Ир╕бр╕Хр╕╡ тАЬр╣Ар╕ер╕╖р╣Ир╕нр╕ЩтАЭ р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Кр╕Щр╕Бр╕▓р╕гр╣Мр╕Фр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в (slide-in)
р╣Ар╕бр╕╖р╣Ир╕нр╕Кр╕Щ р╣Бр╕кр╕Фр╕Зр╣Ар╕нр╕Яр╣Ар╕Яр╕Бр╕Хр╣М тАЬhitтАЭ + popup damage
р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Бр╕ер╕▒р╕Ър╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╣Ар╕Фр╕┤р╕б
UI/р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╣Ар╕Кр╕╖р╣Ир╕нр╕б
battle.js, ai.js, animationEngine.js
р╣Гр╕Кр╣Йр╕кр╣Ар╕Хр╕Хр╕▒р╕кр╕Ир╕▓р╕Б char.json р╣Бр╕ер╕░р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕кр╣Ир╕Зр╕Бр╕ер╕▒р╕Ър╣Др╕Ыр╕Чр╕╡р╣И result.js
р╣Вр╕Ир╕бр╕Хр╕╡р╕лр╕бр╕╣р╣И (AoE Attack)
Animation:
р╕Бр╕▓р╕гр╣Мр╕Фр╣Вр╕Ир╕бр╕Хр╕╡ тАЬр╣Ар╕ер╕╖р╣Ир╕нр╕Щр╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Бр╕ер╕▓р╕Зр╕кр╕Щр╕▓р╕бтАЭ р╣Бр╕ер╣Йр╕зр╕Ыр╕ер╣Ир╕нр╕вр╕Др╕ер╕╖р╣Ир╕Щр╕лр╕гр╕╖р╕нр╣Бр╕кр╕Зр╕Юр╕╕р╣Ир╕Зр╣Др╕Ыр╕вр╕▒р╕Зр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕Чр╕╕р╕Бр╣Гр╕Ъ
р╕Чр╕╕р╕Бр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╣Бр╕кр╕Фр╕Зр╣Ар╕нр╕Яр╣Ар╕Яр╕Бр╕Хр╣Мр╣Вр╕Фр╕Щр╕Хр╕╡р╣Бр╕ер╕░ popup damage р╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ
р╣Ар╕кр╕╡р╕вр╕З/р╣Бр╕кр╕З:
р╣Ар╕нр╕Яр╣Ар╕Яр╕Бр╕Хр╣Мр╣Ар╕кр╕╡р╕вр╕З + р╣Бр╕кр╕Зр╕Бр╕ер╕▓р╕Зр╕кр╕Щр╕▓р╕б
UI/р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╣Ар╕Кр╕╖р╣Ир╕нр╕б:
effect.js (р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Гр╕кр╣И debuff), battle.js (р╕ер╕╣р╕Ыр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в)
р╕Фр╕╢р╕Зр╕кр╕Бр╕┤р╕ер╕Ир╕▓р╕Б data/char/[id].json тЖТ р╕Хр╕гр╕зр╕Ир╕зр╣Ир╕▓ skill.type = "aoe"
р╕Хр╣Йр╕нр╕Зр╕бр╕╡ animationEngine.js р╣Бр╕вр╕Бр╕Ир╕▒р╕Фр╕Бр╕▓р╕г movement / effect layer
р╕ор╕╡р╕е (Heal Skill)
Animation:
р╕Бр╕▓р╕гр╣Мр╕Фр╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕бр╕▓р╕Кр╕┤р╕Фр╕Бр╕ер╕▓р╕Зр╕кр╕Щр╕▓р╕б тЖТ р╣Бр╕кр╕Фр╕Зр╣Ар╕нр╕Яр╣Ар╕Яр╕Бр╕Хр╣М тАЬр╕Юр╕ер╕▒р╕Зр╕Яр╕╖р╣Йр╕Щр╕Яр╕╣тАЭ р╕Юр╕╕р╣Ир╕Зр╣Др╕Ыр╕лр╕▓р╕Хр╕▒р╕зр╕Чр╕╡р╣Ир╕ор╕╡р╕е (р╕нр╕▓р╕Ир╕лр╕ер╕▓р╕вр╕Хр╕▒р╕з)
р╣Бр╕кр╕Фр╕З +HP popup р╕Юр╕гр╣Йр╕нр╕бр╣Ар╕нр╕Яр╣Ар╕Яр╕Бр╕Хр╣Мр╕кр╕╡р╣Ар╕Вр╕╡р╕вр╕з
р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╣Ар╕Кр╕╖р╣Ир╕нр╕б:
effect.js р╕кр╕│р╕лр╕гр╕▒р╕Ъ Heal over time р╕лр╕гр╕╖р╕н Immediate Heal
battle.js р╕Хр╕гр╕зр╕Ир╕зр╣Ир╕▓ skill.type = "heal" тЖТ р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щр╕Эр╣Ир╕▓р╕вр╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Щ
р╕Ър╕▒р╕Я (Buff Skill р╣Ар╕Кр╣Ир╕Щ ATKтЖС, SPDтЖС)
Animation:
р╣Бр╕кр╕Фр╕Зр╕зр╕Зр╣Бр╕кр╕Зр╕ер╣Йр╕нр╕бр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в р╕лр╕гр╕╖р╕нр╕кр╕▒р╕Нр╕ер╕▒р╕Бр╕йр╕Ур╣Мр╣Ар╕Йр╕Юр╕▓р╕░
р╣Бр╕кр╕Фр╕З popup тАЬATKтЖСтАЭ тАЬSPDтЖСтАЭ р╕Юр╕гр╣Йр╕нр╕бр╣Др╕нр╕Др╕нр╕Щр╕Ыр╕гр╕▓р╕Бр╕Пр╕Чр╕╡р╣Ир╕бр╕╕р╕бр╕Бр╕▓р╕гр╣Мр╕Ф
р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╣Ар╕Кр╕╖р╣Ир╕нр╕б:
effect.js р╣Гр╕кр╣Ир╕Ър╕▒р╕Я, р╣Ар╕Юр╕┤р╣Ир╕б duration
animationEngine.js р╣Бр╕кр╕Фр╕Зр╣Др╕нр╕Др╕нр╕Щ, tooltip, popup
battle.js р╕Хр╕гр╕зр╕Ир╕зр╣Ир╕▓ skill.buff р╣Др╕бр╣Ир╣Ар╕Ыр╣Зр╕Щ null тЖТ р╣Ар╕гр╕╡р╕вр╕Б applyBuff()
р╕кр╕Бр╕┤р╕ер╕Хр╕┤р╕Фр╕кр╕Цр╕▓р╕Щр╕░ (Debuff р╣Ар╕Кр╣Ир╕Щ Stun, DEFтЖУ)
Animation:
р╣Ар╕лр╕бр╕╖р╕нр╕Щр╕Бр╕▒р╕Ъ AoE/Single Target р╣Бр╕Хр╣Ир╕бр╕╡р╣Ар╕нр╕Яр╣Ар╕Яр╕Бр╕Хр╣Мр╣Ар╕Юр╕┤р╣Ир╕б р╣Ар╕Кр╣Ир╕Щ тАЬр╣Вр╕Лр╣ИтАЭ, тАЬр╕лр╕бр╕нр╕Бр╕Юр╕┤р╕йтАЭ
р╕Ър╕Щр╕Бр╕▓р╕гр╣Мр╕Фр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕бр╕╡р╣Др╕нр╕Др╕нр╕Щр╕Фр╕╡р╕Ър╕▒р╕Я + countdown turn
р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╣Ар╕Кр╕╖р╣Ир╕нр╕б:
effect.js тЖТ applyDebuff()
battle.js тЖТ р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕Хр╕нр╕Щр╣Ар╕Чр╕┤р╕гр╣Мр╕Щр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в р╣Ар╕Кр╣Ир╕Щ stun = skip turn
р╕Ир╕╕р╕Фр╕Чр╕╡р╣Ир╕Др╕зр╕гр╕Чр╕│ (р╣Ар╕Кр╕┤р╕Зр╣Ар╕Чр╕Др╕Щр╕┤р╕Д)
1. animationEngine.js	р╣Бр╕вр╕Бр╣Др╕Яр╕ер╣Мр╣Ар╕Юр╕╖р╣Ир╕нр╕Ир╕▒р╕Фр╕Бр╕▓р╕г "slide", "bounce", "glow", "shake" р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Мр╕Ф р╣Бр╕ер╕░р╕кр╕Бр╕┤р╕е
2. popupManager.js	р╣Бр╕вр╕Бр╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╣Бр╕кр╕Фр╕Зр╕Хр╕▒р╕зр╣Ар╕ер╕Вр╕Фр╕▓р╣Ар╕бр╕И, Heal, Buff Text
3. cardEffectLayer (HTML)	<div class="effect-layer"> р╕Лр╣Йр╕нр╕Щр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕гр╣Мр╕Фр╣Др╕зр╣Йр╣Ар╕Юр╕╖р╣Ир╕нр╣Бр╕кр╕Фр╕З FX р╣Бр╕Ър╕Ъ Overlay
4. skillProcessor.js	р╕Др╕│р╕Щр╕зр╕Ур╕Ьр╕ер╕кр╕Бр╕┤р╕ер╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф тЖТ return р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М (target, heal, buff, debuff, damage)
5. AI Selector	р╣Ар╕Юр╕┤р╣Ир╕б logic р╣Ар╕ер╕╖р╕нр╕Бр╣Гр╕Кр╣Й skill р╣Ар╕лр╕бр╕▓р╕░р╕кр╕б р╣Ар╕Кр╣Ир╕Щ р╕кр╕Бр╕┤р╕ер╕лр╕бр╕╣р╣Ир╕Цр╣Йр╕▓р╕бр╕нр╕Щр╕бр╕╡р╕бр╕▓р╕Бр╕Бр╕зр╣Ир╕▓ 2 р╕Хр╕▒р╕з
р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н
battle.js	р╕Др╕зр╕Ър╕Др╕╕р╕бр╣Ар╕Чр╕┤р╕гр╣Мр╕Щ, р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е SPD bar, р╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Йр╕кр╕Бр╕┤р╕е, р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в
effect.js	р╕Ир╕▒р╕Фр╕Бр╕▓р╕г Buff, Debuff, Heal, Duration
animationEngine.js	р╣Бр╕кр╕Фр╕Зр╕Бр╕▓р╕гр╣Мр╕Фр╣Ар╕ер╕╖р╣Ир╕нр╕Щ, р╣Ар╕нр╕Яр╣Ар╕Яр╕Бр╕Хр╣Мр╣Вр╕Ир╕бр╕Хр╕╡, Heal/Buff
char.json, skill.json	р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕Бр╕┤р╕е р╣Ар╕Кр╣Ир╕Щ type, power, target, CD, effect
ai.js	р╣Гр╕лр╣Йр╕ир╕▒р╕Хр╕гр╕╣р╣Ар╕ер╕╖р╕нр╕Бр╕кр╕Бр╕┤р╕е/р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕Хр╕▓р╕бр╣Ар╕Зр╕╖р╣Ир╕нр╕Щр╣Др╕В р╣Ар╕Кр╣Ир╕Щ р╣Ар╕ер╕╖р╕нр╕Бр╕ор╕╡р╕ер╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Фр╕Щр╣Йр╕нр╕вр╕кр╕╕р╕Ф
ui.js	р╣Гр╕Кр╣Йр╕Др╕зр╕Ър╕Др╕╕р╕б Pop-up / р╣Ар╕Ыр╕┤р╕Фр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕гр╕░р╕лр╕зр╣Ир╕▓р╕Зр╕Хр╣Ир╕нр╕кр╕╣р╣Й (tooltip р╕кр╕Бр╕┤р╕е, turn bar)

- р╕гр╕░р╕Ър╕Ър╕Др╕ер╕▒р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕б
р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╕Др╕ер╕▒р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Чр╕╡р╣Ир╕Др╕зр╕гр╕бр╕╡
р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М	р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф
ЁЯУж р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф	р╕Юр╕гр╣Йр╕нр╕бр╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕бр╕╡, р╕Кр╕╖р╣Ир╕н, р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в
ЁЯз░ р╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡	р╣Ар╕Кр╣Ир╕Щ EXP Potion, Skill Book
ЁЯзк р╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕бр╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф	р╣Ар╕Кр╣Ир╕Щ Rune р╕лр╕гр╕╖р╕нр╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Вр╕▒р╣Йр╕Щ
ЁЯФТ р╕ер╣Зр╕нр╕Бр╕Ър╕▓р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Др╕бр╣Ир╣Гр╕лр╣Йр╕Вр╕▓р╕вр╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Йр╕Юр╕ер╕▓р╕Ф	
ЁЯФД Sort / Filter	р╣Ар╕гр╕╡р╕вр╕Зр╕Хр╕▓р╕бр╕лр╕бр╕зр╕Ф: р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ъ, р╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б, EXP, Rune р╕пр╕ер╕п
ЁЯУЬ Scroll р╣Бр╕Щр╕зр╕Хр╕▒р╣Йр╕Зр╣Бр╕Ър╕Ъ Responsive	р╣Бр╕кр╕Фр╕Зр╣Ар╕Ыр╣Зр╕Щр╕Хр╕▓р╕гр╕▓р╕Зр╣Др╕нр╕Др╕нр╕Щр╣Гр╕Щр╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕Ыр╣Бр╕Ър╕Ър╕Бр╕░р╕Чр╕▒р╕Фр╕гр╕▒р╕Ф
UI р╣Бр╕Ър╕Ъ Pop-up
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ р╕Др╕ер╕▒р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕б (Item Inventory)     ЁЯФН р╕Др╣Йр╕Щр╕лр╕▓ тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ ЁЯзк р╣Др╕нр╣Ар╕Чр╣Зр╕б 1  (x99)        ЁЯУШ р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в  тФВ
тФВ ЁЯТа р╣Др╕нр╣Ар╕Чр╣Зр╕б 2  (x32)        ЁЯУШ р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в  тФВ
тФВ ЁЯз▒ р╣Др╕нр╣Ар╕Чр╣Зр╕б 3  (x11)        ЁЯУШ р╣Гр╕Кр╣Йр╣Ар╕ер╕в     тФВ
тФВ ... (р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕ер╕Зр╕Фр╕╣р╣Ар╕Юр╕┤р╣Ир╕б) ...             тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
р╕Др╕ер╕┤р╕Бр╣Бр╕Хр╣Ир╕ер╕░р╣Др╕нр╣Ар╕Чр╣Зр╕б тЖТ р╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕Ыр╕вр╣Ир╕нр╕вр╕Вр╕╢р╣Йр╕Щр╕бр╕▓: р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф, р╕Ыр╕╕р╣Ир╕б "р╣Гр╕Кр╣Й", р╕Ыр╕╕р╣Ир╕б "р╕вр╕╖р╕Щр╕вр╕▒р╕Щ"
р╣Ар╕Чр╕Др╕Щр╕┤р╕Др╕ер╕Фр╕Др╕зр╕▓р╕бр╕гр╕Бр╣Гр╕Щ UI
тЭДя╕П р╣Гр╕Кр╣Й grid р╣Бр╕Ър╕Ъ 4x3 р╕лр╕гр╕╖р╕н 5x4 (Responsive)
тмЗя╕П р╣Бр╕кр╕Фр╕Зр╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 20 р╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Хр╣Ир╕нр╕лр╕Щр╣Йр╕▓р╕Ир╕н тЖТ scroll р╣Бр╕Щр╕зр╕Хр╕▒р╣Йр╕З
ЁЯФД р╕Ыр╕╕р╣Ир╕б тАЬSort / FilterтАЭ р╣Ар╕Юр╕╖р╣Ир╕нр╕Лр╣Ир╕нр╕Щр╕лр╕бр╕зр╕Фр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╣Гр╕Кр╣Й
ЁЯза р╣Гр╕Кр╣Й icon р╕Вр╕Щр╕▓р╕Фр╣Ар╕ер╣Зр╕Б р╕Юр╕гр╣Йр╕нр╕б tooltip р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╣Бр╕Ър╕Ър╣Др╕бр╣Ир╣Ар╕Ыр╕ер╕╖р╕нр╕Зр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣И
р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Вр╕вр╕Зр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ
ЁЯЧ║я╕П р╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ	р╕Фр╕гр╕нр╕Ыр╣Др╕нр╣Ар╕Чр╣Зр╕б тЖТ р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щ inventory
ЁЯзк р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф	р╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Ар╕Кр╣Ир╕Щ EXP Potion, Rune, Skill Book
ЁЯОБ Redeem Code	р╕гр╕▒р╕Ър╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣И inventory р╣Вр╕Фр╕вр╕Хр╕гр╕З
ЁЯПк р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓	р╕Лр╕╖р╣Йр╕нр╣Др╕нр╣Ар╕Чр╣Зр╕б тЖТ р╣Ар╕Вр╣Йр╕▓р╕Др╕ер╕▒р╕Зр╕Чр╕▒р╕Щр╕Чр╕╡
ЁЯзй р╕Бр╕▓р╕Кр╕▓	р╣Гр╕Кр╣Йр╕Хр╕▒р╣Лр╕зр╕Бр╕▓р╕Кр╕▓/р╣Ар╕Юр╕Кр╕гр╕Ир╕▓р╕Б inventory
ЁЯЫа Admin Panel	р╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ър╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Гр╕Щ inventory р╕Вр╕нр╕Зр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ
тЪФя╕П р╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й	р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕Зр╕зр╕▒р╕ер╕лр╕ер╕▒р╕Зр╕Ир╕Ър╕Фр╣Ир╕▓р╕Щ тЖТ р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щ inventory
ЁЯФз р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕▓р╕Б Pop-up	р╣Ар╕бр╕╖р╣Ир╕нр╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕б тЖТ р╕ер╕Фр╕Ир╕│р╕Щр╕зр╕Щр╕ер╕Зр╣Бр╕ер╕░р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Чр╕▒р╕Щр╕Чр╕╡

- р╕гр╕░р╕Ър╕Ър╕Др╕ер╕▒р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г
р╣Ар╕Бр╣Зр╕Ъ р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Чр╕╡р╣Ир╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╣Ар╕Ыр╣Зр╕Щр╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕З
р╕бр╕╡р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕кр╣Ар╕Хр╕Хр╕▒р╕кр╣Бр╕Ър╕Ър╣Ар╕Хр╣Зр╕б р╣Ар╕Кр╣Ир╕Щ:
Level, EXP
HP / ATK / DEF / SPD / CRIT р╕пр╕ер╕п
Skill Level, Passive
р╕кр╕Цр╕▓р╕Щр╕░: р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Чр╕╡р╕б, р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕гр╕╣р╕Щ, lock/unlock
ЁЯЯе р╕Бр╕ер╣Ир╕нр╕З Pop-up р╕Др╕гр╕╢р╣Ир╕Зр╕лр╕Щр╣Йр╕▓р╕Ир╕нр╕Цр╕╢р╕Зр╣Ар╕Хр╣Зр╕бр╕Ир╕н
тФЬтФАтФА ЁЯФО р╣Бр╕Цр╕Ър╕Др╣Йр╕Щр╕лр╕▓ / р╕Хр╕▒р╕зр╕Бр╕гр╕нр╕З / Sort
тФЬтФАтФА ЁЯФБ Tabs р╣Бр╕вр╕Бр╕лр╕бр╕зр╕Ф (р╕Хр╕▓р╕бр╕Фр╕▓р╕з, р╕Шр╕▓р╕Хр╕╕, р╕Чр╕╡р╕б р╕пр╕ер╕п)
тФЬтФАтФА ЁЯЯж Grid р╣Бр╕кр╕Фр╕Зр╕Бр╕▓р╕гр╣Мр╕Ф (Scroll р╣Бр╕Щр╕зр╕Хр╕▒р╣Йр╕З)
тФВ     тФЬтФАтФА р╣Ар╕гр╕╡р╕вр╕Зр╣Бр╕Ър╕Ъ Responsive р╣Ар╕Кр╣Ир╕Щ 3x4 (р╕бр╕╖р╕нр╕Цр╕╖р╕н), 6x4 (PC)
тФВ     тФЬтФАтФА р╣Гр╕Кр╣Й Lazy Load р╣Ар╕Юр╕╖р╣Ир╕нр╣Др╕бр╣Ир╣Вр╕лр╕ер╕Фр╕Чр╕╡р╣Ар╕Фр╕╡р╕вр╕зр╕Чр╕╕р╕Бр╣Гр╕Ъ
тФЬтФАтФА тД╣я╕П р╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕Ыр╕вр╣Ир╕нр╕в (р╣Ар╕бр╕╖р╣Ир╕нр╕Др╕ер╕┤р╕Бр╕Бр╕▓р╕гр╣Мр╕Ф): р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Хр╣Зр╕бр╕Вр╕нр╕Зр╕Хр╕▒р╕зр╕Щр╕▒р╣Йр╕Щ
р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М UI р╕лр╕ер╕▒р╕Б
ЁЯФН р╕Др╣Йр╕Щр╕лр╕▓р╕Кр╕╖р╣Ир╕нр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г	р╕Юр╕┤р╕бр╕Юр╣Мр╕Кр╕╖р╣Ир╕нр╣Бр╕ер╣Йр╕зр╕Бр╕гр╕нр╕Зр╕Чр╕▒р╕Щр╕Чр╕╡
ЁЯФД Sort	р╣Ар╕гр╕╡р╕вр╕Зр╕Хр╕▓р╕бр╕Фр╕▓р╕з, р╣Ар╕ер╣Ар╕зр╕е, р╣Ар╕ер╕╖р╕нр╕Бр╕Чр╕╡р╕б, р╕Др╕зр╕▓р╕бр╕лр╕▓р╕вр╕▓р╕Б р╕пр╕ер╕п
ЁЯП╖я╕П Filter	р╕Бр╕гр╕нр╕Зр╕Хр╕▓р╕бр╕Шр╕▓р╕Хр╕╕ (р╣Др╕Я р╕Щр╣Йр╕│ р╕ер╕б р╕бр╕╖р╕Ф р╣Бр╕кр╕З), р╕Др╕ер╕▓р╕к (р╣Бр╕Чр╣Зр╕Зр╕Др╣М р╕ор╕╡р╕е р╕пр╕ер╕п)
ЁЯУЬ Scroll р╣Бр╕Щр╕зр╕Хр╕▒р╣Йр╕З	р╕Бр╕Фр╣Бр╕ер╣Йр╕зр╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Фр╕╣р╣Др╕Фр╣Йр╕вр╕▓р╕з р╣Бр╕Хр╣Ир╣Др╕бр╣Ир╕Бр╕┤р╕Щр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╣Бр╕Щр╕зр╕Щр╕нр╕Щ
ЁЯзК р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ тАЬCard GridтАЭ	р╣Бр╕кр╕Фр╕Зр╣Ар╕Ыр╣Зр╕Щр╕Бр╕ер╣Ир╕нр╕З 1 р╕Хр╕▒р╕з/р╕Кр╣Ир╕нр╕З р╕Юр╕гр╣Йр╕нр╕бр╣Др╕нр╕Др╕нр╕Щр╕Фр╕▓р╕з/р╣Ар╕ер╣Ар╕зр╕е
ЁЯз░ Lazy Loading	р╣Вр╕лр╕ер╕Фр╣Ар╕Йр╕Юр╕▓р╕░р╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б р╣Бр╕ер╣Йр╕зр╕Др╣Ир╕нр╕вр╣Вр╕лр╕ер╕Фр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕ер╕З
ЁЯза Responsive Design	р╕бр╕╖р╕нр╕Цр╕╖р╕н = 2-3 р╕Бр╕▓р╕гр╣Мр╕Ф/р╣Бр╕Цр╕з, PC = 5-6 р╕Бр╕▓р╕гр╣Мр╕Ф/р╣Бр╕Цр╕з
р╕Ир╕╕р╕Фр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Вр╕нр╕З тАЬр╕Др╕ер╕▒р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гтАЭ р╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ
ЁЯОп р╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕Кр╕▓	р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Чр╕╡р╣Ир╕кр╕╕р╣Ир╕бр╣Др╕Фр╣Й тЖТ р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Вр╣Йр╕▓ character list р╕Вр╕нр╕Зр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ
ЁЯзЩтАНтЩВя╕П р╕гр╕░р╕Ър╕Ър╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ	р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╕Ир╕▓р╕Бр╕Др╕ер╕▒р╕Зр╣Др╕Ыр╕ер╕Зр╕кр╕╣р╣Й
тЪФя╕П р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╕б	р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╕Ир╕▓р╕Бр╕Др╕ер╕▒р╕Зр╕бр╕▓р╣Гр╕кр╣Ир╣Гр╕Щр╕Чр╕╡р╕б 4 р╕Хр╕▒р╕з
ЁЯзк р╕гр╕░р╕Ър╕Ър╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф	р╣Гр╕Кр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щр╕Др╕ер╕▒р╕Зр╣Гр╕Щр╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╣Ар╕ер╣Ар╕зр╕е, р╕кр╕Бр╕┤р╕е р╕пр╕ер╕п
ЁЯЫа р╕гр╕░р╕Ър╕Ър╕лр╕ер╕▒р╕Зр╕Ър╣Йр╕▓р╕Щ (admin.html)	р╣Бр╕нр╕Фр╕бр╕┤р╕Щр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ър╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Гр╕лр╣Йр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ
ЁЯПк р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓	р╕Лр╕╖р╣Йр╕нр╣Бр╕ер╣Йр╕зр╣Ар╕Юр╕┤р╣Ир╕бр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╣Гр╕Щр╕Др╕ер╕▒р╕З
ЁЯУд Redeem Code	р╕гр╕▒р╕Ър╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Ьр╣Ир╕▓р╕Щр╣Вр╕Др╣Йр╕Фр╣Бр╕ер╣Йр╕зр╣Ар╕Вр╣Йр╕▓р╕Др╕ер╕▒р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
ЁЯУК Battle Result	р╣Ар╕Юр╕┤р╣Ир╕б EXP р╣Гр╕лр╣Йр╕Бр╕▒р╕Ър╕Хр╕▒р╕зр╣Гр╕Щр╕Др╕ер╕▒р╕Зр╕лр╕ер╕▒р╕Зр╕Ир╕Ър╕Фр╣Ир╕▓р╕Щ
ЁЯФТ р╕гр╕░р╕Ър╕Ъ Lock/Unlock	р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕ер╣Зр╕нр╕Бр╣Др╕бр╣Ир╣Гр╕лр╣Йр╕Хр╕▒р╕зр╕Щр╕▒р╣Йр╕Щр╕Цр╕╣р╕Бр╕ер╕Ър╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╕▒р╣Йр╕Зр╣Гр╕И

- р╕гр╕░р╕Ър╕Ъ тАЬр╕кр╕зр╕бр╣Гр╕кр╣Ир╕гр╕╣р╕Щ (Rune System)тАЭ
р╕нр╕Зр╕Др╣Мр╕Ыр╕гр╕░р╕Бр╕нр╕Ър╕Вр╕нр╕Зр╕гр╕╣р╕Щ (Rune Slot + Property)
р╕гр╕╣р╕Щ	р╕Кр╣Ир╕нр╕З	р╕кр╣Ар╕Хр╕Хр╕▒р╕кр╕лр╕ер╕▒р╕Б	р╕кр╣Ар╕Хр╕Хр╕▒р╕кр╕гр╕нр╕З (р╕кр╕╕р╣Ир╕б)	р╣Ар╕Лр╣Зр╕Х (р╕Цр╣Йр╕▓р╣Гр╕кр╣Ир╕Др╕гр╕Ър╕Ир╕░р╕бр╕╡р╕Ър╕▒р╕Яр╕Юр╕┤р╣Ар╕ир╕й)
ATK Rune	Slot 1	ATK + %	HP%, SPD, CRIT	Rage (ATK+35%)
SPD Rune	Slot 2	SPD	ATK%, DEF, HP	Speed Set (SPD+25%)
CRIT Rune	Slot 4	CRIT%	ATK%, SPD, Effectiveness	Critical Set (CRIT+12%)
UI р╕кр╕зр╕бр╣Гр╕кр╣Ир╕гр╕╣р╕Щ (Pop-up р╣Бр╕Ър╕Ъ Responsive)
тФМтФАтФАтФАтФАтФА р╕гр╕╣р╕Щр╕Вр╕нр╕З Astra тФАтФАтФАтФАтФАтФР
тФВ Slot 1: [SPD Rune +25] (x) тФВ
тФВ Slot 2: [ATK Rune +15%] (x) тФВ
тФВ Slot 3: [р╕зр╣Ир╕▓р╕З]       [+ р╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕╣р╕Щ] тФВ
тФВ ...                          тФВ
тФВ ЁЯОп р╕Ър╕▒р╕Яр╣Ар╕Лр╣Зр╕Х: Speed Set (SPD +25%) тФВ
тФВ [р╕Цр╕нр╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф] [р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б]         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
тЬЕ р╣Бр╕кр╕Фр╕Зр╕гр╕╣р╕Щр╕Чр╕╡р╣Ир╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З + р╕Ыр╕╕р╣Ир╕б тАЬр╕Цр╕нр╕Ф / р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕ЩтАЭ
ЁЯФД р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Др╣Ир╕▓ р╣Ар╕Кр╣Ир╕Щ SPD +15 тЖТ +40
тЪая╕П р╕Хр╕гр╕зр╕Ир╣Ар╕Кр╣Зр╕Др╣Ар╕Лр╣Зр╕Хр╕Др╕гр╕Ър╕лр╕гр╕╖р╕нр╕вр╕▒р╕З р╣Ар╕Юр╕╖р╣Ир╕нр╣Бр╕кр╕Фр╕Зр╕Ър╕▒р╕Яр╕Юр╕┤р╣Ар╕ир╕й
р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Вр╕вр╕Зр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ
battle.js	р╕Фр╕╢р╕Зр╕Др╣Ир╕▓ SPD/ATK/CRIT р╕Ир╕▓р╕Бр╕гр╕╣р╕Щ	р╕бр╕╡р╕Ьр╕ер╕Хр╣Ир╕н SPD Bar, р╕Фр╕▓р╣Ар╕бр╕И, р╣Ар╕Чр╕┤р╕гр╣Мр╕Щ
char.js	р╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Щр╕Чр╕╡р╣Ир╣Гр╕кр╣Ир╕Хр╕нр╕Щр╣Бр╕кр╕Фр╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г	р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Юр╕гр╣Йр╕нр╕бр╕гр╕╣р╕Щ
inventory.js	р╕гр╕╣р╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕нр╕вр╕╣р╣Ир╣Гр╕Щ inventory	р╕Юр╕гр╣Йр╕нр╕бр╕Бр╕Ф тАЬр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕ЗтАЭ р╕Ър╕Щр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г
upgrade.js	р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕гр╕╣р╕Щ (р╣Ар╕кр╕гр╕┤р╕б sub stat)	р╣Гр╕Кр╣Йр╣Ар╕Зр╕┤р╕Щ/р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕╣р╕Щ
admin.js	р╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ъ/р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕гр╕╣р╕Щр╕Вр╕нр╕Зр╣Др╕нр╕Фр╕╡р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ	р╕Ър╕гр╕┤р╕лр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕лр╕ер╕▒р╕Зр╕Ър╣Йр╕▓р╕Щ
gacha.js	р╣Ар╕Ыр╕┤р╕Фр╣Бр╕Юр╣Зр╕Б тАЬр╕гр╕╣р╕Щр╕кр╕╕р╣Ир╕бтАЭ р╣Др╕Фр╣Й	р╣Ар╕Кр╣Ир╕Щ Summon Rune Pack
redeem.js	р╕гр╕▒р╕Ър╕гр╕╣р╕Щр╕Ир╕▓р╕Бр╣Вр╕Др╣Йр╕Фр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б	р╣Гр╕кр╣Ир╣Ар╕Вр╣Йр╕▓ inventory р╕Чр╕▒р╕Щр╕Чр╕╡
р╕гр╕░р╕Ър╕Ър╕лр╕ер╕▒р╕Зр╕Ър╣Йр╕▓р╕Щ (Admin Panel р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б)
тФМтФАтФА р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕гр╕╣р╕Щ тФАтФАтФР
| [+ р╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕╣р╕Щр╣Гр╕лр╕бр╣И]               |
| [ЁЯЫа р╣Бр╕Бр╣Йр╣Др╕Вр╕гр╕╣р╕Щ ID: r001]     |
| Slot: 2, Main: SPD+25       |
| Sub: ATK%+7, Effect+4     |
| Set: Speed                 |
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
р╕гр╕░р╕Ър╕Ър╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕гр╕╣р╕Щ (Upgrade Rune Feature)
ЁЯУИ р╕нр╕▒р╕Ыр╣Ар╕ер╣Ар╕зр╕ер╕гр╕╣р╕Щ	+р╣Ар╕ер╣Ар╕зр╕е 1-15 р╣Вр╕Фр╕вр╣Гр╕Кр╣Йр╣Ар╕Зр╕┤р╕Щр╣Ар╕Бр╕б
ЁЯФА р╕Ыр╕ер╕Фр╕ер╣Зр╕нр╕Бр╕Др╣Ир╕▓р╕кр╕Цр╕▓р╕Щр╕░р╕вр╣Ир╕нр╕в	р╣Ар╕ер╣Ар╕зр╕е 3/6/9/12 р╕Ир╕░р╕кр╕╕р╣Ир╕б sub stat р╣Ар╕Юр╕┤р╣Ир╕б
ЁЯзк р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╣Гр╕Кр╣Й	Rune Dust р╕лр╕гр╕╖р╕н Gold
ЁЯза р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Бр╕▒р╕Ъ inventory	р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╣Бр╕ер╕░р╣Ар╕Зр╕┤р╕Щр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕ер╕Фр╕ер╕Зр╕Ир╕▓р╕Б inventory

- р╕гр╕░р╕Ър╕Ър╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г
тнР р╣Ар╕ер╣Ар╕зр╕ер╕нр╕▒р╕Ы (Level Up)	р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕ер╣Ар╕зр╕ер╕Ир╕▓р╕Б EXP р╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕Ир╕▓р╕Бр╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щр╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Й "EXP Potion"	EXP Item / р╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ
ЁЯМЯ р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕Вр╕▒р╣Йр╕Щ (Promotion / Awaken)	р╣Ар╕Кр╣Ир╕Щ р╕Ир╕▓р╕Б 3тШЕ тЖТ 4тШЕ р╣Гр╕Кр╣Йр╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╕Юр╕┤р╣Ар╕ир╕й + р╣Ар╕Зр╕┤р╕Щ	р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ъ / Gold
ЁЯТк р╕нр╕▒р╕Ыр╕Др╣Ир╕▓р╕кр╣Ар╕Хр╕Хр╕▒р╕к (Stats Boost)	р╣Ар╕Юр╕┤р╣Ир╕б HP/ATK/DEF/CRIT SPD р╣Бр╕вр╕Бр╕Хр╣Ир╕▓р╕Зр╕лр╕▓р╕Б р╣Вр╕Фр╕вр╣Гр╕Кр╣Й тАЬр╕гр╕╣р╕ЩтАЭ р╕лр╕гр╕╖р╕н тАЬр╕кр╕Бр╕┤р╕ер╕нр╕▒р╕ЫтАЭ	Rune / Token
ЁЯМА р╕нр╕▒р╕Ыр╣Ар╕ер╣Ар╕зр╕ер╕кр╕Бр╕┤р╕е (Skill Upgrade)	р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╣Бр╕гр╕З р╕ер╕Фр╕Др╕╣р╕ер╕Фр╕▓р╕зр╕Щр╣М р╣Гр╕Кр╣Йр╕лр╕Щр╕▒р╕Зр╕кр╕╖р╕нр╕кр╕Бр╕┤р╕е / р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ъ	Skill Book / Rare Material
ЁЯФУ р╕Ыр╕ер╕Фр╕ер╣Зр╕нр╕Б Passive	р╕Ыр╕ер╕Фр╕ер╣Зр╕нр╕Бр╕Др╕зр╕▓р╕бр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Эр╕Зр╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕ер╣Ар╕зр╕ер╕Цр╕╢р╕З р╕лр╕гр╕╖р╕нр╕нр╕▒р╕Ыр╕Вр╕▒р╣Йр╕Щ	р╣Др╕бр╣Ир╕бр╕╡ / р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╕Вр╕▒р╣Йр╕Щр╕кр╕╣р╕З
р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Вр╕вр╕Зр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ
ЁЯУж Inventory	р╣Гр╕Кр╣Й EXP Item, р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ъ, р╣Ар╕Зр╕┤р╕Щр╣Ар╕Бр╕бр╕Ир╕▓р╕Б inventory
ЁЯЧ║я╕П р╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ	р╕Фр╕гр╕нр╕Ыр╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф / EXP р╕Ир╕▓р╕Бр╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й
ЁЯЫа Admin Panel	р╕Ыр╕гр╕▒р╕Ър╕гр╕░р╕Фр╕▒р╕Ър╕кр╕╣р╕Зр╕кр╕╕р╕Ф, р╕Ыр╕ер╕Фр╕ер╣Зр╕нр╕Б, р╣Гр╕кр╣Ир╣Ар╕ер╣Ар╕зр╕ер╕Чр╕▒р╕Щр╕Чр╕╡
ЁЯОБ Redeem Code	р╣Бр╕Ир╕Бр╣Др╕нр╣Ар╕Чр╣Зр╕бр╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕Ьр╣Ир╕▓р╕Щр╣Вр╕Др╣Йр╕Фр╣Др╕Фр╣Й
ЁЯУЪ Gacha	р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Чр╕╡р╣Ир╕кр╕╕р╣Ир╕бр╣Др╕Фр╣Йр╕Лр╣Йр╕│р╕нр╕▓р╕Ир╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╕Вр╕▒р╣Йр╕Щ (р╕гр╕░р╕Ър╕Ъ Limit Break р╣Гр╕Щр╕нр╕Щр╕▓р╕Др╕Х)
ЁЯОо Battle	р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Чр╕╡р╣Ир╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╣Бр╕ер╣Йр╕зр╕Ир╕░р╣Бр╕Вр╣Зр╕Зр╣Бр╕Бр╕гр╣Ир╕Зр╕Вр╕╢р╣Йр╕Щр╣Гр╕Щр╕гр╕░р╕Ър╕Ър╕Хр╣Ир╕нр╕кр╕╣р╣Й
ЁЯПк р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓	р╕Вр╕▓р╕вр╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф р╣Ар╕Кр╣Ир╕Щ Skill Book, EXP Potion
UI р╣Бр╕Ър╕Ъ Pop-up
р╣Бр╕кр╕Фр╕Зр╕ар╕▓р╕Юр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г, р╕Кр╕╖р╣Ир╕н, р╣Ар╕ер╣Ар╕зр╕е, EXP bar, тШЕ р╕Фр╕▓р╕з
р╕Ыр╕╕р╣Ир╕б [р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕ер╣Ар╕зр╕е], [р╕нр╕▒р╕Ыр╕Вр╕▒р╣Йр╕Щ], [р╕нр╕▒р╕Ыр╕кр╕Бр╕┤р╕е], [р╣Гр╕кр╣Ир╕гр╕╣р╕Щ]
р╕Фр╣Йр╕▓р╕Щр╕ер╣Ир╕▓р╕Зр╕бр╕╡р╕Кр╣Ир╕нр╕Зр╣Ар╕ер╕╖р╕нр╕Бр╣Гр╕Кр╣Йр╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╕Чр╕╡р╣Ир╕бр╕╡ (р╕Фр╕╢р╕Зр╕Ир╕▓р╕Б inventory)
р╕Ыр╕╕р╣Ир╕бр╕вр╕╖р╕Щр╕вр╕▒р╕Щ / р╕Ыр╕╕р╣Ир╕бр╕Бр╕ер╕▒р╕Ъ
р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕лр╕ер╕▒р╕Зр╕нр╕▒р╕Ы р╣Ар╕Кр╣Ир╕Щ HP +120, Skill Level +1

- р╕гр╕░р╕Ър╕Ър╣Ар╕Др╕зр╕кр╕Хр╣М / р╕ар╕▓р╕гр╕Бр╕┤р╕И
тЬЕ р╕гр╕▓р╕вр╕зр╕▒р╕Щ (Daily Quest)	р╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╕Чр╕╕р╕Б 24 р╕Кр╕б.	р╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щр╕зр╕▒р╕Щр╕Щр╕╡р╣Й, р╣Ар╕ер╣Ир╕Щр╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ 3 р╕Др╕гр╕▒р╣Йр╕З
ЁЯХТ р╕гр╕▓р╕вр╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣М (Weekly Quest)	р╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╕Чр╕╕р╕Б 7 р╕зр╕▒р╕Щ	р╕Кр╕Щр╕░ 10 р╕Фр╣Ир╕▓р╕Щ, р╣Гр╕Кр╣Йр╕Бр╕▓р╕Кр╕▓ 10 р╕Др╕гр╕▒р╣Йр╕З
ЁЯЧ║я╕П р╣Ар╕Др╕зр╕кр╕Хр╣Мр╕нр╕╡р╣Ар╕зр╕Щр╕Хр╣М (Event Quest)	р╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓р╕Ир╕│р╕Бр╕▒р╕Ф	р╣Ар╕ер╣Ир╕Щр╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б x5, р╕кр╕░р╕кр╕бр╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╕Юр╕┤р╣Ар╕ир╕й
ЁЯзЩтАНтЩВя╕П р╣Ар╕Др╕зр╕кр╕Хр╣Мр╣Ар╕Щр╕╖р╣Йр╕нр╣Ар╕гр╕╖р╣Ир╕нр╕З (Story Quest)	р╕Чр╕│р╕Др╕гр╕▒р╣Йр╕Зр╣Ар╕Фр╕╡р╕вр╕з	р╕Ьр╣Ир╕▓р╕Щ Chapter 1-5, р╕нр╕▒р╕Ыр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Цр╕╢р╕Зр╣Ар╕ер╣Ар╕зр╕е 10
ЁЯкЬ р╣Ар╕Др╕зр╕кр╕Хр╣Мр╕Вр╕▒р╣Йр╕Щр╕Ър╕▒р╕Щр╣Др╕Ф (Progression)	р╕Бр╣Йр╕▓р╕зр╕лр╕Щр╣Йр╕▓р╣Бр╕Ър╕Ър╕Вр╕▒р╣Йр╕Щ	р╣Гр╕Кр╣Й EXP Potion 5 р╕Др╕гр╕▒р╣Йр╕З тЖТ р╕Цр╕▒р╕Фр╣Др╕Ы = 10 р╕Др╕гр╕▒р╣Йр╕З
р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ UI
ЁЯФ│ р╣Ар╕Др╕зр╕кр╕Хр╣Мр╣Бр╕Хр╣Ир╕ер╕░р╕нр╕▒р╕Щ	р╣Бр╕кр╕Фр╕Зр╕Кр╕╖р╣Ир╕н, р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в, progress bar, р╕Ыр╕╕р╣Ир╕б тАЬр╕гр╕▒р╕Ър╕гр╕▓р╕Зр╕зр╕▒р╕етАЭ
ЁЯЧВ Tabs р╣Бр╕вр╕Бр╕лр╕бр╕зр╕Ф	Daily / Weekly / Event / Story
тП│ р╕Хр╕▒р╕зр╕Ир╕▒р╕Ър╣Ар╕зр╕ер╕▓	р╣Ар╕Др╕зр╕кр╕Хр╣М daily = р╕Щр╕▒р╕Ър╕Цр╕нр╕вр╕лр╕ер╕▒р╕Зр╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╣Ар╕лр╕ер╕╖р╕н
ЁЯОБ р╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕Ыр╣Бр╕кр╕Фр╕Зр╕Вр╕нр╕Зр╕гр╕▓р╕Зр╕зр╕▒р╕е	р╣Ар╕бр╕╖р╣Ир╕нр╕гр╕▒р╕Ър╕гр╕▓р╕Зр╕зр╕▒р╕ер╣Бр╕ер╣Йр╕з
UI р╕Др╕зр╕гр╕нр╕вр╕╣р╣Ир╣Бр╕Ър╕Ъ Pop-up
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ ЁЯОп р╣Ар╕Др╕зр╕кр╕Хр╣Мр╕ар╕▓р╕гр╕Бр╕┤р╕Ир╕гр╕▓р╕вр╕зр╕▒р╕Щ                 ЁЯХТ 23:45:12 тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ тЬЕ р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕зр╕▒р╕Щр╕Щр╕╡р╣Й                      [ р╕гр╕▒р╕Ър╕гр╕▓р╕Зр╕зр╕▒р╕е ] тФВ
тФВ тЦ╢ р╣Ар╕ер╣Ир╕Щр╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ 3 р╕Др╕гр╕▒р╣Йр╕З (2/3)     [ р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Др╕гр╕Ъ ] тФВ
тФВ тЦ╢ р╕нр╕▒р╕Ыр╣Ар╕ер╣Ар╕зр╕ер╕Хр╕▒р╕зр╕ер╕░р╕Др╕г 1 р╕Хр╕▒р╕з             [ р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Др╕гр╕Ъ ] тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ
ЁЯУж Inventory	р╣Ар╕бр╕╖р╣Ир╕нр╕Бр╕Фр╕гр╕▒р╕Ър╕гр╕▓р╕Зр╕зр╕▒р╕е тЖТ р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕нр╣Ар╕Чр╣Зр╕б, р╣Ар╕Юр╕Кр╕г, р╕Хр╕▒р╣Лр╕зр╕Бр╕▓р╕Кр╕▓ р╕пр╕ер╕п
ЁЯзк р╕гр╕░р╕Ър╕Ър╕Хр╣Ир╕нр╕кр╕╣р╣Й / р╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ	р╕Хр╕гр╕зр╕Ир╕Щр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щр╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щр╕Чр╕╡р╣Ир╣Ар╕ер╣Ир╕Щ, р╕Ир╕│р╕Щр╕зр╕Щр╕Кр╕▒р╕вр╕Кр╕Щр╕░
ЁЯОп р╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕Кр╕▓	р╕Хр╕гр╕зр╕Ир╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕кр╕╕р╣Ир╕бр╕Бр╕▓р╕Кр╕▓ р╣Ар╕Кр╣Ир╕Щ 1 р╕лр╕гр╕╖р╕н 10 р╕Др╕гр╕▒р╣Йр╕З
ЁЯУИ р╕гр╕░р╕Ър╕Ър╣Ар╕ер╣Ар╕зр╕ер╕нр╕▒р╕Ы	р╕Хр╕гр╕зр╕Ир╕зр╣Ир╕▓р╕бр╕╡р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Ар╕ер╣Ар╕зр╕ер╕Цр╕╢р╕Зр╕Хр╕▓р╕бр╕Чр╕╡р╣Ир╕Бр╕│р╕лр╕Щр╕Фр╣Др╕лр╕б
ЁЯза р╕гр╕░р╕Ър╕Ър╕Ър╕▒р╕Нр╕Кр╕╡р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ	р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕Цр╕▓р╕Щр╕░р╕Вр╕нр╕Зр╣Ар╕Др╕зр╕кр╕Хр╣М (completed / claimed)
ЁЯЫа Admin Panel	р╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ъ/р╣Бр╕Бр╣Йр╣Др╕Вр╣Ар╕Др╕зр╕кр╕Хр╣Мр╣Бр╕Ър╕Ър╣Ар╕гр╕╡р╕вр╕ер╣Др╕Чр╕бр╣М р╕лр╕гр╕╖р╕нр╕кр╕гр╣Йр╕▓р╕З Event Quest
р╕гр╕░р╕Ър╕Ър╣Ар╕Ър╕╖р╣Йр╕нр╕Зр╕лр╕ер╕▒р╕З
ЁЯХТ Quest Timer Manager	р╕Хр╕гр╕зр╕Ир╕зр╣Ир╕▓р╣Ар╕Др╕зр╕кр╕Хр╣Мр╣Бр╕Хр╣Ир╕ер╕░р╕лр╕бр╕зр╕Фр╕Др╕зр╕г тАЬр╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╣Ар╕бр╕╖р╣Ир╕нр╣Др╕лр╕гр╣ИтАЭ
ЁЯУК Quest Tracker	р╕Хр╕гр╕зр╕Ир╕Щр╕▒р╕Ър╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Чр╕╡р╣Ир╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕Чр╕│р╣Бр╕ер╣Йр╕зр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕ер╕З progress
ЁЯОБ Reward Handler	р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Др╕ер╕╡р╕вр╕гр╣Мр╣Ар╕Др╕зр╕кр╕Хр╣М тЖТ р╕гр╕▒р╕Ър╕гр╕▓р╕Зр╕зр╕▒р╕е тЖТ р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Вр╣Йр╕▓ inventory
ЁЯФР Claim Flag System	р╕Хр╕гр╕зр╕Ир╕зр╣Ир╕▓р╣Ар╕Др╕зр╕кр╕Хр╣Мр╣Др╕лр╕Щр╕Бр╕Фр╕гр╕▒р╕Ър╣Др╕Ыр╣Бр╕ер╣Йр╕з (р╕Бр╕▒р╕Щр╕гр╕▒р╕Ър╕Лр╣Йр╕│)
ЁЯТм Notification	р╣Бр╕кр╕Фр╕Зр╕Ир╕╕р╕Фр╣Бр╕Фр╕Зр╕Ър╕Щр╣Ар╕бр╕Щр╕╣р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Др╕зр╕кр╕Хр╣Мр╣Гр╕Ф р╣Ж р╕кр╕│р╣Ар╕гр╣Зр╕Ир╣Бр╕Хр╣Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╕гр╕▒р╕Ъ

- р╕гр╕░р╕Ър╕Ъ р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ / р╕Ыр╕гр╕░р╕Бр╕▓р╕и (Notification & Announcement System) р╣Ар╕Ыр╣Зр╕Щ тАЬр╕ир╕╣р╕Щр╕вр╣Мр╕Бр╕ер╕▓р╕Зр╕Бр╕▓р╕гр╕кр╕╖р╣Ир╕нр╕кр╕▓р╕гр╕Ир╕▓р╕Бр╕Ьр╕╣р╣Йр╕Юр╕▒р╕Тр╕Щр╕▓тАЭ
р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Вр╕нр╕Зр╕Ыр╕гр╕░р╕Бр╕▓р╕и
ЁЯУв р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╕Чр╕▒р╣Ир╕зр╣Др╕Ы (General)	р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╕нр╕▒р╕Ыр╣Ар╕Фр╕Х, р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕гр╕░р╕Ър╕Ъ	р╣Гр╕лр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕гр╕░р╕Ър╕Ър╕лр╕ер╕▒р╕Б
ЁЯЖХ р╣Бр╕Юр╕Хр╕Кр╣Мр╣Вр╕Щр╣Йр╕Х (Patch Notes)	р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Бр╕┤р╕е, р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Гр╕лр╕бр╣И	р╕Кр╣Ир╕зр╕вр╣Гр╕лр╣Йр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕Ыр╕гр╕▒р╕Ър╕Хр╕▒р╕зр╕Чр╕▒р╕Щ
ЁЯОБ р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╣Бр╕Ир╕Бр╕Вр╕нр╕З (Reward Info)	р╣Бр╕Ир╕Бр╣Ар╕Юр╕Кр╕гр╕Яр╕гр╕╡р╕зр╕▒р╕Щр╣Ар╕Бр╕┤р╕Фр╣Ар╕Бр╕б	р╣Ар╕Юр╕┤р╣Ир╕б retention
тП▒я╕П р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б (Event)	р╣Ар╕гр╕┤р╣Ир╕бр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Юр╕┤р╣Ар╕ир╕й/р╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щр╣Гр╕лр╕бр╣И	р╕Фр╕╢р╕Зр╣Гр╕лр╣Йр╣Ар╕ер╣Ир╕Щр╕Хр╕▓р╕бр╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓
тЪая╕П р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕гр╕░р╕Ър╕Ъ (System Warning)	р╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╕Ир╕░р╕Ыр╕┤р╕Ф, р╕Ър╕▒р╣Кр╕Бр╕Чр╕╡р╣Ир╕Бр╕│р╕ер╕▒р╕Зр╣Бр╕Бр╣Й	р╕ер╕Фр╕Др╕зр╕▓р╕бр╣Др╕бр╣Ир╕Юр╕нр╣Гр╕Ир╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ
ЁЯЫТ р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓ (Shop Update)	р╣Ар╕Ыр╕┤р╕Фр╕Вр╕▓р╕вр╕Хр╕▒р╕зр╣Гр╕лр╕бр╣И, р╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Юр╕┤р╣Ар╕ир╕й	р╣Ар╕Юр╕┤р╣Ир╕бр╕вр╕нр╕Фр╕Лр╕╖р╣Йр╕н
ЁЯУи р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Ар╕Йр╕Юр╕▓р╕░р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ (Personal Inbox)	р╣Бр╕Ир╣Йр╕Зр╕зр╣Ир╕▓р╣Гр╕Кр╣Йр╣Вр╕Др╣Йр╕Фр╕кр╕│р╣Ар╕гр╣Зр╕И, р╕Бр╕▓р╕Кр╕▓р╕нр╕нр╕Бр╕нр╕░р╣Др╕г	р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╣Ар╕Ыр╣Зр╕Щр╕кр╣Ир╕зр╕Щр╕Хр╕▒р╕з
р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ UI
ЁЯФФ р╕Ыр╕╕р╣Ир╕бр╣Ар╕бр╕Щр╕╣ "р╕Ыр╕гр╕░р╕Бр╕▓р╕и" р╕Ър╕Щр╕бр╕╕р╕бр╕Вр╕зр╕▓р╕Ър╕Щ (р╕бр╕╡р╕Ир╕╕р╕Фр╣Бр╕Фр╕Зр╕Цр╣Йр╕▓р╕бр╕╡р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╣Гр╕лр╕бр╣И)	
ЁЯУГ р╕лр╕Щр╣Йр╕▓р╕гр╕зр╕бр╕Ыр╕гр╕░р╕Бр╕▓р╕и: р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Зр╕Хр╕▓р╕бр╣Ар╕зр╕ер╕▓	
ЁЯз╛ р╕Др╕ер╕┤р╕Бр╣Бр╕Хр╣Ир╕ер╕░р╕гр╕▓р╕вр╕Бр╕▓р╕г: р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╣Бр╕Ър╕Ъ Scroll р╣Др╕Фр╣Й	
ЁЯУМ р╕бр╕╡ "Pin р╕Ыр╕гр╕░р╕Бр╕▓р╕и" р╕Чр╕╡р╣Ир╕кр╕│р╕Др╕▒р╕Нр╕Фр╣Йр╕▓р╕Щр╕Ър╕Щр╣Ар╕кр╕бр╕н р╣Ар╕Кр╣Ир╕Щ р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б / р╣Бр╕Ир╕Бр╕Вр╕нр╕З	
тЫФ р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╕Ър╕▓р╕Зр╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Бр╕кр╕Фр╕Зр╣Ар╕Йр╕Юр╕▓р╕░р╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓ (start_time тАУ end_time)	
ЁЯТм р╕гр╕нр╕Зр╕гр╕▒р╕Ъ Emoji, Rich Text (р╣Гр╕Кр╣Й HTML + CSS)
р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕гр╕░р╕Ър╕Ъ
тФМтФАтФАтФАтФАтФАтФА р╕Ыр╕гр╕░р╕Бр╕▓р╕и тФАтФАтФАтФАтФАтФАтФР
| [ + р╣Ар╕Юр╕┤р╣Ир╕бр╕Ыр╕гр╕░р╕Бр╕▓р╕и ]  |
| ЁЯФШ р╕Ыр╕гр╕░р╣Ар╕ар╕Ч: patch / event / shop |
| ЁЯУЖ р╣Ар╕зр╕ер╕▓р╣Бр╕кр╕Фр╕З: 2025-05-01 р╕Цр╕╢р╕З 2025-05-10 |
| ЁЯз╛ р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓: ...                              |
| ЁЯФФ р╣Бр╕кр╕Фр╕З popup р╣Ар╕бр╕╖р╣Ир╕н login: тЬЕ |
| ЁЯУМ р╕Ыр╕▒р╕Бр╕лр╕бр╕╕р╕Ф: тЬЕ   тЭМ р╕ер╕Ъ  тЬПя╕П р╣Бр╕Бр╣Йр╣Др╕В |
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ р╣Ж
ЁЯЫа Admin Panel	р╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ъ/р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕гр╕░р╕Бр╕▓р╕ир╣Бр╕Ър╕Ър╣Ар╕гр╕╡р╕вр╕ер╣Др╕Чр╕бр╣М
ЁЯОБ р╣Бр╕Ир╕Бр╣Др╕нр╣Ар╕Чр╣Зр╕б/р╣Вр╕Др╣Йр╕Ф	р╕Др╕ер╕┤р╕Бр╕ер╕┤р╕Зр╕Бр╣Мр╕Ир╕▓р╕Бр╕Ыр╕гр╕░р╕Бр╕▓р╕ир╣Др╕Ыр╕вр╕▒р╕Зр╕гр╕░р╕Ър╕Ър╕Бр╕гр╕нр╕Бр╣Вр╕Др╣Йр╕Ф/р╕гр╕▒р╕Ър╕Вр╕нр╕З
ЁЯЧ║я╕П Event Dungeon	р╕Бр╕Фр╕Ир╕▓р╕Бр╕Ыр╕гр╕░р╕Бр╕▓р╕и тЖТ р╣Ар╕Ыр╕┤р╕Фр╣Бр╕Ьр╕Щр╕Чр╕╡р╣И event р╣Вр╕Фр╕вр╕Хр╕гр╕З
ЁЯПк р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓	р╣Бр╕Ир╣Йр╕Зр╣Ар╕Ыр╕┤р╕Ф shop event р╕Юр╕гр╣Йр╕нр╕бр╕Ыр╕╕р╣Ир╕бр╣Ар╕Вр╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕гр╣Йр╕▓р╕Щр╕Чр╕▒р╕Щр╕Чр╕╡
тЪФя╕П р╣Бр╕Юр╕Хр╕Кр╣Мр╕Фр╕▓р╣Ар╕бр╕И/р╕кр╕Бр╕┤р╕е	р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╕зр╣Ир╕▓р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Др╕лр╕Щ buff/nerf
ЁЯСд р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ	р╣Бр╕кр╕Фр╕Зр╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕Чр╕╡р╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Ар╕Йр╕Юр╕▓р╕░ (inbox)
ЁЯУе р╕гр╕░р╕Ър╕Ър╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ real-time	р╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╣Гр╕лр╕бр╣И тЖТ р╕Вр╕╢р╣Йр╕Щ Pop-up р╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕З refresh
р╕гр╕░р╕Ър╕Ър╕лр╕ер╕▒р╕Зр╕Ър╣Йр╕▓р╕Щр╕Чр╕╡р╣Ир╕Др╕зр╕гр╕бр╕╡ (Admin Panel)
тЮХ р╣Ар╕Юр╕┤р╣Ир╕бр╕Ыр╕гр╕░р╕Бр╕▓р╕ир╣Гр╕лр╕бр╣И	р╣Гр╕кр╣Ир╕лр╕▒р╕зр╕Вр╣Йр╕н, р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓, р╕Ыр╕гр╕░р╣Ар╕ар╕Ч, р╣Ар╕зр╕ер╕▓р╣Ар╕гр╕┤р╣Ир╕б/р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕
ЁЯУЭ р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕гр╕░р╕Бр╕▓р╕ир╣Ар╕Бр╣Ир╕▓	р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡
тЭМ р╕ер╕Ър╕Ыр╕гр╕░р╕Бр╕▓р╕и	р╕ер╕Ър╕Цр╕▓р╕зр╕г р╕лр╕гр╕╖р╕нр╕Лр╣Ир╕нр╕Щ (inactive)
ЁЯУЖ р╕Хр╕▒р╣Йр╕Зр╣Ар╕зр╕ер╕▓р╣Бр╕кр╕Фр╕З	р╣Гр╕кр╣И start_time р╣Бр╕ер╕░ end_time р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Йр╕Ыр╕гр╕░р╕Бр╕▓р╕ир╣Бр╕кр╕Фр╕Зр╣Ар╕Йр╕Юр╕▓р╕░р╕Кр╣Ир╕зр╕З
ЁЯУМ Pin р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╕кр╕│р╕Др╕▒р╕Н	р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Щр╕▒р╣Йр╕Щр╕Вр╕╢р╣Йр╕Щр╕Ър╕Щр╕кр╕╕р╕Ф
ЁЯФФ р╕кр╕▒р╣Ир╕Зр╣Гр╕лр╣Й "popup" р╣Бр╕кр╕Фр╕Зр╕Чр╕▒р╕Щр╕Чр╕╡р╣Ар╕бр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щ

- р╕гр╕░р╕Ър╕Ър╕лр╕ер╕▒р╕Зр╕Ър╣Йр╕▓р╕Щ (Admin Panel)
р╣Бр╕вр╕Бр╣Ар╕Ыр╣Зр╕Щр╕нр╕╡р╕Бр╕лр╕Щр╣Йр╕▓ (admin.html)
р╕бр╕╡р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╕Бр╣Ир╕нр╕Щр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕З
р╣Гр╕Кр╣Йр╣Бр╕Бр╣Йр╣Др╕Вр╕Др╣Ир╕▓р╕Хр╣Ир╕▓р╕З р╣Ж р╣Бр╕Ър╕Ъ Real-Time р╣Бр╕ер╣Йр╕з Reflect р╕Ър╕Щр╣Ар╕Бр╕бр╕Чр╕▒р╕Щр╕Чр╕╡
UI р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Зр╣Ир╕▓р╕в
р╕бр╕╡р╕гр╕░р╕Ър╕Ър╣Бр╕Ър╕Щр╣Др╕нр╕Фр╕╡р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕лр╕гр╕╖р╕нр╕Чр╕╕р╕Бр╣Вр╕Чр╕йр╣Др╕бр╣Ир╣Гр╕лр╣Йр╣Ар╕Вр╣Йр╕▓р╣Др╕нр╕Фр╕╡р╕Бр╕│р╕лр╕Щр╕Фр╕Ир╕│р╕лр╕Щр╕Фр╕зр╕▒р╕Щр╣Др╕Фр╣Й
р╕бр╕╡р╕гр╕░р╕Ър╕Ър╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╕р╕ер╕Хр╣Ир╕▓р╕Зр╣Жр╕Вр╕нр╕Зр╣Др╕нр╕Фр╕╡р╕Др╕Щр╕нр╕╖р╣Ир╕Щ р╣Ар╕Кр╣Ир╕Щр╕ер╕Ър╕Бр╕▓р╕гр╣Мр╕Фр╕лр╕гр╕╖р╕нр╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Фр╣Й
р╕бр╕╡р╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Др╣Йр╕Фр╣Бр╕Ир╕Бр╣Др╕нр╣Ар╕Чр╣Зр╕б р╕Хр╣Йр╕нр╕Зр╣Ар╕Зр╕╖р╣Ир╕нр╕Щр╣Др╕Вр╣Др╕Фр╣Й 1 р╣Вр╕Др╣Йр╕Фр╕Хр╣Ир╕н 1р╣Др╕нр╕Фр╕╡р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ р╣Бр╕ер╕░р╕зр╕▒р╕Щр╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕р╕Вр╕нр╕Зр╣Вр╕Др╣Йр╕Ф р╣Бр╕ер╕░р╕Ир╕│р╕Щр╕зр╕Щр╣Вр╕Др╣Йр╕Фр╕Чр╕╡р╣Ир╣Бр╕Ир╕Бр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╕Бр╕╡р╣Ир╣Др╕нр╕Фр╕╡

- р╕гр╕░р╕Ър╕Ър╣Ар╕Лр╕Яр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ р╕Ир╕░р╣Ар╕Ыр╣Зр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╣Др╕нр╕Фр╕╡-р╕гр╕лр╕▒р╕кр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╣Ар╕нр╕З р╣Вр╕Фр╕вр╣Др╕нр╕Фр╕╡-р╕гр╕лр╕▒р╕кр╕Эр╕▒р╣Ир╕Зр╣Бр╕нр╕Фр╕бр╕┤р╕Щр╕Ир╕░р╣Ар╕Ыр╣Зр╕Щр╕Др╕Щр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕зр╕кр╣Ир╕Зр╣Гр╕лр╣Й
р╕гр╕░р╕Ър╕Ър╕Щр╕╡р╣Йр╕Чр╕│р╣Ар╕Ыр╣Зр╕Щр╕нр╕вр╣Ир╕▓р╕Зр╕кр╕╕р╕Фр╕Чр╣Йр╕▓р╕в

- р╕бр╕╡р╕гр╕░р╕Ър╕Ър╣Бр╕Ир╕Бр╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Вр╕Др╣Йр╕Ф
ЁЯОБ р╣Бр╕Ир╕Бр╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Гр╕лр╣Йр╣Ар╕Йр╕Юр╕▓р╕░р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕Чр╕╡р╣Ир╕бр╕╡р╣Вр╕Др╣Йр╕Ф	р╣Ар╕Кр╣Ир╕Щ р╣Бр╕Ир╕Б 500 р╣Ар╕Юр╕Кр╕г, р╕Хр╕▒р╕зр╕ер╕░р╕Др╕г 5тШЕ, р╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б
ЁЯХТ р╕Бр╕│р╕лр╕Щр╕Фр╕зр╕▒р╕Щр╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕р╕Вр╕нр╕Зр╣Вр╕Др╣Йр╕Фр╣Др╕Фр╣Й	р╣Вр╕Др╣Йр╕Фр╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╣Ар╕Йр╕Юр╕▓р╕░р╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ р╣Ар╕Кр╣Ир╕Щ 7 р╕зр╕▒р╕Щ
ЁЯСе р╕Ир╕│р╕Бр╕▒р╕Фр╕Ир╕│р╕Щр╕зр╕Щр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й	р╣Ар╕Кр╣Ир╕Щ р╣Вр╕Др╣Йр╕Фр╕Щр╕╡р╣Йр╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╣Бр╕Др╣И 50 р╕Др╕Щр╣Бр╕гр╕Б
ЁЯСд р╕Ир╕│р╕Бр╕▒р╕Ф 1 р╕Др╕Щр╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╣Бр╕Др╣И 1 р╕Др╕гр╕▒р╣Йр╕З	р╣Гр╕Кр╣Йр╕Ьр╕╣р╕Бр╕Бр╕▒р╕Ъ ID р╕Вр╕нр╕Зр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ р╣Ар╕Юр╕╖р╣Ир╕нр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Лр╣Йр╕│
ЁЯФР р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Фр╣Йр╕лр╕ер╕▓р╕вр╣Вр╕Др╣Йр╕Фр╣Гр╕Щр╕Бр╕ер╕╕р╣Ир╕бр╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Щ	р╣Ар╕Кр╣Ир╕Щ р╣Вр╕Др╣Йр╕Фр╕ер╕░р╕Хр╕▒р╕з р╣Бр╕Хр╣Ир╣Бр╕Ир╕Бр╕Вр╕нр╕Зр╣Ар╕лр╕бр╕╖р╕нр╕Щр╕Бр╕▒р╕Щр╣Гр╕Щ event р╣Ар╕Фр╕╡р╕вр╕з
р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Вр╕нр╕Зр╣Вр╕Др╣Йр╕Фр╕Чр╕╡р╣Ир╕Др╕зр╕гр╕бр╕╡
ЁЯФС р╣Вр╕Др╣Йр╕Фр╕гр╕▓р╕вр╕Ър╕╕р╕Др╕Др╕е (Unique per user)	р╣Ар╕Кр╣Ир╕Щ AIRRIN-01-ABC123 р╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕зр╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ
ЁЯФБ р╣Вр╕Др╣Йр╕Фр╕Бр╕ер╕╕р╣Ир╕б (Public Shared Code)	р╣Ар╕Кр╣Ир╕Щ WELCOME2025 р╣Гр╕Кр╣Йр╣Др╕Фр╣Й 1 р╕Др╕гр╕▒р╣Йр╕Зр╕Хр╣Ир╕н 1 р╕Др╕Щ р╕кр╕╣р╕Зр╕кр╕╕р╕Ф 100 р╕Др╕Щ
р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕нр╕вр╣Ир╕▓р╕Зр╣Др╕г
ЁЯФР р╕гр╕░р╕Ър╕Ър╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ (ID/р╕гр╕лр╕▒р╕к)	р╣Гр╕Кр╣Йр╕Хр╕гр╕зр╕Ир╕зр╣Ир╕▓р╣Гр╕Др╕гр╣Гр╕Кр╣Йр╣Вр╕Др╣Йр╕Ф р╣Бр╕ер╕░р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╣Гр╕Кр╣Йр╕Лр╣Йр╕│
ЁЯУж р╕Др╕ер╕▒р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕б/р╕Хр╕▒р╕зр╕ер╕░р╕Др╕г	р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕нр╕Зр╕Ир╕▓р╕Бр╣Вр╕Др╣Йр╕Фр╣Ар╕Вр╣Йр╕▓ inventory / character list
ЁЯЫа Admin Panel	р╣Гр╕Кр╣Йр╕кр╕гр╣Йр╕▓р╕З/р╕ер╕Ъ/р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Вр╕Др╣Йр╕Ф (р╣Бр╕Ър╕Ъ real-time)
ЁЯУЬ Gacha System	р╣Бр╕Ир╕Б тАЬр╕Хр╕▒р╣Лр╕зр╕Бр╕▓р╕Кр╕▓тАЭ р╕Ьр╣Ир╕▓р╕Щр╣Вр╕Др╣Йр╕Фр╣Др╕Фр╣Й
ЁЯзн р╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ / Event	р╣Бр╕Ир╕Б тАЬр╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бтАЭ р╣Др╕Фр╣Й
UI р╣Бр╕Ър╕Ъ Pop-up р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕гр╕нр╕Бр╣Вр╕Др╣Йр╕Ф
р╕лр╕Щр╣Йр╕▓р╕Бр╕гр╕нр╕Бр╣Вр╕Др╣Йр╕Фр╣Бр╕Ър╕Ър╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕Ы
р╕бр╕╡ input р╕Кр╣Ир╕нр╕Зр╣Ар╕Фр╕╡р╕вр╕з + р╕Ыр╕╕р╣Ир╕б [р╕вр╕╖р╕Щр╕вр╕▒р╕Щ]
р╕Цр╣Йр╕▓р╣Вр╕Др╣Йр╕Фр╣Гр╕Кр╣Йр╣Др╕Фр╣Й тЮЬ р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Вр╕нр╕Зр╕гр╕▓р╕Зр╕зр╕▒р╕е + р╕Ыр╕╕р╣Ир╕б OK
р╕Цр╣Йр╕▓р╣Вр╕Др╣Йр╕Фр╕Ьр╕┤р╕Ф/р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕ тЮЬ р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ (р╣Гр╕Кр╣Йр╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в/р╕нр╕▒р╕Зр╕Бр╕др╕йр╣Др╕Фр╣Й)
р╕лр╕Щр╣Йр╕▓р╣Бр╕нр╕Фр╕бр╕┤р╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Вр╕Др╣Йр╕Ф (р╣Гр╕Щ admin.html)
ЁЯФз р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Др╣Йр╕Фр╣Гр╕лр╕бр╣И	р╣Гр╕кр╣Ир╕Кр╕╖р╣Ир╕нр╣Вр╕Др╣Йр╕Ф, р╕гр╕▓р╕Зр╕зр╕▒р╕е, р╕зр╕▒р╕Щр╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕, р╕Ир╕│р╕Щр╕зр╕Щр╕Др╕Щр╣Гр╕Кр╣Й
ЁЯУЛ р╕Фр╕╣р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Вр╕Др╣Йр╕Фр╕Чр╕╡р╣Ир╕бр╕╡р╕нр╕вр╕╣р╣И	р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Др╕гр╕Ър╕Юр╕гр╣Йр╕нр╕бр╕Ыр╕╕р╣Ир╕бр╕ер╕Ъ/р╣Бр╕Бр╣Йр╣Др╕В
ЁЯУК р╕Фр╕╣р╕зр╣Ир╕▓р╕бр╕╡р╣Гр╕Др╕гр╣Гр╕Кр╣Йр╣Бр╕ер╣Йр╕з	р╕Бр╕Фр╕Фр╕╣ used_by р╣Бр╕Хр╣Ир╕ер╕░р╣Вр╕Др╣Йр╕Фр╣Др╕Фр╣Й
р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Вр╕Др╣Йр╕Фр╣Бр╕Ър╕Ър╣Ар╕гр╕╡р╕вр╕ер╣Др╕Чр╕бр╣М

- р╕гр╕░р╕Ър╕Ър╕кр╕╕р╣Ир╕бр╕Бр╕▓р╕Кр╕▓р╕Хр╕▒р╕зр╕ер╕░р╕Др╕г
ЁЯОп р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Бр╕▓р╕гр╕кр╕╕р╣Ир╕б	- р╕кр╕╕р╣Ир╕б 1 р╕Др╕гр╕▒р╣Йр╕З
- р╕кр╕╕р╣Ир╕б 10 р╕Др╕гр╕▒р╣Йр╕З
ЁЯзй р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Бр╕▓р╕Кр╕▓	- р╕Бр╕▓р╕Кр╕▓р╕лр╕ер╕▒р╕Б (р╣Ар╕Кр╣Ир╕Щ Premium Summon)
- р╕Бр╕▓р╕Кр╕▓р╣Ар╕Йр╕Юр╕▓р╕░р╕Бр╕┤р╕И (Event)
- р╕Бр╕▓р╕Кр╕▓ Friendship (р╣Гр╕Кр╣Йр╣Ар╕Юр╕╖р╣Ир╕нр╕Щр╕лр╕гр╕╖р╕нр╣Бр╕Хр╣Йр╕бр╕Яр╕гр╕╡)
ЁЯФв р╕гр╕░р╕Ър╕Ъ Rarity	- р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕гр╕░р╕Фр╕▒р╕Ъ 3тШЕ, 4тШЕ, 5тШЕ
- р╕Бр╕│р╕лр╕Щр╕Ф Drop Rate р╣Др╕Фр╣Й р╣Ар╕Кр╣Ир╕Щ 3тШЕ = 75%, 4тШЕ = 20%, 5тШЕ = 5%
ЁЯОЮя╕П р╣Ар╕нр╕Яр╣Ар╕Яр╕Бр╕Хр╣Мр╣Ар╕Ыр╕┤р╕Фр╕Бр╕▓р╕Кр╕▓	- р╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕ар╕▓р╕Ю/р╕Бр╕▓р╕гр╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╣Др╕лр╕з р╣Ар╕Кр╣Ир╕Щ р╕Бр╕▓р╕гр╣Мр╕Фр╕лр╕бр╕╕р╕Щ, р╕гр╕░р╣Ар╕Ър╕┤р╕Фр╣Бр╕кр╕З
ЁЯзк р╕гр╕░р╕Ър╕Ъ Pity (р╕Бр╕▓р╕гр╕▒р╕Щр╕Хр╕╡)	- р╕лр╕▓р╕Бр╕кр╕╕р╣Ир╕бр╕Др╕гр╕Ъ N р╕Др╕гр╕▒р╣Йр╕Зр╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Й 5тШЕ р╣Гр╕лр╣Йр╕Бр╕▓р╕гр╕▒р╕Щр╕Хр╕╡р╣Гр╕Щр╕Бр╕▓р╕гр╕кр╕╕р╣Ир╕бр╕Цр╕▒р╕Фр╣Др╕Ы
ЁЯТО р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Чр╕гр╕▒р╕Юр╕вр╕▓р╕Бр╕г	- р╣Гр╕Кр╣Йр╣Ар╕Юр╕Кр╕г/р╕Хр╕▒р╣Лр╕зр╕Бр╕▓р╕Кр╕▓/р╣Бр╕Хр╣Йр╕бр╕кр╕╕р╣Ир╕б
ЁЯУж р╕гр╕░р╕Ър╕Ъ Inventory	- р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Чр╕╡р╣Ир╕кр╕╕р╣Ир╕бр╣Др╕Фр╣Йр╕Ир╕░р╣Ар╕Вр╣Йр╕▓ тАЬр╕Др╕ер╕▒р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гтАЭ р╕Чр╕▒р╕Щр╕Чр╕╡
ЁЯз░ р╕гр╕░р╕Ър╕Ър╕Др╕зр╕Ър╕Др╕╕р╕бр╕Ир╕▓р╕Б Admin	- р╣Ар╕Юр╕┤р╣Ир╕бр╕лр╕гр╕╖р╕нр╕ер╕Ър╕Хр╕▒р╕зр╣Гр╕Щр╕Бр╕▓р╕Кр╕▓, р╕Ыр╕гр╕▒р╕Ъ Drop Rate
- р╣Ар╕Ыр╕┤р╕Ф/р╕Ыр╕┤р╕Фр╕Бр╕▓р╕Кр╕▓р╣Бр╕Хр╣Ир╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Бр╕Ър╕Ъ Real-time
ЁЯз╛ р╕гр╕░р╕Ър╕Ър╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕кр╕╕р╣Ир╕б (Gacha Log)	- р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕Фр╕╣р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕вр╣Йр╕нр╕Щр╕лр╕ер╕▒р╕Зр╣Др╕Фр╣Й
- Admin р╣Ар╕Вр╣Йр╕▓р╕Фр╕╣р╕Чр╕╕р╕Бр╕Др╕Щр╣Др╕Фр╣Й

- р╕гр╕░р╕Ър╕Ър╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓
р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Вр╕нр╕Зр╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓
ЁЯЫТ р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕лр╕ер╕▒р╕Б (Shop - Currency)	р╣Гр╕Кр╣Йр╣Ар╕Зр╕┤р╕Щр╣Ар╕Бр╕б, р╣Ар╕Юр╕Кр╕г, р╣Бр╕Хр╣Йр╕бр╕Бр╕▓р╕Кр╕▓ р╣Ар╕Юр╕╖р╣Ир╕нр╣Бр╕ер╕Бр╕Вр╕нр╕Зр╕Чр╕▒р╣Ир╕зр╣Др╕Ы
ЁЯзк р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕Юр╕┤р╣Ар╕ир╕й (Event Shop)	р╣Гр╕Кр╣Йр╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╕Ир╕▓р╕Бр╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╣Бр╕ер╕Бр╕Вр╕нр╕Зр╣Ар╕Йр╕Юр╕▓р╕░р╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓
ЁЯМА р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕гр╕╡р╣Ар╕Яр╕гр╕К (Secret Shop)	р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Вр╕нр╕Зр╕Чр╕╡р╣Ир╕Вр╕▓р╕вр╕Чр╕╕р╕Б 30 р╕Щр╕▓р╕Чр╕╡ / р╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕Фр╣Йр╕зр╕вр╣Ар╕Юр╕Кр╕г
ЁЯзЩтАНтЩВя╕П р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕Хр╕▒р╕зр╕ер╕░р╕Др╕г (Hero Shop)	р╣Бр╕ер╕Бр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Хр╕гр╕З р╣Ж р╕Фр╣Йр╕зр╕вр╣Бр╕Хр╣Йр╕б Soul р╕лр╕гр╕╖р╕н Token
ЁЯкЩ р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕Бр╕┤р╕ер╕Фр╣М (Guild Shop)	р╣Гр╕Кр╣Йр╣Бр╕Хр╣Йр╕бр╕Бр╕┤р╕ер╕Фр╣М (р╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡р╕гр╕░р╕Ър╕Ъ Guild р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щр╕нр╕Щр╕▓р╕Др╕Х)
р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Чр╕╡р╣Ир╕гр╕░р╕Ър╕Ър╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓
ЁЯУж р╣Бр╕кр╕Фр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф	р╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓, р╕гр╕▓р╕Др╕▓, р╕Ыр╕╕р╣Ир╕бр╕Лр╕╖р╣Йр╕н
ЁЯЫбя╕П р╕Ир╕│р╕Бр╕▒р╕Фр╕Бр╕▓р╕гр╕Лр╕╖р╣Йр╕н	р╣Ар╕Кр╣Ир╕Щ р╕Ир╕│р╕Бр╕▒р╕Фр╕зр╕▒р╕Щр╕ер╕░ 1 р╕Др╕гр╕▒р╣Йр╕З, р╕Ир╕│р╕Бр╕▒р╕Фр╕гр╕зр╕б 10 р╕Кр╕┤р╣Йр╕Щ
тП▒я╕П р╕гр╕░р╕Ър╕Ър╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕кр╕┤р╕Щр╕Др╣Йр╕▓	(р╕кр╕│р╕лр╕гр╕▒р╕Ъ Secret Shop) р╕кр╕╕р╣Ир╕бр╕Вр╕нр╕Зр╣Гр╕лр╕бр╣Ир╕Чр╕╕р╕Б X р╕Щр╕▓р╕Чр╕╡
ЁЯФР р╕гр╕░р╕Ър╕Ър╣Ар╕Ыр╕┤р╕Ф/р╕Ыр╕┤р╕Фр╕гр╣Йр╕▓р╕Щ	р╕гр╣Йр╕▓р╕Щр╕Ър╕▓р╕Зр╣Бр╕Ър╕Ъ (р╣Ар╕Кр╣Ир╕Щ Event Shop) р╣Ар╕Ыр╕┤р╕Фр╣Ар╕Йр╕Юр╕▓р╕░р╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓
ЁЯЫНя╕П р╣Бр╕кр╕Фр╕Зр╕лр╕Щр╣Йр╕▓р╕гр╣Йр╕▓р╕Щр╣Бр╕Ър╕Ъ Pop-up	UI р╣Др╕бр╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕лр╕Щр╣Йр╕▓ р╣Бр╕Хр╣Ир╣Бр╕кр╕Фр╕Зр╕Лр╣Йр╕нр╕Щр╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б
ЁЯТ╕ р╕лр╕▒р╕Бр╕Чр╕гр╕▒р╕Юр╕вр╕▓р╕Бр╕г	р╕лр╕▒р╕Бр╕Ир╕▓р╕Б inventory р╕Вр╕нр╕Зр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕Чр╕▒р╕Щр╕Чр╕╡
тЬЕ р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Лр╕╖р╣Йр╕нр╕кр╕│р╣Ар╕гр╣Зр╕И / р╣Др╕бр╣Ир╕Юр╕н	
ЁЯУе р╕Вр╕нр╕Зр╕Чр╕╡р╣Ир╕Лр╕╖р╣Йр╕нр╣Др╕Ыр╣Ар╕Вр╣Йр╕▓ inventory р╕лр╕гр╕╖р╕н character list
р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Вр╕вр╕Зр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ р╣Ж
ЁЯУж Inventory	р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Ар╕бр╕╖р╣Ир╕нр╕Лр╕╖р╣Йр╕нр╕кр╕│р╣Ар╕гр╣Зр╕И / р╕лр╕▒р╕Бр╕Чр╕гр╕▒р╕Юр╕вр╕▓р╕Бр╕г
ЁЯСе Character Collection	р╕Лр╕╖р╣Йр╕нр╣Бр╕ер╣Йр╕зр╣Ар╕Юр╕┤р╣Ир╕бр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г
ЁЯФР Player Data (ID)	р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕зр╣Ир╕▓р╣Гр╕Др╕гр╕Лр╕╖р╣Йр╕нр╕нр╕░р╣Др╕гр╣Бр╕ер╣Йр╕з р╣Ар╕Юр╕╖р╣Ир╕нр╕Ир╕│р╕Бр╕▒р╕Фр╕Ир╕│р╕Щр╕зр╕Щ
тП░ р╣Ар╕зр╕ер╕▓р╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М	р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕Ир╕│р╕Бр╕▒р╕Фр╣Ар╕зр╕ер╕▓
ЁЯЫа Admin Panel	р╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ъ/р╣Бр╕Бр╣Йр╣Др╕Вр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Бр╕Ър╕Ър╣Ар╕гр╕╡р╕вр╕ер╣Др╕Чр╕бр╣М
ЁЯОБ Redeem Code (р╕Ьр╕╣р╕Бр╣Др╕Фр╣Й)	р╣Гр╕Кр╣Йр╣Вр╕Др╣Йр╕Фр╣Бр╕ер╕Бр╕Хр╕▒р╣Лр╕зр╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕лр╕гр╕╖р╕н token р╕Юр╕┤р╣Ар╕ир╕й
ЁЯЧ║я╕П р╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ/Event	р╣Др╕Фр╣Й token р╕Ир╕▓р╕Бр╕Фр╣Ир╕▓р╕Щ р╣Бр╕ер╣Йр╕зр╣Ар╕нр╕▓р╕бр╕▓р╣Бр╕ер╕Бр╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕нр╕╡р╣Ар╕зр╕Щр╕Хр╣Мр╣Др╕Фр╣Й
р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ UI р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓ Pop-up
р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓	р╣Бр╕кр╕Фр╕Зр╣Др╕нр╕Др╕нр╕Щ, р╕Кр╕╖р╣Ир╕н, р╕гр╕▓р╕Др╕▓, р╕Ыр╕╕р╣Ир╕б "р╕Лр╕╖р╣Йр╕н"
Currency Bar	р╣Бр╕кр╕Фр╕Зр╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щ/р╣Ар╕Юр╕Кр╕г/р╣Бр╕Хр╣Йр╕бр╕Хр╣Ир╕▓р╕З р╣Ж р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ
Tabs	р╣Ар╕ер╕╖р╕нр╕Бр╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╣Бр╕Хр╣Ир╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Ч р╣Ар╕Кр╣Ир╕Щ [Shop], [Event Shop]
р╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕Ыр╕вр╕╖р╕Щр╕вр╕▒р╕Щ	р╣Ар╕бр╕╖р╣Ир╕нр╕Бр╕Фр╕Лр╕╖р╣Йр╕н тЖТ р╕Вр╕╢р╣Йр╕Щр╕Ыр╣Кр╕нр╕Ыр╕вр╕╖р╕Щр╕вр╕▒р╕Щ тЖТ р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М

- р╕гр╕░р╕Ър╕Ър╣Бр╕Кр╕Ч
ЁЯЧия╕П р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Бр╕Кр╕Ч	тЬЕ Global Chat (р╕Чр╕╕р╕Бр╕Др╕Щр╣Ар╕лр╣Зр╕Щ)
тЬЕ System Chat (р╕гр╕░р╕Ър╕Ър╕Юр╕╣р╕Ф)
ЁЯзСтАНЁЯдЭтАНЁЯзС р╣Бр╕кр╕Фр╕Зр╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ	р╣Бр╕кр╕Фр╕З [р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ] : р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б (р╕Кр╕╖р╣Ир╕нр╕нр╣Йр╕▓р╕Зр╕Ир╕▓р╕Б data/user.json)
ЁЯХТ Timestamp	р╣Бр╕кр╕Фр╕Зр╣Ар╕зр╕ер╕▓ р╣Ар╕Кр╣Ир╕Щ [17:15] Achiraya : р╣Др╕Ыр╕Яр╕▓р╕гр╣Мр╕бр╕гр╕╣р╕Щр╕Бр╕▒р╕Щр╣Др╕лр╕б
ЁЯЪи System Message	р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕гр╕░р╕Ър╕Ъ р╣Ар╕Кр╣Ир╕Щ тАЬр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Хр╕▒р╕з 5тШЕ р╕Ир╕▓р╕Бр╕Бр╕▓р╕Кр╕▓тАЭ
ЁЯФР р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕│	тЬЕ р╕Бр╕гр╕нр╕Зр╕Др╕│р╕лр╕вр╕▓р╕Ъ
тЬЕ р╕Ир╕│р╕Бр╕▒р╕Фр╕Др╕зр╕▓р╕бр╕вр╕▓р╕з
тЬЕ р╕Ир╕│р╕Бр╕▒р╕Фр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Цр╕╡р╣И
ЁЯУе р╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б	р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Др╕зр╣Йр╣Гр╕Щ data/chat.json (р╣Ар╕Бр╣Зр╕Ър╣Бр╕Др╣И N р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕ер╣Ир╕▓р╕кр╕╕р╕Ф р╣Ар╕Кр╣Ир╕Щ 50)
ЁЯФГ Refresh	р╣Гр╕Кр╣Й setInterval() р╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╕бр╣Ир╕Чр╕╕р╕Б 3-5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡
ЁЯза Responsive UI	тЬЕ р╕Ър╕Щр╕бр╕╖р╕нр╕Цр╕╖р╕нр╣Гр╕лр╣Йр╣Бр╕кр╕Фр╕Зр╣Бр╕Ър╕Ър╣Бр╕Цр╕Ър╕ер╣Ир╕▓р╕З / PC р╣Гр╕лр╣Йр╣Бр╕кр╕Фр╕Зр╕Фр╣Йр╕▓р╕Щр╕Вр╕зр╕▓
тЬЕ р╕Ыр╕гр╕▒р╕Ър╣Ар╕ер╕вр╣Мр╣Ар╕нр╕▓р╕Хр╣Мр╣Гр╕лр╣Йр╕нр╣Ир╕▓р╕Щр╕Зр╣Ир╕▓р╕в р╣Др╕бр╣Ир╣Ар╕Бр╕░р╕Бр╕░р╕Йр╕▓р╕Бр╕Хр╣Ир╕нр╕кр╕╣р╣Й
тЬНя╕П р╕нр╕┤р╕Щр╕Юр╕╕р╕Хр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б	р╕бр╕╡р╕Кр╣Ир╕нр╕Зр╕Юр╕┤р╕бр╕Юр╣М + р╕Ыр╕╕р╣Ир╕бр╕кр╣Ир╕З (Enter р╕Бр╣Зр╕кр╣Ир╕Зр╣Др╕Фр╣Й)
ЁЯФХ Mute Option	[Optional] р╕Ыр╕┤р╕Фр╣Ар╕кр╕╡р╕вр╕Зр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Бр╕Кр╕Ч р╕лр╕гр╕╖р╕нр╕Лр╣Ир╕нр╕Щр╣Бр╕Кр╕Ч
р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕гр╕░р╕Ър╕Ър╣Бр╕Кр╕Чр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ
р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ъ	р╕Чр╕│р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И
auth.js + data/user.json	р╕Фр╕╢р╕Зр╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й / р╕Хр╕гр╕зр╕Ир╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╣Бр╕Кр╕Ч
admin.js	р╣Бр╕нр╕Фр╕бр╕┤р╕Щр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕ер╕Ър╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б / р╣Бр╕Ър╕Щр╣Др╕нр╕Фр╕╡р╕кр╣Ир╕Зр╣Бр╕Кр╕Ч
announcement.js	р╕Ыр╕гр╕░р╕Бр╕▓р╕ир╕кр╕│р╕Др╕▒р╕Нр╕Ир╕░р╕Фр╕▒р╕Щр╕Вр╕╢р╣Йр╕Щр╕Ър╕Щр╕кр╕╕р╕Фр╣Бр╕Кр╕Чр╣Ар╕Ыр╣Зр╕Щ "System Message"
gacha.js	р╣Ар╕бр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕кр╕╕р╣Ир╕бр╣Др╕Фр╣Й 5тШЕ тЖТ р╕кр╣Ир╕Зр╣Ар╕Вр╣Йр╕▓ system chat р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
battle.js [optional]	р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ р╣Ар╕Кр╣Ир╕Щ тАЬр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ A р╕Кр╕Щр╕░р╕Ър╕нр╕кр╣Ар╕зр╕Я 100тАЭ
data/chat.json	р╣Ар╕Ыр╣Зр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕лр╕ер╕▒р╕Б тЖТ р╣Гр╕Кр╣Йр╣Вр╕лр╕ер╕Фр╣Бр╕ер╕░р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
admin.html	р╕Фр╕╣ log р╣Бр╕Кр╕Чр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф, р╕ер╕Ър╕Др╕│р╣Др╕бр╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕б, р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕│р╕лр╣Йр╕▓р╕б
р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в
тЬЕ р╕Ир╕│р╕Бр╕▒р╕Фр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Цр╕╡р╣Ир╣Ар╕Бр╕┤р╕Щ (р╣Ар╕Кр╣Ир╕Щ р╕кр╣Ир╕Зр╣Др╕Фр╣Йр╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 1 р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б / 3 р╕зр╕┤)
тЬЕ р╕Ър╕ер╣Зр╕нр╕Бр╕Др╕│р╕Хр╣Йр╕нр╕Зр╕лр╣Йр╕▓р╕б р╣Ар╕Кр╣Ир╕Щ (р╕Фр╕╢р╕Зр╕Ир╕▓р╕Б data/banned_words.json)
тЬЕ р╣Др╕бр╣Ир╣Гр╕лр╣Йр╣Гр╕кр╣И HTML / JS р╕Чр╕╡р╣Ир╕нр╕▓р╕И inject р╕лр╕гр╕╖р╕нр╕Чр╕│р╣Гр╕лр╣Йр╕лр╕ер╕╕р╕Фр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ
тЬЕ р╣Бр╕нр╕Фр╕бр╕┤р╕Щр╕ер╕Ър╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б + р╕Фр╕╣ log р╕вр╣Йр╕нр╕Щр╕лр╕ер╕▒р╕З
р╕гр╕░р╕Ър╕Ър╕лр╕ер╕▒р╕Зр╕Ър╣Йр╕▓р╕Щ (Admin Panel)
р╕Фр╕╣р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕вр╣Йр╕нр╕Щр╕лр╕ер╕▒р╕Зр╣Бр╕Ър╕Ър╣Ар╕Хр╣Зр╕б (admin р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ)
р╕ер╕Ър╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕Хр╣Ир╕ер╕░р╕Ър╕гр╕гр╕Чр╕▒р╕Ф
р╕Ър╕ер╣Зр╕нр╕Б ID р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Ир╕▓р╕Бр╕Бр╕▓р╕гр╕Юр╕┤р╕бр╕Юр╣М
р╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ър╕Др╕│р╕Хр╣Йр╕нр╕Зр╕лр╣Йр╕▓р╕б
Export log р╣Бр╕Кр╕Ч

р╕ер╕│р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Яр╕▓р╕вр╕ер╣М + р╣Вр╕Др╣Йр╕Ф
р╕ер╕│р╕Фр╕▒р╕Ъ р╣Др╕Яр╕ер╣М р╕кр╕▓р╕гр╕░р╕Ър╕▒р╕Хр╕г р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕нр╕вр╣Ир╕▓р╕Зр╣Др╕г (р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Бр╕│р╕лр╕Щр╕Фр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕бр╣Др╕Яр╕ер╣Мр╣Ар╕нр╕Зр╣Др╕Фр╣Йр╣Вр╕Фр╕вр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Ир╣Йр╕Зр╕Ыр╕┤р╕Фр╕Чр╣Йр╕▓р╕вр╣Др╕Фр╣Й)
1 index.html, ui.js, style.css тАУ р╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б UI, р╣Ар╕бр╕Щр╕╣, р╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕Ы | р╣Гр╕Кр╣Йр╣Ар╕Ыр╣Зр╕Щр╕лр╕Щр╣Йр╕▓ default р╣Ар╕гр╕╡р╕вр╕Б Pop-up р╕Чр╕╕р╕Бр╕гр╕░р╕Ър╕Ъ
2 data/char/*.json тАУ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕ер╕░р╕Др╕г | р╣Гр╕Кр╣Йр╣Гр╕Щ team.html, battle.js, upgrade.js, gacha.js
3 team.html, team.js тАУ р╕лр╕Щр╣Йр╕▓р╕Ир╕▒р╕Фр╕Чр╕╡р╕б | р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б char.json, р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Чр╕╡р╕бр╕ер╕З battle
4 battle.js, ai.js, animationEngine.js, effect.js тАУ р╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й, AI, р╣Бр╕нр╕Щр╕┤р╣Ар╕бр╕Кр╕▒р╕Щ, р╕Ър╕▒р╕Яр╕Фр╕╡р╕Ър╕▒р╕Я | р╣Гр╕Кр╣Йр╕Бр╕▒р╕Ър╕Чр╕╕р╕Бр╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й, р╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ stage, team
5 result.js тАУ р╕лр╕Щр╣Йр╕▓р╕кр╕гр╕╕р╕Ыр╕Ьр╕ер╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й | EXP, Drop, Level Up
6 popupManager.js, cardEffectLayer тАУ р╣Бр╕кр╕Фр╕Зр╕Хр╕▒р╕зр╣Ар╕ер╕Вр╕Фр╕▓р╣Ар╕бр╕И, Heal, Buff | р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Ър╕Щ UI р╣Ар╕гр╕╡р╕вр╕ер╣Др╕Чр╕бр╣М
7 data/item.json, inventory.js тАУ р╕гр╕░р╕Ър╕Ър╕Др╕ер╕▒р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕б | р╣Гр╕Кр╣Йр╕Бр╕▒р╕Ъ shop, upgrade, reward, redeem
8 upgrade.js, data/upgrade.json тАУ р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г | р╕Фр╕╢р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Ир╕▓р╕Б inventory, р╕нр╕▒р╕Ы skill, level, passive
9 rune.js, data/rune.json тАУ р╕гр╕░р╕Ър╕Ър╕гр╕╣р╕Щ | р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Бр╕▒р╕Ъ inventory, upgrade, character stat
10 gacha.js, data/gacha.json тАУ р╕гр╕░р╕Ър╕Ър╕кр╕╕р╣Ир╕бр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г | р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕Др╕ер╕▒р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г, р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Бр╕▒р╕Ъ log, pity, item
11 quest.js, data/quest/*.json тАУ р╣Ар╕Др╕зр╕кр╕Хр╣М Daily/Weekly/Event | р╕Хр╕гр╕зр╕Ир╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ър╕Хр╣Ир╕▓р╕З р╣Ж р╣Ар╕Кр╣Ир╕Щ dungeon, battle
12 stage.js, data/stage/*.json тАУ р╕гр╕░р╕Ър╕Ър╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ | р╕бр╕╡р╣Ар╕зр╕Я, р╣Бр╕Ьр╕Щр╕Чр╕╡р╣И, р╕Ър╕нр╕к, drop item, unlock stage
13 shop.js, data/shop.json тАУ р╕гр╕░р╕Ър╕Ър╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓ | р╕Лр╕╖р╣Йр╕нр╕Вр╕нр╕З, р╕Ир╕│р╕Бр╕▒р╕Фр╕гр╕нр╕Ъ, р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Бр╕▒р╕Ъ inventory
14 announcement.js, data/announcement.json тАУ р╕гр╕░р╕Ър╕Ър╕Ыр╕гр╕░р╕Бр╕▓р╕ир╕Вр╣Ир╕▓р╕з | р╣Бр╕кр╕Фр╕З popup, р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Бр╕▒р╕Ъ event, patch note
15 redeem.js, data/redeem.json тАУ р╕гр╕░р╕Ър╕Ър╕Бр╕гр╕нр╕Бр╣Вр╕Др╣Йр╕Ф | р╕гр╕▒р╕Ър╕Вр╕нр╕З, р╕Ир╕│р╕Бр╕▒р╕Ф 1 р╕Др╕гр╕▒р╣Йр╕З, р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Бр╕▒р╕Ъ user ID
16 auth.js, data/user.json тАУ р╕гр╕░р╕Ър╕Ър╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щ | р╣Ар╕Кр╣Зр╕Др╕кр╕┤р╕Чр╕Шр╕┤р╣М, р╕Ьр╕╣р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е user р╕Бр╕▒р╕Ъ inventory, character
17 characterCollection.js тАУ р╕гр╕░р╕Ър╕Ър╕Др╕ер╕▒р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г | р╣Бр╕кр╕Фр╕Зр╕Хр╕▒р╕зр╕Чр╕╡р╣Ир╕бр╕╡, р╕кр╕Цр╕▓р╕Щр╕░, р╕Фр╕╣ stat, р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕Ир╕▓р╕Б inventory
18 passive.js, data/passive.json тАУ Passive р╕Юр╕┤р╣Ар╕ир╕й | р╣Гр╕Кр╣Йр╣Гр╕Щ battle, upgrade, rune synergy
19 admin.html, admin.js тАУ р╣Бр╕Ьр╕Зр╕Др╕зр╕Ър╕Др╕╕р╕бр╣Бр╕нр╕Фр╕бр╕┤р╕Щ | р╕кр╕гр╣Йр╕▓р╕З/р╕ер╕Ъ user, item, skill, quest, gacha, redeem
20 chat.js, data/chat.json, banned_words.json тАУ р╕гр╕░р╕Ър╕Ър╣Бр╕Кр╕Ч | р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б, р╕Бр╕гр╕нр╕Зр╕Др╕│, р╣Бр╕кр╕Фр╕З system message
21 gachaLog.js, data/gacha_log.json тАУ Log р╕Бр╕▓р╕Кр╕▓р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ | р╣Бр╕кр╕Фр╕Зр╕вр╣Йр╕нр╕Щр╕лр╕ер╕▒р╕З, admin audit р╣Др╕Фр╣Й
22 energy.js, data/energy.json тАУ р╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щ / stamina | р╣Гр╕Кр╣Йр╕ер╕Фр╕Хр╕нр╕Щр╕ер╕Зр╕Фр╕▒р╕Щр╣Ар╕Ир╕╡р╣Йр╕вр╕Щ, р╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╕Фр╣Йр╕зр╕вр╣Др╕нр╣Ар╕Чр╣Зр╕б
23 data/config.json тАУ р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕Бр╕бр╕лр╕ер╕▒р╕Б | р╣Ар╕Кр╣Ир╕Щ cooldown base, exp rate, drop rate
24 localization.js, data/lang/*.json тАУ р╕гр╕░р╕Ър╕Ър╕ар╕▓р╕йр╕▓р╕лр╕ер╕▓р╕вр╕ар╕▓р╕йр╕▓ | р╣Гр╕Кр╣Йр╣Гр╕Щ UI, р╣Бр╕Ыр╕ер╕Чр╕╕р╕Бр╕гр╕░р╕Ър╕Ър╣Бр╕Ър╕Ъ modular

р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Хр╣Ир╕нр╣Др╕Ыр╕Щр╕╡р╣Й

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М \index.html
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Epic Seven Card Auto Battle</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="icon" href="favicon.ico" />
</head>
<body class="dark-bg">

    <!-- NAVBAR -->
    <header>
        <nav class="navbar">
            <div class="logo">EPIC Seven - Card Battle</div>
            <ul class="menu">
                <li><button id="btnTeam">р╕Ир╕▒р╕Фр╕Чр╕╡р╕б</button></li>
                <li><button id="btnBattle">р╕Хр╣Ир╕нр╕кр╕╣р╣Й</button></li>
                <li><button id="btnInventory">р╕Др╕ер╕▒р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕б</button></li>
                <li><button id="btnQuest">р╣Ар╕Др╕зр╕кр╕Хр╣М</button></li>
                <li><button id="btnShop">р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓</button></li>
                <li><button id="btnGacha">р╕Бр╕▓р╕Кр╕▓</button></li>
                <li><button id="btnCharacter">р╕Др╕ер╕▒р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г</button></li>
                <li><button id="btnAnnouncement">р╕Ыр╕гр╕░р╕Бр╕▓р╕и</button></li>
                <li><button id="btnChat">р╣Бр╕Кр╕Ч</button></li>
            </ul>
            <div class="profile">
                <span id="playerName"></span>
                <button id="btnLogin">р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ</button>
            </div>
        </nav>
    </header>

    <!-- POPUP LAYER (р╕Чр╕╕р╕Б feature р╣Ар╕Ыр╣Зр╕Щ popup р╣Др╕бр╣И reload р╕лр╕Щр╣Йр╕▓/р╣Ар╕ер╕╖р╣Ир╕нр╕Щ) -->
    <div id="popupLayer"></div>

    <!-- MAIN BATTLE FIELD (р╕лр╕Щр╣Йр╕▓р╣Бр╕кр╕Фр╕Зр╕Чр╕╡р╕б/р╕бр╕нр╕Щр╣Ар╕Хр╕нр╕гр╣М/auto battle) -->
    <main id="mainBattlefield" class="hide">
        <section class="battlefield">
            <!-- PLAYER TEAM (4 р╣Гр╕Ъ) -->
            <div class="card-row user">
                <!-- card generation by JS -->
            </div>
            <!-- MONSTER TEAM (4 р╣Гр╕Ъ) -->
            <div class="card-row monster">
                <!-- card generation by JS -->
            </div>
            <!-- SPD BARS -->
            <div class="spd-bar-container">
                <!-- generated by JS -->
            </div>
        </section>
        <section class="battle-controls">
            <button id="btnStartAuto" class="primary-btn">Auto Battle</button>
            <button id="btnBack" class="secondary-btn">р╕Бр╕ер╕▒р╕Ъ</button>
        </section>
    </main>

    <!-- FOOTER -->
    <footer>
        <small style="color: #aaa;">&copy; 2024 - Epic Seven Fan Project Demo Frontend</small>
    </footer>

    <!-- JS -->
    <script src="js/ui.js"></script>
    <script src="js/team.js"></script>
    <script src="js/battle.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/animationEngine.js"></script>
    <script src="js/effect.js"></script>
    <script src="js/result.js"></script>
    <script src="js/popupManager.js"></script>
    <script src="js/inventory.js"></script>
    <script src="js/upgrade.js"></script>
    <script src="js/rune.js"></script>
    <script src="js/gacha.js"></script>
    <script src="js/quest.js"></script>
    <script src="js/stage.js"></script>
    <script src="js/shop.js"></script>
    <script src="js/announcement.js"></script>
    <script src="js/redeem.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/characterCollection.js"></script>
    <script src="js/passive.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/gachaLog.js"></script>
    <script src="js/energy.js"></script>
    <script src="js/localization.js"></script>
</body>
</html>

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js\ui.js
// js/ui.js
document.addEventListener('DOMContentLoaded', () => {
    // Menu button event mapping: [btnId, popupId or function]
    const menuActions = {
        btnTeam: () => openPopup('team'),
        btnBattle: () => {
            document.getElementById('mainBattlefield').classList.remove('hide');
            closePopup();
        },
        btnInventory: () => openPopup('inventory'),
        btnQuest: () => openPopup('quest'),
        btnShop: () => openPopup('shop'),
        btnGacha: () => openPopup('gacha'),
        btnCharacter: () => openPopup('characterCollection'),
        btnAnnouncement: () => openPopup('announcement'),
        btnChat: () => openPopup('chat'),
        btnLogin: () => openPopup('login'),
    };

    Object.entries(menuActions).forEach(([btnId, action]) => {
        const btn = document.getElementById(btnId);
        if (btn) btn.addEventListener('click', action);
    });

    // Popup Layer logic
    window.openPopup = function(type, data = {}) {
        const popupLayer = document.getElementById('popupLayer');
        popupLayer.innerHTML = renderPopup(type, data);
        popupLayer.classList.add('active');
    };

    // Close popup
    window.closePopup = function() {
        const popupLayer = document.getElementById('popupLayer');
        popupLayer.innerHTML = '';
        popupLayer.classList.remove('active');
    };

    // Render central popup UI (type: string, data: Object)
    function renderPopup(type, data) {
        // Popup templates for each feature
        const templates = {
            team: `<div class="popup"><button class="close" onclick="closePopup()">├Ч</button>
                <h2>р╕Ир╕▒р╕Фр╕Чр╕╡р╕б</h2><div id="teamEditArea"></div></div>`,
            inventory: `<div class="popup"><button class="close" onclick="closePopup()">├Ч</button>
                <h2>р╕Др╕ер╕▒р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕б</h2><div id="inventoryArea"></div></div>`,
            quest: `<div class="popup"><button class="close" onclick="closePopup()">├Ч</button>
                <h2>р╣Ар╕Др╕зр╕кр╕Хр╣М</h2><div id="questArea"></div></div>`,
            shop: `<div class="popup"><button class="close" onclick="closePopup()">├Ч</button>
                <h2>р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓</h2><div id="shopArea"></div></div>`,
            gacha: `<div class="popup"><button class="close" onclick="closePopup()">├Ч</button>
                <h2>р╕Бр╕▓р╕Кр╕▓</h2><div id="gachaArea"></div></div>`,
            characterCollection: `<div class="popup"><button class="close" onclick="closePopup()">├Ч</button>
                <h2>р╕Др╕ер╕▒р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г</h2><div id="characterArea"></div></div>`,
            announcement: `<div class="popup large"><button class="close" onclick="closePopup()">├Ч</button>
                <h2>р╕Ыр╕гр╕░р╕Бр╕▓р╕и</h2><div id="announcementArea"></div></div>`,
            chat: `<div class="popup tall"><button class="close" onclick="closePopup()">├Ч</button>
                <h2>р╣Бр╕Кр╕Ч</h2><div id="chatArea"></div></div>`,
            login: `<div class="popup small"><button class="close" onclick="closePopup()">├Ч</button>
                <h2>р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ</h2>
                <input id="userId" placeholder="User ID" /><input id="userPass" type="password" placeholder="Password" />
                <button id="doLoginBtn">р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ</button>
                <div id="loginHint"></div>
                </div>`,
        };
        if (!templates[type]) return '<div class="popup"><button class="close" onclick="closePopup()">├Ч</button><p>р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ</p></div>';
        return templates[type];
    }

    // Escape popup with ESC key
    document.addEventListener('keyup', (ev) => {
        if (ev.key === 'Escape') closePopup();
    });

    // Hide battlefield when clicking "Back"
    const btnBack = document.getElementById('btnBack');
    if (btnBack) btnBack.addEventListener('click', () => {
        document.getElementById('mainBattlefield').classList.add('hide');
    });

    // Responsive popup layer CSS logic (for .active popup display)
    // (Style in css/style.css, eg. for .popup, .popup.large, .popup.tall, etc.)

    // Helper: show player name if logged in
    window.setPlayerName = function(name) {
        document.getElementById('playerName').textContent = name || '';
    };

    // Helper: trigger noti dot (menu) if new message (ex. quest, announcement)
    window.setMenuNoti = function(btnId, show) {
        const btn = document.getElementById(btnId);
        if (btn) {
            if (show) btn.classList.add('noti');
            else btn.classList.remove('noti');
        }
    };

    // Helper: clear all popup
    window.clearAllPopup = closePopup;
});

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М css\style.css
/* Main color theme */
:root {
  --dark-bg: #191c21;
  --panel-bg: #23242a;
  --pop-bg: #1d2230;
  --accent: #3fa8ff;
  --accent2: #ff6565;
  --secondary: #e6f1ff;
  --border: #33364a;
  --card-bg: #25293c;
  --font-main: 'Prompt', 'Sarabun', Arial, sans-serif;
}

body,
html {
  margin: 0;
  padding: 0;
  background: var(--dark-bg);
  color: var(--secondary);
  font-family: var(--font-main);
  font-size: 17px;
  transition: background 0.2s;
  height: 100%;
  min-height: 100vh;
}
.dark-bg {
  background: var(--dark-bg)!important;
}

header, nav {
  width: 100vw;
  background: var(--panel-bg);
  position: sticky; top: 0;
  z-index: 40;
}

.navbar {
  display: flex; justify-content: space-between;
  align-items: center; padding: 0.3em 3vw;
}
.logo {
  font-weight: bold;
  font-size: 1.2em;
  letter-spacing: 1px;
  color: var(--accent);
}
.menu {
  list-style: none; display: flex; align-items: center; gap: .6em;
  margin: 0; padding: 0;
}
.menu li button {
  background: transparent; border: none; color: var(--secondary);
  font-size: 1em; padding: .45em 1em;
  border-radius: 30px; cursor: pointer;
  transition: background .14s;
  position: relative;
}
.menu li button.noti::after {
  content: "";
  background: var(--accent2);
  width: 10px; height: 10px;
  border-radius:100%; position: absolute;
  top: .3em; right: .7em;
  box-shadow: 0 0 6px 3px #ffabab77;
}

.menu li button:hover,
.menu li button:focus {
  background: #2c2e39;
  color: var(--accent);
}
.profile { display: flex; align-items: center; gap: 1em; }
#playerName { font-weight: 600; }
.hide { display: none!important; }


/* ========== MAIN BATTLEFIELD ========== */
main#mainBattlefield {
  max-width: 1180px;
  margin: 1.3em auto 0 auto;
  background: var(--panel-bg);
  border-radius: 15px;
  box-shadow: 0 2px 50px #0004;
  padding: 1.2em .5em 1.5em .5em;
  min-height: 430px;
  display: block;
  transition: all .18s;
}
.battlefield {
  position: relative;
  width: 100%;
  min-height: 320px;
  background: linear-gradient(0deg, #202639 80%, #1a222e 100%);
  border-radius: 16px;
  margin: 0 auto 10px auto; 
  box-shadow: 0 0 35px 10px #04071c30 inset;
  overflow: hidden;
  padding: 1em 0;
}
.card-row {
  display: flex;
  justify-content: space-evenly;
  align-items: flex-end;
  margin: 0.4em auto;
  gap: 13px;
  min-height: 130px;
  z-index: 2;
  position: relative;
}

/* User's team on top, monsters below */
.card-row.user { margin-bottom: 46px; }
.card-row.monster { margin-bottom: 18px; }

.spd-bar-container {
  position: absolute; width: 100%;
  left: 0; top: 48%;
  transform: translateY(-50%);
  display: flex; justify-content: center;
  gap: 24px; pointer-events: none;
  z-index: 3;
}
.spd-bar {
  width: 90px; height: 8px;
  background: #303742;
  border-radius: 6px;
  margin-bottom: 3px;
  overflow: hidden;
  box-shadow: 0 2px 8px #0006 inset;
}
.spd-bar-fill {
  background: linear-gradient(90deg, var(--accent), #9be7ff 70%);
  height: 100%; border-radius: 6px;
  transition: width 0.23s;
}

.battle-controls {
  display: flex; justify-content: center;
  gap: 30px; padding: 1.2em 0;
}
.primary-btn, .secondary-btn {
  background: var(--accent);
  border: none;
  color: #fff;
  font-size: 1.04em;
  font-weight: bold;
  padding: .65em 2.2em;
  border-radius: 35px;
  cursor: pointer;
  letter-spacing: .05em;
  box-shadow: 0 2px 8px #41a5f68e;
  margin-bottom: .4em;
  transition: all .14s;
}
.primary-btn:hover { background: #135488;}
.secondary-btn {
  background: #373958; color: #ccd9ef; box-shadow: none;
}
.secondary-btn:hover { background: #29304b; color: #fff; }

/* CARD STYLE - for hero & monster */
.card {
  background: var(--card-bg);
  border-radius: 15px;
  box-shadow: 0 0 8px 1px #23294a78, 0 1px 0 #3fa8ff2a;
  width: 116px; min-height: 136px;
  position: relative;
  display: flex; flex-direction: column;
  align-items: center; justify-content: flex-end;
  transition: transform .16s;
  overflow: visible;
  border: 2px solid #1d2238;
}
.card .hero-img, .card .mon-img {
  width: 75px; height: 75px;
  border-radius: 50%;
  margin-top: 17px;
  background: #13131c;
  object-fit: cover; object-position: center;
  outline: 3px solid var(--accent);
  box-shadow: 0 0 12px #3fa8ff33;
}
.card .statbar {
  width: 85%; height: 8px;
  border-radius: 5px;
  margin: 5px auto 5px auto;
  background: #171c2d;
  box-shadow: 0 1px 8px #0006 inset;
  overflow: hidden;
}
.card .hp-fill {
  background: linear-gradient(90deg, #55dcab, #4e93f1 80%);
  height: 100%; border-radius: 3px;
  transition: width 0.27s;
}
.card .name {
  font-size: .98em; font-weight: bold; margin-top: 7px;
  text-shadow: 0 2px 9px #0008;
  color: #fff;
  letter-spacing: .03em;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 95px;
  text-align: center;
}
.card .damage-popup {
  position: absolute;
  left: 60%; top: 23%;
  font-size: 1.15em;
  color: var(--accent2);
  font-weight: bold;
  transform: translate(-50%, -60%) scale(1.05);
  opacity: 0;
  pointer-events: none;
  animation: damageJump .7s cubic-bezier(.5,-1, .2, 1.8) 1;
}

@keyframes damageJump {
  0%   { opacity: 0; transform: translate(-50%, -80%) scale(0.7);}
  21%  { opacity: 1; transform: translate(-50%, -120%) scale(1.2);}
  69%  { opacity: 1; transform: translate(-50%, -115%) scale(1.0);}
  100% { opacity: 0; transform: translate(-50%,-70%) scale(.60);}
}

/* Buff & debuff icon overlay on card */
.card .stat-icons {
  display: flex; flex-wrap: wrap;
  gap: 1px; margin-bottom: 4px; justify-content: center;
}
.card .stat-icon {
  width: 18px; height: 18px; border-radius: 50%;
  background: #232c48; border: 2px solid #6ad2ff77;
  display: flex; align-items: center; justify-content: center;
  font-size: 1em; margin-left: 1px;
  box-shadow: 0 0 5px #0088ffc9;
  position: relative;
  cursor: pointer;
}
.card .stat-icon.buff { border-color: #15ef92; }
.card .stat-icon.debuff { border-color: #eb5454; }

/* Tooltip */
.tooltip {
  position: absolute;
  left: 50%; bottom: 120%; z-index: 24;
  background: #22253c;
  color: #daf5ff;
  padding: 4px 12px;
  border-radius: 8px;
  font-size: .90em; min-width: 87px; max-width: 200px;
  box-shadow: 0 8px 25px #0079ff41;
  pointer-events: none; opacity: 0; transition: all .12s;
}
.stat-icon:hover .tooltip { opacity: 1; }

/* ========== POPUPS ========== */
#popupLayer {
  position: fixed;
  top:0; left:0; z-index: 99;
  width:100vw; height:100vh;
  display:flex; align-items:center; justify-content:center;
  background: #050925d8;
  pointer-events: none;
  opacity: 0;
  transition: opacity .18s;
}
#popupLayer.active {
  pointer-events: all; opacity: 1;
}
.popup {
  background: var(--pop-bg);
  border-radius: 18px;
  padding: 2em 1.5em 1.5em 1.5em;
  box-shadow: 0 0 80px #3138aa51, 0 1px 13px #49d9ff1b;
  min-width: 340px;
  min-height: 120px;
  max-width: 99vw;
  max-height: 90vh;
  overflow-y: auto;
  color: #fff;
  position: relative;
  animation: popupOpen .25s cubic-bezier(.7,0, .09,1.55);
}
@keyframes popupOpen {
 0% { transform: scale(.82) translateY(50px) rotate(-7deg);}
 100%{ transform: scale(1) translateY(0);}
}
.popup.large { min-width: 700px; max-width: 99vw; min-height: 340px;}
.popup.tall { min-height: 390px; max-width: 550px;}
.popup.small { min-width: 260px;max-width:327px;}

.popup .close {
  position:absolute;
  top:10px; right: 10px;
  background: #293e69;
  color: #dff6fc;
  border:none; font-size:1.45em;
  width:30px; height:30px;
  border-radius:100%; cursor:pointer;
  opacity: .85;
  z-index: 5;
  transition: background .15s;
}
.popup .close:hover { background: var(--accent2); color: #fff; }

/* Pop-up area blocks (for slot areas) */
#teamEditArea, #questArea, #gachaArea, #characterArea, #announcementArea,
#chatArea, #shopArea, #inventoryArea { margin: 16px 0 0 0;}

/* Input Buttons/Fields */
input, select, textarea {
  background: #1e2532;
  border: 2px solid #314a6a;
  color: #eee;
  padding: 9px 14px;
  border-radius: 9px;
  font-size: 1em; outline: none;
  margin: 5px 0;
  box-shadow: 0 2px 8px #0067ad20;
  transition: border .13s;
}
input:focus { border:2px solid var(--accent);}
input[type="password"] { letter-spacing: .2em; }

button:focus { outline: 2px solid var(--accent);}
button:active { filter: brightness(.93);}
::-webkit-scrollbar { width: 9px; background: #233;}
::-webkit-scrollbar-thumb { background: #303860; border-radius: 7px; box-shadow: 0 2px 12px #152a;}

/* Footer */
footer {
  margin: 0;
  background: #141520;
  color: #c9d1e6bb;
  text-align: center;
  font-size: .96em;
  padding: 16px 0 11px 0;
}

/* ========== RESPONSIVE DESIGN ========== */
@media (max-width: 750px) {
  .battlefield { min-height: 240px; }
  .card { width: 81px; min-height: 82px; }
  .card .hero-img, .card .mon-img { width: 52px; height: 52px;}
  .popup.large { min-width: 97vw;}
  .popup.tall { min-width: 97vw;}
  main#mainBattlefield { padding: .51em 0; border-radius: 6px;}
  .navbar { flex-direction:column; gap:.5em;}
  .menu { flex-wrap: wrap; gap: .19em 1em; margin-bottom:.3em;}
}

@media (max-width: 540px) {
  .card { width: 66px; }
  .popup { padding:1em .65em .8em .65em; }
}

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М data/char/astra.json
{
  "id": "astra",
  "type": "hero",
  "name": "Astra",
  "element": "water",
  "class": "knight",
  "rarity": 5,
  "star": 5,
  "level": 1,
  "level_max": 50,
  "exp": 0,
  "exp_max": 600,
  "hp": 1064,
  "atk": 116,
  "def": 273,
  "spd": 100,
  "crit_rate": 15,
  "crit_dmg": 150,
  "effectiveness": 0,
  "resistance": 20,
  "skills": [
    {
      "id": "astra_s1",
      "name": "Sword Slash",
      "type": "attack",
      "desc": "р╣Вр╕Ир╕бр╕Хр╕╡р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в 1 р╕Хр╕▒р╕з р╕бр╕╡р╣Вр╕нр╕Бр╕▓р╕кр╕Хр╕┤р╕Ф [def break] 1 р╣Ар╕Чр╕┤р╕гр╣Мр╕Щ",
      "multiplier": 1.02,
      "effect": {
        "debuff": [
          { "type": "def_break", "turn": 1, "chance": 35 }
        ]
      },
      "cooldown": 0
    },
    {
      "id": "astra_s2",
      "name": "Guardian Blessing",
      "type": "buff",
      "desc": "р╣Ар╕Юр╕┤р╣Ир╕б DEFр╣Гр╕лр╣Йр╕Чр╕▒р╣Йр╕Зр╕Чр╕╡р╕б 2 р╣Ар╕Чр╕┤р╕гр╣Мр╕Щ",
      "multiplier": 0,
      "effect": {
        "buff": [
          { "type": "def_up", "turn": 2 }
        ]
      },
      "cooldown": 3
    },
    {
      "id": "astra_s3",
      "name": "Aegis Pierce",
      "type": "attack",
      "desc": "р╣Вр╕Ир╕бр╕Хр╕╡р╕лр╕бр╕╣р╣И р╕ир╕▒р╕Хр╕гр╕╣р╕Чр╕╕р╕Бр╕Хр╕▒р╕з р╣Вр╕нр╕Бр╕▓р╕кр╕Хр╕┤р╕Ф stunned 1 р╣Ар╕Чр╕┤р╕гр╣Мр╕Щ",
      "multiplier": 1.7,
      "effect": {
        "debuff": [
          { "type": "stun", "turn": 1, "chance": 50 }
        ]
      },
      "cooldown": 5
    }
  ],
  "passive": "astra_passive",
  "img": "astra.png"
}

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М data/char/slime_basic.json
{
  "id": "slime_basic",
  "type": "monster",
  "name": "Slime (Basic)",
  "element": "earth",
  "class": "monster",
  "rarity": 1,
  "level": 1,
  "level_max": 20,
  "exp": 0,
  "exp_max": 100,
  "hp": 240,
  "atk": 48,
  "def": 24,
  "spd": 70,
  "crit_rate": 0,
  "crit_dmg": 120,
  "effectiveness": 0,
  "resistance": 0,
  "skills": [
    {
      "id": "slime_s1",
      "name": "Bodyslam",
      "type": "attack",
      "desc": "р╣Вр╕Ир╕бр╕Хр╕╡р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╣Ар╕Фр╕╡р╕вр╕з",
      "multiplier": 1.1,
      "effect": {},
      "cooldown": 0
    }
  ],
  "img": "slime_basic.png"
}

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М team.html
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Epic Seven - р╕Ир╕▒р╕Фр╕Чр╕╡р╕б</title>
    <link rel="stylesheet" href="css/style.css" />
</head>
<body class="dark-bg">

<header>
    <nav class="navbar">
        <div class="logo">EPIC Seven - Card Battle</div>
        <ul class="menu">
            <li><button onclick="window.location.href='index.html'">р╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б</button></li>
            <li><button onclick="window.location.href='team.html'" class="noti">р╕Ир╕▒р╕Фр╕Чр╕╡р╕б</button></li>
            <li><button id="btnBack">р╕Бр╕ер╕▒р╕Ъ</button></li>
        </ul>
        <div class="profile">
            <span id="playerName"></span>
            <button id="btnLogin">р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ</button>
        </div>
    </nav>
</header>

<main id="mainTeamSetup" style="max-width: 1000px; margin:20px auto;background:var(--panel-bg);border-radius:12px;box-shadow:0 1px 20px #0006;padding:26px 8px;">
    <h2 style="margin-bottom:0.8em;">р╕Ир╕▒р╕Фр╕Чр╕╡р╕бр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╣Ир╕нр╕кр╕╣р╣Й</h2>
    <div class="team-section">
        <h3>р╕Чр╕╡р╕бр╕Вр╕нр╕Зр╕Йр╕▒р╕Щ (р╕кр╕╣р╕Зр╕кр╕╕р╕Ф 4 р╕Хр╕▒р╕з)</h3>
        <div id="teamSlotBar" class="card-row user"></div>
        <button class="primary-btn" id="btnSaveTeam" style="margin-top:18px;">р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Чр╕╡р╕б</button>
    </div>
    <hr style="margin: 32px 0 18px 0; border:1px solid var(--border);">
    <h4>р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Чр╕╡р╣Ир╕бр╕╡ (р╕ер╕▓р╕Бр╕Вр╕╢р╣Йр╕Щр╕Вр╣Йр╕▓р╕Зр╕Ър╕Щр╣Ар╕Юр╕╖р╣Ир╕нр╕Ир╕▒р╕Фр╕Чр╕╡р╕б)</h4>
    <div id="charCollection" class="card-row" style="flex-wrap:wrap; gap:15px 8px; justify-content:flex-start;"></div>
</main>

<div id="popupLayer"></div>

<footer>
    <small style="color: #aaa;">&copy; 2024 - Epic Seven Fan Project Demo Frontend</small>
</footer>

<script src="js/ui.js"></script>
<script src="js/team.js"></script>
</body>
</html>

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/team.js
// js/team.js

const maxTeam = 4;

let allChars = [];   // р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Чр╕╡р╣Ир╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕бр╕╡
let team = [];       // id р╕Хр╕▒р╕зр╕Чр╕╡р╣Ир╣Ар╕ер╕╖р╕нр╕Б

/**
 * р╣Вр╕лр╕ер╕Фр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Ир╕▓р╕Бр╣Др╕Яр╕ер╣М (mock: as static, р╣Гр╕Щр╣Вр╕Ыр╕гр╕Фр╕▒р╕Бр╕Кр╕▒р╕Щ fetch р╕Ир╕гр╕┤р╕З)
 */
async function loadCharacters() {
    // р╕кр╕бр╕бр╕Хр╕┤ user р╕бр╕╡ asra р╕Бр╕▒р╕Ъ slime_basic (р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Фр╣Йр╣Гр╕Щр╕ар╕▓р╕вр╕лр╕ер╕▒р╕З)
    let charIds = ['astra', 'slime_basic'];
    let res = await Promise.all(
        charIds.map(id => fetch(`data/char/${id}.json`).then(r => r.json()))
    );
    allChars = res;
}

/**
 * р╣Вр╕лр╕ер╕Фр╕Чр╕╡р╕бр╕Ир╕▓р╕Б LocalStorage
 */
function loadTeam() {
    let t = localStorage.getItem('userTeam');
    if (!t) team = [];
    else team = JSON.parse(t);
}

/**
 * р╣Ар╕Лр╕Яр╕Чр╕╡р╕бр╕ер╕З LocalStorage
 */
function saveTeam() {
    const cleanTeam = team.filter(id => !!id); // р╣Бр╕Бр╣Йр╣Др╕В: р╕Бр╕гр╕нр╕З id р╕Чр╕╡р╣Ир╕бр╕╡р╕Ир╕гр╕┤р╕Зр╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ
    localStorage.setItem('userTeam', JSON.stringify(cleanTeam)); // р╣Гр╕Кр╣Й cleanTeam
    alert("р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Чр╕╡р╕бр╕кр╕│р╣Ар╕гр╣Зр╕И!");
}

/**
 * render UI slot р╕Чр╕╡р╕б (р╕кр╕╣р╕Зр╕кр╕╕р╕Ф 4)
 */
function renderTeamBar() {
    const el = document.getElementById('teamSlotBar');
    if (!el) return; // р╣Бр╕Бр╣Йр╣Др╕В: р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕гр╕Ур╕╡ element р╣Др╕бр╣Ир╣Ар╕Ир╕н
    el.innerHTML = '';
    for (let i = 0; i < maxTeam; i++) {
        let char = allChars.find(c=>c.id===team[i]);
        let slot = document.createElement('div');
        slot.className = 'card';
        slot.style.minHeight = "140px";
        slot.dataset.idx = i;
        if (char) {
            slot.innerHTML = `
                <img src="img/char/${char.img}" class="hero-img" alt="${char.name}">
                <div class="name">${char.name}</div>
                <button class="primary-btn" style="margin:7px 0 4px 0;font-size:.93em;" onclick="removeFromTeam(${i})">р╕Щр╕│р╕нр╕нр╕Б</button>
            `;
        } else {
            slot.innerHTML = `<div style="opacity:.44;margin-top:30px;text-align:center;">р╕зр╣Ир╕▓р╕З</div>`;
            slot.style.background = '#262a39b2';
        }
        el.appendChild(slot);
    }
}

/**
 * render р╕Др╕ер╕▒р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г р╕Фр╕╢р╕Зр╕Ир╕▓р╕Б allChars р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
 */
function renderCharCollection() {
    const el = document.getElementById('charCollection');
    if (!el) return; // р╣Бр╕Бр╣Йр╣Др╕В: р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕гр╕Ур╕╡ element р╣Др╕бр╣Ир╣Ар╕Ир╕н
    el.innerHTML = '';
    allChars.forEach(c => {
        // р╕Цр╣Йр╕▓р╕бр╕╡р╣Гр╕Щр╕Чр╕╡р╕бр╣Бр╕ер╣Йр╕з р╣Др╕бр╣Ир╣Гр╕лр╣Йр╕ер╕▓р╕Бр╕Лр╣Йр╕│
        let inTeam = team.includes(c.id);
        let div = document.createElement('div');
        div.className = 'card';
        div.draggable = !inTeam;
        div.style.opacity = inTeam ? '.34' : '1.0';
        div.style.cursor = inTeam ? "not-allowed" : "grab";
        div.innerHTML = `
            <img src="img/char/${c.img}" class="hero-img" alt="${c.name}" >
            <div class="name">${c.name}</div>
            <div style="font-size:.92em;margin-bottom:3px;">Lv.${c.level} &nbsp; <small class="stat-bar">${c.hp} HP</small></div>
        `;
        // Popover info
        div.addEventListener('click', e=>{
            openCharInfoPopup(c);
        });
        // Drag: р╣Ар╕ер╕╖р╕нр╕Бр╣Гр╕кр╣Ир╕Чр╕╡р╕б
        div.addEventListener('dragstart', ev=>{
            ev.dataTransfer.setData("text/plain", c.id);
        });
        el.appendChild(div);
    });
    // р╕Чр╕╡р╕бр╕гр╕▒р╕Ъ event drop
    const teamSlots = document.querySelectorAll('#teamSlotBar .card');
    teamSlots.forEach(slot=>{
        slot.ondragover = e=>{e.preventDefault(); slot.style.borderColor='#49cfffa8';}
        slot.ondragleave = e=>{slot.style.borderColor='';}
        slot.ondrop = function(e){
            e.preventDefault();
            let dragId = e.dataTransfer.getData("text/plain");
            let idx = Number(slot.dataset.idx);
            // р╕Бр╕гр╕нр╕Зр╕Лр╣Йр╕│
            if (team.includes(dragId)) return;
            team[idx] = dragId;
            saveTeam();
            renderTeamBar();
            renderCharCollection();
        }
    });
}

/**
 * Remove р╕Хр╕▒р╕зр╕Ир╕▓р╕Бр╕Чр╕╡р╕б
 */
window.removeFromTeam = function(idx){
    team[idx] = undefined;
    renderTeamBar(); renderCharCollection();
}

/**
 * Pop-up info р╕Хр╕▒р╕зр╕ер╕░р╕Др╕г
 */
function openCharInfoPopup(char){
    closePopup();
    window.openPopup('charInfo', {char});
}

/**
 * р╣Ар╕Юр╕┤р╣Ир╕б template popup р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г
 */
(function(){
    const origRenderPopup = window.renderPopup;
    window.renderPopup = function(type, data){
        if(type=="charInfo" && data && data.char){
            const c = data.char;
            return `<div class="popup" style="min-width:285px;">
                <button class="close" onclick="closePopup()">├Ч</button>
                <img src="img/char/${c.img}" class="hero-img" style="margin:auto;display:block;" />
                <div class="name" style="text-align:center;">${c.name}</div>
                <div style="margin-top:8px;font-size:.97em;color:#87cdff;">Lv.${c.level} тШЕ${c.star} <span> (${c.class})</span></div>
                <hr style="margin:8px 0 8px 0;border-color:#234;">
                <div><b>HP</b> ${c.hp} &nbsp; <b>ATK</b> ${c.atk} &nbsp; <b>DEF</b> ${c.def}</div>
                <div><b>SPD</b> ${c.spd} &nbsp; <b>CRIT%:</b> ${c.crit_rate}</div>
                <div><b>Skills</b>:</div>
                <ul>${c.skills.map(s=> `<li><b>${s.name}</b>: ${s.desc}</li>`).join('')}</ul>
            </div>`;
        }
        return origRenderPopup(type, data);
    }
})();

/**
 * р╕Бр╕Фр╕Ыр╕╕р╣Ир╕бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б
 */
document.addEventListener('DOMContentLoaded', ()=>{
    const btnSaveTeam = document.getElementById('btnSaveTeam');
    if (btnSaveTeam) btnSaveTeam.onclick = saveTeam; // р╣Бр╕Бр╣Йр╣Др╕В: р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕гр╕Ур╕╡ element р╣Др╕бр╣Ир╣Ар╕Ир╕н
});

/**
 * р╕Бр╕ер╕▒р╕Ър╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б
 */
const btnBack = document.getElementById('btnBack');
if (btnBack) btnBack.onclick = ()=>{ window.location.href = 'index.html'; } // р╣Бр╕Бр╣Йр╣Др╕В: р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕гр╕Ур╕╡ element р╣Др╕бр╣Ир╣Ар╕Ир╕н

/**
 * INITIALIZE
 */
(async()=>{
    await loadCharacters();
    loadTeam();
    renderTeamBar();
    renderCharCollection();
})();

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/battle.js
/**
 * js/battle.js
 * Epic Seven Card Auto Battle Main Engine (Frontend 100%)
 * Full Modular, Responsive, AI, Animation, CD, Buff/Debuff, WIN/LOSE Result
 * By (yourname)
 */

/* ------------------ Config & State ------------------ */
const SPD_BAR_MAX = 100;    // SPD bar р╣Ар╕Хр╣Зр╕б
const SPD_FRAME = 120;      // ms р╕Хр╣Ир╕н tick
const MAX_TEAM = 4, MAX_MON = 4;

let heroes = [];      // р╕Эр╕▒р╣Ир╕Зр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ (heroes: [{...}])
let monsters = [];    // р╕Эр╕▒р╣Ир╕Зр╕ир╕▒р╕Хр╕гр╕╣ (monsters: [{...}])
let speedBars = [];   // SPD bar + Buff/Debuff refs
let autoOn = false;
let isBattling = false;

/* ------------------ 1. LOAD TEAM & ENEMY ------------------ */
async function loadBattleTeams() {
    // Load User Team
    let t = localStorage.getItem('userTeam');
    let myTeam = t ? JSON.parse(t) : [];
    heroes = [];
    for (let id of myTeam) {
        if (!id) continue;
        let c = await fetch(`data/char/${id}.json`).then(r => r.json());
        heroes.push({
            ...deepCopy(c),
            currHp: c.hp,
            alive: true,
            buffs: [],
            debuffs: [],
            cooldowns: Array((c.skills || []).length).fill(0)
        });
    }
    // Load Monsters (Mock: slime_basic N р╕Хр╕▒р╕з)
    monsters = [];
    for (let i = 0; i < MAX_MON; i++) {
        let c = await fetch(`data/char/slime_basic.json`).then(r => r.json());
        monsters.push({
            ...deepCopy(c),
            id: c.id + '_' + (i+1),
            currHp: c.hp,
            alive: true,
            buffs: [],
            debuffs: [],
            cooldowns: Array((c.skills || []).length).fill(0)
        });
    }
}

/* ------------------ 2. SPD BAR INIT ------------------ */
function initSpdBar() {
    speedBars = [];
    heroes.forEach((c, i) => {
        speedBars.push(makeSpeedObj(c, i, 'hero'));
        c.index = i; c.side = 'hero'; // Weak ref.
    });
    monsters.forEach((c, i) => {
        speedBars.push(makeSpeedObj(c, i, 'mon'));
        c.index = i; c.side = 'mon';
    });
}
function makeSpeedObj(c, i, side) {
    return {
        id: `${side}${i}`,
        side,
        name: c.name,
        spd: c.spd,
        charge: 0,
        dead: false,
        index: i,
        cooldowns: c.cooldowns,
        buffs: c.buffs,
        debuffs: c.debuffs
    };
}

/* ------------------ 3. RENDER FIELD ------------------ */
function renderBattlefield() {
    const heroRow = document.querySelector('.card-row.user');
    heroRow.innerHTML = '';
    heroes.forEach((c, idx) => {
        heroRow.appendChild(renderCard(c, idx, 'hero'));
    });
    const monRow = document.querySelector('.card-row.monster');
    monRow.innerHTML = '';
    monsters.forEach((c, idx) => {
        monRow.appendChild(renderCard(c, idx, 'mon'));
    });
    // SPD Bars
    const spdDiv = document.querySelector('.spd-bar-container');
    spdDiv.innerHTML = '';
    speedBars.forEach(bar => {
        let barWrap = document.createElement('div');
        barWrap.className = 'spd-bar';
        barWrap.title = `[${bar.side === 'hero' ? 'р╕Чр╕╡р╕бр╣Ар╕гр╕▓':'р╕ир╕▒р╕Хр╕гр╕╣'}] ${bar.name} SPD:${bar.spd}`;
        let fill = document.createElement('div');
        fill.className = 'spd-bar-fill';
        fill.style.width = Math.floor(Math.min(bar.charge, SPD_BAR_MAX)/SPD_BAR_MAX*100) + '%';
        barWrap.appendChild(fill);
        spdDiv.appendChild(barWrap);
    });
}

/* ------------------ CARD DISPLAY utils ------------------ */
function renderCard(c, idx, side='hero') {
    let d = document.createElement('div');
    d.className = 'card'; d.id = `${side}${idx}`;
    d.setAttribute('data-idx', idx);
    d.setAttribute('data-side', side);

    // Image
    let img = document.createElement('img');
    img.className = side == 'hero' ? 'hero-img' : 'mon-img';
    img.src = `img/char/${c.img}`;
    img.alt = c.name;
    d.appendChild(img);
    // Name
    d.appendChild(createDiv('name', c.name));

    // HP BAR
    let statbar = document.createElement('div');
    statbar.className = 'statbar';
    let hpfill = document.createElement('div');
    hpfill.className = 'hp-fill';
    let hppercent = Math.max(0, Math.min(1, c.currHp/c.hp));
    hpfill.style.width = (hppercent*100) + '%';
    statbar.appendChild(hpfill);
    d.appendChild(statbar);

    // Buff/Debuff
    let statIcons = document.createElement('div');
    statIcons.className = 'stat-icons';
    (c.buffs||[]).forEach(b => statIcons.appendChild(renderStatusIcon(b, 'buff')));
    (c.debuffs||[]).forEach(dbb => statIcons.appendChild(renderStatusIcon(dbb, 'debuff')));
    d.appendChild(statIcons);

    d.appendChild(createDiv('', `HP ${Math.floor(c.currHp)}/${c.hp} SPD:${c.spd}`, {fontSize: ".82em"}));
    return d;
}

function createDiv(cn, txt, styleObj) {
    let d = document.createElement("div");
    if (cn) d.className = cn; d.innerText = txt;
    if (styleObj) Object.assign(d.style, styleObj);
    return d;
}

function renderStatusIcon(stat, type='buff') {
    let e = document.createElement('div');
    e.className = 'stat-icon '+type;
    e.innerHTML = getIcon(stat.type) ;
    e.title = stat.type.toUpperCase() + (stat.turn?" ("+stat.turn+"T)":"");
    let tt = document.createElement('span');
    tt.className = 'tooltip';
    tt.innerText = statusTooltip(stat.type, type, stat);
    e.appendChild(tt);
    if (stat.turn && stat.turn>0) {
        let lbl = document.createElement('small');
        Object.assign(lbl.style,{
            position:'absolute', fontSize:'.79em', fontWeight:'bold',
            right:'2px', bottom:'1px', color: type==='buff'?'#42fcc1':'#ffc3a3'
        });
        lbl.innerText = stat.turn; e.appendChild(lbl);
    }
    return e;
}
function statusTooltip(type, side, details) {
    const lib = {
        'def_break':'DEF р╕ер╕Фр╕ер╕З р╕гр╕▒р╕Ър╕Фр╕▓р╣Ар╕бр╕Ир╣Ар╕Юр╕┤р╣Ир╕б','def_up':'DEF р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕╢р╣Йр╕Щ',
        'stun':'р╕Хр╕┤р╕Фр╕кр╕Цр╕▓р╕Щр╕░р╕бр╕╢р╕Щ, р╕Вр╣Йр╕▓р╕бр╣Ар╕Чр╕┤р╕гр╣Мр╕Щ','poison':'р╣Вр╕Фр╕Щр╕Юр╕┤р╕й (р╕ер╕Фр╣Ар╕ер╕╖р╕нр╕Ф)',
        'burn':'р╣Ар╕Ьр╕▓р╣Др╕Я (р╕ер╕Фр╣Ар╕ер╕╖р╕нр╕Фр╕лр╕Щр╕▒р╕Б)','heal_ot':'р╕Яр╕╖р╣Йр╕Щр╕Яр╕╣р╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Ир╕нр╕З',
        'spd_up':'SPD р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕╢р╣Йр╕Щ','spd_down':'SPD р╕ер╕Фр╕ер╕З',
        'immune':'р╕Бр╕▒р╕Щр╕Фр╕╡р╕Ър╕▒р╕Я','silence':'р╣Гр╕Ър╣Й (р╣Гр╕Кр╣Йр╕кр╕Бр╕┤р╕ер╣Др╕бр╣Ир╣Др╕Фр╣Й)',
    };
    return (lib[type]||type)+((details.turn)?" ("+details.turn+" turn)":"");
}
function getIcon(type) {
    switch(type){
        case "def_break":return "ЁЯЫая╕П"; case "def_up":return "ЁЯЫбя╕П";
        case "stun":return "ЁЯТл"; case "heal_ot":return "ЁЯТЪ";
        case "poison":return "тШая╕П"; case "burn":return "ЁЯФе";
        case "spd_up":return "ЁЯТи"; case "spd_down":return "ЁЯРв";
        case "immune":return "ЁЯФТ"; case "silence":return "ЁЯФЗ";
        default:return "тЬи";
    }
}

// Window-wide Damage popup (as UI Function)
window.showDamage = function(idx, side, dmg, color='#ff5656') {
    let c = document.getElementById(`${side}${idx}`);
    if (!c) return;
    let dPop = document.createElement('span');
    dPop.className = 'damage-popup';
    dPop.innerText = (dmg<0?"+":"-")+Math.abs(dmg);
    dPop.style.color=color;
    c.appendChild(dPop);
    setTimeout(()=>{ dPop.remove(); }, 700);
};

/* ------------------ 4. SPD BAR LOOP & TURN SYSTEM------------------ */
function startBattle() {
    if (isBattling) return; isBattling = true; autoOn = true;
    async function battleLoop(){
        while(isBattling){
            for(let bar of speedBars){
                if(bar.dead) continue;
                // Refs
                let charArr = bar.side=='hero' ? heroes : monsters;
                let charPtr = charArr[bar.index];
                // 1. Process Buff/Debuff countdown&effects (HoT/Poison)
                window.effectEngine?.processStatusTurn?.(charPtr);
                if(charPtr.currHp<=0){ charPtr.alive=false; bar.dead=true; continue; }
                if(window.effectEngine?.isStunnedOrSkipped?.(charPtr)){
                    bar.cooldowns.forEach((v,i,arr)=>{ if(arr[i]>0) arr[i]--; });
                    continue;
                }
                if(!charPtr.alive) continue;
                // SPD charge
                bar.charge += getSpdCharge(bar);
                if(bar.charge >= SPD_BAR_MAX){
                    bar.charge = 0;
                    await doTurn(bar); // AI turn+animate+action
                    renderBattlefield(); // Render after turn
                    break; // sync (1 at a time)
                }
            }
            checkBattleResult();
            renderBattlefield();
            await (window.animationEngine?.sleep ?
                window.animationEngine.sleep(SPD_FRAME) :
                new Promise(r=>setTimeout(r, SPD_FRAME)));
        }
    }
    battleLoop();
}
function getSpdCharge(bar){
    let spdVal = bar.spd;
    let bonus = 1.0;
    if(bar.buffs?.some(b=>b.type=="spd_up")) bonus += 0.3;
    if(bar.debuffs?.some(b=>b.type=="spd_down")) bonus -= 0.3;
    return spdVal/10 * bonus;
}

/* ------------------ 5. TURN: AI р╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в/р╕кр╕Бр╕┤р╕е & Animation ------------------ */
async function doTurn(bar){
    let charArr = bar.side=='hero'?heroes:monsters;
    let oppArr = bar.side=='hero'?monsters:heroes;
    let idx = bar.index;
    let charPtr = charArr[idx];

    window.effectEngine?.processStatusTurn?.(charPtr);
    if(window.effectEngine?.isStunnedOrSkipped?.(charPtr)){
        bar.cooldowns.forEach((v,i,arr)=>{ if(arr[i]>0) arr[i]--; });
        return;
    }
    if(!charPtr.alive) return;

    // --- PICK SKILL (AI) ---
    let skill = window.aiPickSkill ? window.aiPickSkill(charPtr, bar.cooldowns, charArr, oppArr) : pickSkill(charPtr, bar);

    // --- PICK TARGET
    let targets = [];
    if(skill.type==='attack')
        targets = [window.aiPickTarget ? window.aiPickTarget(oppArr, skill) : aiPickTarget(oppArr, skill)];
    else if(skill.type==='buff')
        targets = charArr.filter(c=>c.alive);
    else if(skill.type==='heal')
        targets = [window.aiPickTarget ? window.aiPickTarget(charArr, skill) : aiPickTarget(charArr, skill)];
    else if(skill.type==='aoe' || (skill.type==='attack' && skill.multiplier>1.2)) // AoE
        targets = oppArr.filter(o=>o.alive);
    else
        targets = [window.aiPickTarget ? window.aiPickTarget(oppArr, skill) : aiPickTarget(oppArr, skill)];
    targets = targets.filter(Boolean);

    // --- Animation Section ---
    // Card slide / AOE / Buff / Heal
    if(skill.type==='attack' && targets[0]){
        let tidx = oppArr.indexOf(targets[0]);
        await window.animationEngine?.animateAttackCard?.(idx, tidx, bar.side, bar.side==='hero'?'mon':'hero');
    }
    if((skill.type==='aoe' || (skill.type==='attack' && skill.multiplier>1.2 && targets.length>1))) {
        let tgtIdxArr = targets.map(t=>oppArr.indexOf(t));
        await window.animationEngine?.animateAoEAttack?.(idx, bar.side, bar.side==='hero'?'mon':'hero', tgtIdxArr);
    }
    if(skill.type==='heal'){
        await window.animationEngine?.animateHeal?.(idx, bar.side);
    }
    if(skill.type==='buff'){
        await window.animationEngine?.animateBuffDebuff?.(idx, bar.side, "buff");
    }

    // --- APPLY SKILL ---
    await doSkill(charPtr, skill, targets, bar.side);

    // --- Increase Cooldown ---
    if(skill.cooldown)
        bar.cooldowns[charPtr.skills.findIndex(s=>s.id==skill.id)] = skill.cooldown+1;
    bar.cooldowns.forEach((v,i,arr)=>{ if(arr[i]>0) arr[i]--; });
}

// Fallback PickSkill, PickTarget р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╕бр╕╡ ai.js
function pickSkill(char, bar){
    let order = [2,1,0];
    for(let i of order){
        if(!char.skills[i]) continue;
        if(bar.cooldowns[i]<=0) return char.skills[i];
    }
    return char.skills[0];
}
function aiPickTarget(arr, skill=null){
    // Heal: lowest HP, Buff: first, Default: hp lowest enemy
    arr = arr.filter(c=>c.alive);
    if(skill && skill.type==="heal")
        return arr.sort((a,b)=>a.currHp/a.hp - b.currHp/b.hp)[0];
    if(skill && skill.type==="buff") return arr[0];
    return arr.sort((a,b)=>a.currHp - b.currHp)[0];
}

/* ------------------ 6. Apply Damage/Effect ------------------ */
async function doSkill(source, skill, targets, sourceSide){
    if(!targets) return;
    for(let t of targets){
        if(!t.alive) continue;
        if(skill.type=="heal"){
            let healVal = Math.floor(source.atk * 0.7 + source.level * 1.5);
            t.currHp = Math.min(t.hp, t.currHp + healVal);
            window.showDamage?.(t.index, t.side, -healVal, '#59f495');
            t.alive = t.currHp>0;
            continue;
        }
        if(skill.type=="buff" && skill.effect && skill.effect.buff){
            window.effectEngine?.addEffect(t, skill.effect.buff, "buff");
            continue;
        }
        // Attack / AoE
        let dmg = Math.floor(source.atk * (skill.multiplier || 1) * (1 + (source.crit_rate || 0) / 100));
        let defReduce = t.debuffs?.some(d=>d.type=="def_break") ? 1.4 : 1;
        let defVal = t.def * defReduce;
        dmg = Math.max(Math.floor(dmg - defVal/3), 1);
        if(Math.random()*100 < (source.crit_rate||0)) dmg = Math.floor(dmg*((source.crit_dmg||150)/100));

        t.currHp = Math.max(0, t.currHp - dmg);
        t.alive = t.currHp>0;
        if(t.currHp<=0) t.alive = false;
        window.showDamage?.(t.index, t.side, dmg, '#ff5656');
        // Debuff
        if(skill.effect?.debuff) {
            window.effectEngine?.addEffect(t, skill.effect.debuff, "debuff");
        }
        // TODO: Cleanse, Remove buff/debuff future
    }
}

/* ------------------ 7. RESULT ------------------ */
function checkBattleResult(){
    let mySurvive = heroes.some(c=>c.alive);
    let monSurvive = monsters.some(c=>c.alive);
    if(!mySurvive || !monSurvive){
        isBattling = false;
        showBattleResult(mySurvive ? 'win' : 'lose');
    }
}
function showBattleResult(state){
    // р╣Гр╕Кр╣Й popupManager р╕Цр╣Йр╕▓р╕бр╕╡ (р╕лр╕гр╕╖р╕н renderBattleResult)
    if(window.renderBattleResult){
        window.renderBattleResult({state});
    }else{
        setTimeout(()=>{
            openPopup('battleResult', {state});
        },800);
    }
}

/* ------------------ 8. INIT (START) ------------------ */
document.addEventListener('DOMContentLoaded', ()=>{
    const btnStartAuto = document.getElementById('btnStartAuto');
    if(btnStartAuto)
        btnStartAuto.onclick = async ()=>{
            autoOn = true;
            await loadBattleTeams();
            initSpdBar();
            renderBattlefield();
            startBattle();
        };
    // if battlefield already open
    if(document.getElementById('mainBattlefield') && 
            !document.getElementById('mainBattlefield').classList.contains('hide')) {
        loadBattleTeams().then(() => {
            initSpdBar();
            renderBattlefield();
        });
    }
});

/* ------------------ 9. Utilities ------------------ */
function deepCopy(obj) {
    return JSON.parse(JSON.stringify(obj));
}

/* 
   р╕кр╕│р╕лр╕гр╕▒р╕Ъ Dev/Test р╕лр╕гр╕╖р╕нр╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕б UI 
   - р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╕кр╕Цр╕▓р╕Щр╕░/р╕Чр╕╡р╕бр╣Гр╕лр╕бр╣И, р╕лр╕гр╕╖р╕нр╣Ар╕Юр╕┤р╣Ир╕бр╕Ыр╕╕р╣Ир╕б debug р╣Др╕Фр╣Й
*/

/* ------------------ 10. Export Global р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ (р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й) ------------------ */
window.battleEngine = {
    loadBattleTeams, initSpdBar, renderBattlefield, startBattle, heroes, monsters, speedBars
};

/* ------------------ Custom BattleResult Popup (р╣Бр╕кр╕Фр╕Зр╕Ьр╕е) ------------------ */
(function () {
    const origRenderPopup = window.renderPopup;
    window.renderPopup = function(type, data) {
        if(type === "battleResult") {
            return `<div class="popup large"><button class="close" onclick="closePopup()">├Ч</button>
                <h2>р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й</h2>
                <div style="font-size:2em;text-align:center;margin-bottom:12px;">
                  ${data.state === "win" ? "ЁЯПЖ <b style='color:#54e0be'>р╕Кр╕Щр╕░!</b>" : "тЭМ <b style='color:#f47'>р╣Бр╕Юр╣Й</b>"}
                </div>
                <button class="primary-btn" onclick="closePopup()">р╣Вр╕нр╣Ар╕Д</button>
            </div>`;
        }
        return origRenderPopup(type, data);
    };
})();

/* 
 р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕:
 - р╕лр╕▓р╕Бр╕Ир╕░р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Ир╕гр╕┤р╕З (EXP, р╕Фр╕гр╕нр╕Ы, р╣Ар╕ер╣Ар╕зр╕ер╕нр╕▒р╕Ю) р╣Гр╕Кр╣Й window.renderBattleResult р╕Ир╕▓р╕Б result.js р╣Бр╕Чр╕Щ
 - р╕лр╕▓р╕Бр╣Др╕бр╣Ир╕бр╕╡р╣Гр╕лр╣Й fallback popup р╕Щр╕╡р╣Йр╣Др╕Фр╣Йр╣Ар╕ер╕в
*/

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/ai.js
// js/ai.js
/**
 * Epic Seven - AI Auto Battle Engine (р╣Бр╕вр╕Б Module)
 * р╣Гр╕Кр╣Йр╣Ар╕ер╕╖р╕нр╕Б skill р╣Бр╕ер╕░ target р╣Гр╕Щ battle.js
 */

/**
 * Pick skill р╕Чр╕╡р╣Ир╕Др╕зр╕гр╣Гр╕Кр╣Й (р╣Ар╕ер╕╖р╕нр╕Бр╣Вр╕Фр╕в AI) - р╣Бр╕Ър╕Ъ modular
 * @param {Object} char - (obj) р╕Хр╕▒р╕зр╕ер╕░р╕Др╕г
 * @param {Array<number>} cooldowns - cooldown р╣Бр╕Хр╣Ир╕ер╕░ skill [s1, s2, s3...]
 * @param {Array<Object>} allies - р╕Эр╕▒р╣Ир╕Зр╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Щ (obj)
 * @param {Array<Object>} enemies - р╕Эр╕▒р╣Ир╕Зр╕Хр╕гр╕Зр╕Вр╣Йр╕▓р╕б (obj)
 * @return {Object} skill р╕Чр╕╡р╣Ир╕Ир╕░р╣Гр╕Кр╣Й
 */
function aiPickSkill(char, cooldowns, allies, enemies) {
    // р╕Цр╣Йр╕▓р╕бр╕╡р╕Ър╕▒р╕Я, heal, р╣Гр╕Кр╣Й skill aoe р╕Бр╣Ир╕нр╕Щ (р╕ер╕│р╕Фр╕▒р╕Ъ: AoE > Heal/Buff > Single)
    // р╣Гр╕Кр╣Йр╣Ар╕Зр╕╖р╣Ир╕нр╕Щр╣Др╕В HP р╕Хр╣Ир╕│, р╕ир╕▒р╕Хр╕гр╕╣р╕бр╕▓р╕Б/р╕Щр╣Йр╕нр╕в, р╕лр╕гр╕╖р╕н CD climate
    let skills = char.skills || [];
    let usable = skills.map((s, i) => ({...s, cd: cooldowns[i] || 0, idx: i }))
        .filter(s => s.cd === 0);

    // (1) Heal/Buff - р╣Гр╕Кр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡р╕Цр╣Йр╕▓р╕бр╕╡р╣Гр╕Щ usable skill
    for (let s of usable) {
        if (s.type === 'heal' && needHeal(allies)) return s;
        if (s.type === 'buff' && needBuff(allies, s)) return s;
    }

    // (2) AoE - р╕Цр╣Йр╕▓ AoE р╣Бр╕ер╕░р╕Эр╕▒р╣Ир╕Зр╕ир╕▒р╕Хр╕гр╕╣р╕бр╕╡ 2 р╕Хр╕▒р╕з+ (р╕лр╕гр╕╖р╕н priority)
    for (let s of usable) {
        if ((s.type === 'attack' || s.type === 'aoe') && s.multiplier > 1.5 && (living(enemies) > 1)) {
            return s;
        }
    }

    // (3) Debuff - р╕Хр╕╡р╣Ар╕Ыр╣Йр╕▓р╕Чр╕╡р╣Ир╕Ър╕▒р╕Яр╣Бр╕Вр╣Зр╕Зр╣Бр╕Бр╕гр╣Ир╕З (def break/stun)
    for (let s of usable) {
        if (s.effect && s.effect.debuff) return s;
    }

    // (4) Single Attack - р╣Ар╕ер╕╖р╕нр╕Б default
    if (usable.length > 0) return usable[0];
    // fallback: skill 1
    return skills[0];
}

/**
 * Pick target р╕Чр╕╡р╣Ир╕Др╕зр╕гр╣Вр╕Ир╕бр╕Хр╕╡ (AI)
 * @param {Array<Object>} arr - р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в (obj)
 * @param {Object} skill - skill р╕Чр╕╡р╣Ир╕Ир╕░р╣Гр╕Кр╣Й
 * @return {Object}
 */
function aiPickTarget(arr, skill = null) {
    // р╕Хр╕╡р╕Хр╕▒р╕з HP р╕Щр╣Йр╕нр╕вр╕кр╕╕р╕Фр╕Бр╣Ир╕нр╕Щ р╣Ар╕зр╣Йр╕Щр╕Цр╣Йр╕▓ skill р╣Ар╕Ыр╣Зр╕Щ heal/buff
    arr = arr.filter(c => c.alive);
    // Heal: р╕лр╕▓р╣Ар╕Ыр╣Йр╕▓р╕Др╕╖р╕нр╕Эр╕▒р╣Ир╕Зр╣Ар╕гр╕▓ (lowest HP)
    if (skill && skill.type === 'heal') {
        return arr.sort((a, b) => a.currHp / a.hp - b.currHp / b.hp)[0];
    }
    // Buff: р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╕Эр╕▒р╣Ир╕Зр╣Ар╕гр╕▓ alive
    if (skill && skill.type === 'buff') {
        // р╣Бр╕ер╣Йр╕зр╣Бр╕Хр╣И logic   --> р╣Гр╕кр╣Ир╣Гр╕лр╣Йр╕Чр╕╕р╕Бр╕Др╕Щ р╣Ар╕ер╕╖р╕нр╕Б index 0
        return arr[0];
    }
    // AoE: р╕Чр╕╕р╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕в
    if (skill && (skill.type === 'aoe' || (skill.type === 'attack' && skill.multiplier > 1.5))) {
        return arr; // р╕Чр╕▒р╣Йр╕Зр╣Бр╕Цр╕з enemy
    }
    // Debuff: р╕Хр╕╡ tank р╕Бр╣Ир╕нр╕Щ (defense/high HP), р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╣Ар╕Щр╣Йр╕Щ р╕лр╕▓ HP р╕Щр╣Йр╕нр╕вр╕кр╕╕р╕Ф
    let sorted = arr.sort((a, b) => a.currHp - b.currHp);
    return sorted[0];
}

/**
 * р╣Гр╕Др╕гр╣Гр╕Щр╕Чр╕╡р╕б HP р╕Хр╣Ир╕│р╕Бр╕зр╣Ир╕▓ 60% р╣Гр╕лр╣Й heal
 * @param {Array<Object>} team
 */
function needHeal(team) {
    for (let c of team) {
        if (c.alive && c.currHp / c.hp < 0.6) return true;
    }
    return false;
}

/**
 * р╣Ар╕Кр╣Зр╕Др╕зр╣Ир╕▓р╕Ър╕▒р╕Яр╕Чр╕╡р╣И skill р╕Щр╕╡р╣Йр╣Гр╕лр╣Й р╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕Чр╕╡р╕бр╣Бр╕ер╣Йр╕зр╕лр╕гр╕╖р╕нр╕вр╕▒р╕З (р╕Цр╣Йр╕▓р╕бр╕╡р╣Бр╕ер╣Йр╕зр╕Вр╣Йр╕▓р╕б)
 * @param {Array<Object>} team
 * @param {Object} skill
 */
function needBuff(team, skill) {
    let buffs = (skill && skill.effect && skill.effect.buff) || [];
    for (let btype of buffs.map(b => b.type)) {
        // р╕Цр╣Йр╕▓ buff р╕Щр╕╡р╣Йр╕Чр╕╕р╕Бр╕Др╕Щр╣Гр╕Щр╕Чр╕╡р╕бр╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕зр╕лр╕бр╕Ф р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й
        let count = team.filter(c => c.alive && c.buffs && c.buffs.some(bf => bf.type === btype)).length;
        if (count < team.length) return true; // р╕вр╕▒р╕Зр╕бр╕╡р╕Др╕Щр╣Др╕бр╣Ир╣Др╕Фр╣Й buff р╕Щр╕╡р╣Й
    }
    return false;
}

/**
 * р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕Чр╕╡р╣Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Хр╕▓р╕в
 */
function living(arr) {
    return arr ? arr.filter(c => c.alive).length : 0;
}

// ---- р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Бр╕▒р╕Ъ battle.js ----
// Expose р╣Ар╕Ыр╣Зр╕Щ global р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Й
window.aiPickSkill = aiPickSkill;
window.aiPickTarget = aiPickTarget;

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/animationEngine.js
/* Epic Seven Card Auto Battle - Animation Engine */
/* р╕зр╕▓р╕Зр╣Гр╕Щ /js/animationEngine.js */

window.animationEngine = (function () {
    /** Card slide animation to attack */
    async function animateAttackCard(fromIdx, toIdx, fromSide, toSide, type = 'single') {
        const fromCard = document.getElementById(`${fromSide}${fromIdx}`);
        const toCard = document.getElementById(`${toSide}${toIdx}`);
        if (!fromCard || !toCard) return;
        // р╕кр╕гр╣Йр╕▓р╕З overlay
        const rectFrom = fromCard.getBoundingClientRect();
        const rectTo = toCard.getBoundingClientRect();
        // Absolute overlay clone
        const clone = fromCard.cloneNode(true);
        clone.style.position = "fixed";
        clone.style.left = rectFrom.left + 'px';
        clone.style.top = rectFrom.top + 'px';
        clone.style.width = rectFrom.width + 'px';
        clone.style.zIndex = "2000";
        clone.style.transition = 'all 0.35s cubic-bezier(.6,0,.2,1.4)';
        // Hide original
        fromCard.style.opacity = "0.4";
        document.body.appendChild(clone);
        await sleep(30);

        // р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Бр╕▓р╕гр╣Мр╕Фр╣Др╕Ыр╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в
        clone.style.left = rectTo.left + 'px';
        clone.style.top = rectTo.top + 'px';
        clone.style.boxShadow = "0 0 32px #e7ff79c8, 0 0 80px #e3e37044";
        clone.style.transform = "scale(1.10) rotate(-3deg)";
        await sleep(330);

        // Flash/Shake р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в
        shakeCard(toCard);
        // Remove overlay
        setTimeout(() => {
            clone.remove();
            fromCard.style.opacity = "1";
        }, 110);

        await sleep(180);
    }

    /** AoE Animation (wave blast) */
    async function animateAoEAttack(fromIdx, fromSide, toSide, targets) {
        const fromCard = document.getElementById(`${fromSide}${fromIdx}`);
        if (!fromCard) return;
        // Pulse the card
        pulseCard(fromCard, "#f2d13e");
        // Wave line to center
        targets.forEach((t) => {
            const tgt = document.getElementById(`${toSide}${t}`);
            if (tgt) {
                flashCard(tgt, "#ffd058");
                shakeCard(tgt);
            }
        });
        await sleep(340);
    }

    /** Heal effect (green glow, upward effect) */
    async function animateHeal(toIdx, toSide) {
        const tgt = document.getElementById(`${toSide}${toIdx}`);
        if (!tgt) return;
        glowCard(tgt, "#68eccc");
        // Heal "plus" popup up
        let plus = document.createElement('span');
        plus.textContent = "+HP";
        plus.style = "color:#68fdd8;font-weight:bold;font-size:1.18em;position:absolute;left:42%;top:17%;opacity:0;transition:top .4s,opacity .2s;";
        tgt.appendChild(plus);
        setTimeout(() => {
            plus.style.top = "-6%";
            plus.style.opacity = "1";
        }, 20);
        setTimeout(() => plus.remove(), 650);
        await sleep(390);
    }

    /** Buff/Debuff effect on card */
    async function animateBuffDebuff(toIdx, toSide, type = "buff") {
        const tgt = document.getElementById(`${toSide}${toIdx}`);
        if (!tgt) return;
        glowCard(tgt, type === "buff" ? "#98deff" : "#ff7b7b");
        await sleep(260);
    }

    // --- Utilities (Shake, Glow, Flash, Pulse) ---
    function shakeCard(card) {
        if (!card) return;
        card.animate([
            { transform: "translateX(0)" },
            { transform: "translateX(-12px)" },
            { transform: "translateX(13px)" },
            { transform: "translateX(-7px)" },
            { transform: "translateX(0)" }
        ], { duration: 320, easing: "ease-in" });
    }
    function glowCard(card, color) {
        if (!card) return;
        card.style.boxShadow = `0 0 15px 6px ${color}66`;
        setTimeout(() => (card.style.boxShadow = ""), 380);
    }
    function flashCard(card, color = "#fff") {
        if (!card) return;
        card.style.background = color;
        setTimeout(() => (card.style.background = ""), 170);
    }
    function pulseCard(card, color) {
        if (!card) return;
        card.animate([
            { boxShadow: `0 0 0px 0px ${color}40` },
            { boxShadow: `0 0 15px 8px ${color}bb` },
            { boxShadow: `0 0 0px 0px ${color}00` }
        ], { duration: 410 });
    }
    function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }

    // --- Expose ---

    return {
        animateAttackCard,
        animateAoEAttack,
        animateHeal,
        animateBuffDebuff,
        shakeCard,
        glowCard,
        flashCard,
        pulseCard,
        sleep
    };
})();

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/effect.js
// js/effect.js

/**
 * р╕гр╕░р╕Ър╕Ър╕Ър╕▒р╕Я/р╕Фр╕╡р╕Ър╕▒р╕Я/р╕ор╕╡р╕е Auto Battle Engine (Epic Seven Version)
 * р╕гр╕нр╕Зр╕гр╕▒р╕Ъ: Buff, Debuff, Immunity, Stack, Countdown Turn, Remove, Tooltip
 * р╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╕Ир╕▓р╕Б battle.js, ai.js, animationEngine.js
 */

/**
 * р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕Цр╕▓р╕Щр╕░ (Buff/Debuff) р╣Гр╕лр╣Йр╕Бр╕▒р╕Ъ character
 * @param {Object} target - р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в
 * @param {Array<Object>} effects - [{type, turn, [chance]}]
 * @param {string} effectType - 'buff' р╕лр╕гр╕╖р╕н 'debuff'
 */
function addEffect(target, effects, effectType) {
    if (!effects || !Array.isArray(effects)) return;

    for (let eff of effects) {
        // Anti-stack: debuff/buff р╣Бр╕Ър╕Ъ non-stack
        if (effectType === "buff") {
            if (target.buffs.some(b => b.type === eff.type)) continue;
        } else if (effectType === "debuff") {
            if (target.debuffs.some(b => b.type === eff.type)) continue;
        }
        // Immunity: р╕лр╕▓р╕Бр╕Хр╕┤р╕Ф immunity (multi N turn) р╕Ир╕░р╕Бр╕▒р╕Щр╕Фр╕╡р╕Ър╕▒р╕Я (р╕вр╕Бр╣Ар╕зр╣Йр╕Щ stun/burn р╕п)
        if (effectType === "debuff" && (target.buffs || []).some(b => b.type === "immune" && b.turn > 0)) {
            continue;
        }
        // Stackable Debuff (р╣Ар╕Кр╣Ир╕Щ poison) *Option
        // р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕▓р╕бр╕▓р╕гр╕Ц stack р╣Др╕Фр╣Йр╕лр╕▓р╕Б type р╣Ар╕Ыр╣Зр╕Щ poison/burn
        if (effectType === "debuff" && ["poison", "burn"].includes(eff.type)) {
            target.debuffs.push({...eff});
            continue;
        }
        // р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕Цр╕▓р╕Щр╕░
        if (effectType === "buff") target.buffs.push({...eff});
        else if (effectType === "debuff") target.debuffs.push({...eff});
    }
}

/**
 * р╕Чр╕╕р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣Ир╣Ар╕гр╕┤р╣Ир╕б turn р╕лр╕гр╕╖р╕нр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г р╣Ар╕Вр╕╡р╕вр╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ър╕ер╕Ф countdown & remove state р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕
 * @param {Object} char - р╕Хр╕▒р╕зр╕ер╕░р╕Др╕г
 */
function processStatusTurn(char) {
    ['buffs', 'debuffs'].forEach(listType => {
        if (!char[listType]) return;
        for (let i = char[listType].length - 1; i >= 0; i--) {
            let st = char[listType][i];
            // р╕ер╕Фр╕Ир╕│р╕Щр╕зр╕Щ turn
            if (st.turn && st.turn > 0) st.turn--;
            // р╣Ар╕нр╕▓р╕нр╕нр╕Бр╕Цр╣Йр╕▓р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕
            if (st.turn === 0) char[listType].splice(i, 1);
        }
    });
    // Heal Over Time (HoT)/Poison/Burn
    if (char.debuffs) {
        char.debuffs.forEach(df => {
            if (df.type === "poison") {
                let val = Math.round(char.hp * 0.05);
                char.currHp = Math.max(0, char.currHp - val);
                window.showDamage?.(char.index || 0, char.side || 'hero', val, "#ffd155");
            }
            if (df.type === "burn") {
                let val = Math.round(char.hp * 0.12);
                char.currHp = Math.max(0, char.currHp - val);
                window.showDamage?.(char.index || 0, char.side || 'hero', val, "#ff6633");
            }
        });
    }
    if (char.buffs) {
        char.buffs.forEach(bf => {
            if (bf.type === "heal_ot") { // Heal over time
                let val = Math.round(char.hp * 0.06);
                char.currHp = Math.min(char.hp, char.currHp + val);
                window.showDamage?.(char.index || 0, char.side || 'hero', -val, "#24eeba");
            }
        });
    }
}

/**
 * р╣Ар╕Кр╣Зр╕Др╕зр╣Ир╕▓р╕Хр╕▒р╕зр╕Щр╕╡р╣Йр╣Вр╕Фр╕Щ Stun р╕лр╕гр╕╖р╕н Debuff Skip Turn р╕нр╕вр╕╣р╣Ир╕лр╕гр╕╖р╕нр╣Др╕бр╣И
 */
function isStunnedOrSkipped(char) {
    return (char.debuffs || []).some(df => ["stun", "sleep", "freeze", "silence"].includes(df.type));
}

/**
 * р╕ер╕Ър╕кр╕Цр╕▓р╕Щр╕░ buff/debuff р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (Cleanse/Purge) р╕лр╕гр╕╖р╕нр╕Бр╕│р╕лр╕Щр╕Ф
 * @param {Object} char
 * @param {string} [type] "buff"/"debuff"/"all" (default: all)
 */
function removeStatus(char, type = "all") {
    if (!char) return;
    if (type === "all") {
        char.buffs = [];
        char.debuffs = [];
    }
    if (type === "buff") char.buffs = [];
    if (type === "debuff") char.debuffs = [];
}

/**
 * р╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Щ UI р╣Ар╕Юр╕╖р╣Ир╕нр╣Бр╕кр╕Фр╕З icon + р╕Ир╕│р╕Щр╕зр╕Щ turn р╕Чр╕╡р╣Ир╣Ар╕лр╕ер╕╖р╕н р╕Чр╕╡р╣Ир╕Бр╕▓р╕гр╣Мр╕Фр╕Ър╕Щр╕кр╕Щр╕▓р╕б
 * (р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Щр╕╡р╣Й UI р╕Ир╕░р╕нр╣Ир╕▓р╕Щ char.buffs, char.debuffs [])
 */

/**
 * р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Гр╕Кр╣Йр╣Гр╕Щ battle.js:
 * - р╕Бр╣Ир╕нр╕Щр╣Ар╕гр╕┤р╣Ир╕б turn, processStatusTurn()
 * - check р╕зр╣Ир╕▓ stun/skip turn р╣Др╕бр╣Ир╣Вр╕Ир╕бр╕Хр╕╡
 * - р╕лр╕ер╕▒р╕З heal/attack/addEffect р╣Гр╕Кр╣Й addEffect()
 * - р╕ер╕Ър╕кр╕Цр╕▓р╕Щр╕░ removeStatus(char, type)
 */

// ---- Export (global assignment)
window.effectEngine = {
    addEffect,
    processStatusTurn,
    isStunnedOrSkipped,
    removeStatus
};

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/result.js
// js/result.js

/**
 * Epic Seven Auto Battle - Battle Result Handler (Frontend Only)
 * р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Щр╕╡р╣Йр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕кр╕│р╕лр╕гр╕▒р╕Ъ popup р╕лр╕Щр╣Йр╕▓р╕Ър╕нр╕Бр╕Ьр╕ер╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й, р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х EXP, р╣Ар╕Юр╕┤р╣Ир╕б/р╕Фр╕гр╕нр╕Ыр╣Др╕нр╣Ар╕Чр╣Зр╕б, р╕нр╕▒р╕Ыр╣Ар╕ер╣Ар╕зр╕е, р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ р╕пр╕ер╕п
 * р╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕б inventory.js, team.js, battle.js, popupManager.js р╣Бр╕ер╕░ system р╕нр╕╖р╣Ир╕Щ
 * Author: <yourname> (2024)
 */

// ---------- Option: CONFIGURATION (customize р╕лр╕гр╕╖р╕нр╕Хр╣Ир╕н database р╣Др╕Фр╣Йр╣Гр╕Щр╕нр╕Щр╕▓р╕Др╕Х) ----------
const EXP_PER_WIN = 60;     // Exp р╕Чр╕╕р╕Бр╕Хр╕▒р╕з (р╕Кр╕Щр╕░)
const EXP_PER_LOSE = 18;    // Exp р╕Чр╕╕р╕Бр╕Хр╕▒р╕з (р╣Бр╕Юр╣Й)
const BASIC_DROP_LIST = [
    { id: 'exp_potion', name: 'EXP Potion', qty_range: [1, 2], chance: 55 },
    { id: 'gold', name: 'Gold', qty_range: [200, 500], chance: 80 },
    { id: 'rune_shard', name: 'Rune Shard', qty_range: [1, 1], chance: 20 },
    // р╣Ар╕Юр╕┤р╣Ир╕б drop type р╣Др╕Фр╣Йр╣Гр╕Щ inventory/item.json
];

// ---------- MAIN FUNCTION ----------
window.renderBattleResult = function (resultObj = {}) {
    // resultObj: { state: 'win'|'lose', heroes: [], monsters: [], drops: [] } (р╕Ър╕▓р╕З field optional)

    // Load user team (reload for update exp)
    let team = [];
    let raw = localStorage.getItem('userTeam');
    if (raw) team = JSON.parse(raw);

    // р╕Ыр╕Бр╕Хр╕┤р╕Ир╕░р╕бр╕╡ id р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Гр╕Щ team
    let heroDatas = [];
    if (team.length > 0) {
        // р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Ир╕▓р╕Бр╣Др╕Яр╕ер╣М data/char/*.json
        heroDatas = team.map(id => {
            if (!id) return null;
            try {
                let cache = localStorage.getItem('char_' + id);
                if (cache) return JSON.parse(cache);
            } catch { }
            // Fallback fetch (sync р╣Вр╕Ыр╕гр╕Фр╕▒р╕Бр╕Кр╕▒р╕Щр╣Гр╕Кр╣Й async р╣Бр╕ер╣Йр╕зр╕Др╣Ир╕нр╕в render)
            let obj = null;
            let xhr = new XMLHttpRequest();
            xhr.open('GET', `data/char/${id}.json`, false);
            xhr.send();
            if (xhr.status === 200) {
                obj = JSON.parse(xhr.responseText);
            }
            return obj;
        });
        heroDatas = heroDatas.filter(c => c);
    }

    // 1. EXP/LEVEL UP
    const expGet = (resultObj.state === 'win') ? EXP_PER_WIN : EXP_PER_LOSE;
    let levelUps = [];
    heroDatas.forEach((c, i) => {
        if (!c) return;
        c.exp = (c.exp || 0) + expGet;
        let up = false;
        while (c.exp >= (c.exp_max || 99999)) {
            c.exp -= c.exp_max;
            c.level = (c.level || 1) + 1;
            up = true;
            // р╕нр╕▒р╕Ы cap = р╣Ар╕Юр╕┤р╣Ир╕б exp_max? р╣Ар╕Юр╕┤р╣Ир╕б config р╣Др╕Фр╣Й
        }
        if (up) levelUps.push(c.name);
        // р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б state cache р╣Ар╕Ьр╕╖р╣Ир╕н future р╣Гр╕Кр╣Йр╣Ар╕гр╣Зр╕з
        localStorage.setItem('char_' + c.id, JSON.stringify(c));
    });

    // 2. DROP SYSTEM (Mock)
    let dropItems = [];
    if (resultObj.state == 'win') {
        BASIC_DROP_LIST.forEach(d => {
            if (Math.random() * 100 < d.chance) {
                let qty = randomInt(d.qty_range[0], d.qty_range[1]);
                dropItems.push({
                    id: d.id,
                    name: d.name,
                    qty: qty
                });
                // р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Вр╣Йр╕▓р╕Др╕ер╕▒р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕б (р╕Цр╣Йр╕▓р╕бр╕╡)
                addToInventory(d.id, qty);
            }
        });
    }

    // 3. Save Update р╕Вр╕нр╕З Hero р╕Бр╕ер╕▒р╕Ъ (option р╕гр╕зр╕б cache р╕Хр╕▓р╕б system р╕Ир╕гр╕┤р╕З)
    // (р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕нр╕Зр╣Гр╕Щ inventory р╕Ыр╕Бр╕Хр╕┤р╕нр╕вр╕╣р╣Ир╣Гр╕Щ inventory.js, р╣Бр╕Хр╣Ир╕Чр╕╡р╣Ир╕Щр╕╡р╣Ир╕Ир╕░ simulate if not loaded)

    // 4. Render HTML Popup
    let popupHtml = `
    <div class="popup large">
      <button class="close" onclick="closePopup()">├Ч</button>
      <h2 style="margin-bottom:0.4em;">${resultObj.state === "win" ? "ЁЯПЖ <b style='color:#54e0be'>р╕Кр╕Щр╕░!</b>" : "тЭМ <b style='color:#f47'>р╣Бр╕Юр╣Й</b>"}</h2>
      <div style="font-size:1.2em;color:#bdf;">${resultObj.state === "win" ? "р╕Др╕╕р╕Ур╕Ьр╣Ир╕▓р╕Щр╕Фр╣Ир╕▓р╕Щр╣Бр╕ер╕░р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕гр╕▓р╕Зр╕зр╕▒р╕е" : "р╕Др╕╕р╕Ур╣Др╕Фр╣Йр╕гр╕▒р╕Ъ EXP р╕Ыр╕ер╕нр╕Ър╣Гр╕И"}</div>
      <hr style="margin:10px 0 10px 0; border:1px solid #234a76;">
      <div style="margin-bottom:8px;"><b>ЁЯОЦ EXP р╣Др╕Фр╣Йр╕гр╕▒р╕Ъ:</b> <span style="color:#7cffda">${expGet}</span> / р╕Хр╕▒р╕з</div>
      <table style="width:98%;margin:10px 0 18px 0;background:#222a38;border-radius:12px;">
        <tr>
          ${heroDatas.map(c => `<td style="text-align:center;">
            <img src="img/char/${c?.img||'noimg.png'}" alt="${c?.name}" style="width:37px;border-radius:50%;box-shadow:0 0 10px #57faf840;">
            <div style="font-size:.97em;margin-top:7px;">${c?.name}</div>
            <div style="font-size:.9em;margin-top:2px;">LV. <b>${c?.level||'-'}</b> <span style="color:${levelUps.includes(c?.name) ? '#45ff77' : '#aaa'}">${levelUps.includes(c?.name) ? 'тЖС UP!' : ''}</span></div>
          </td>`).join('')}
        </tr>
      </table>
      ${dropItems.length > 0 ? `
      <div style="margin-bottom:7px;"><b>ЁЯОБ р╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ъ</b>:</div>
      <div style="display:flex;gap:15px;flex-wrap:wrap;">
        ${dropItems.map(d => 
          `<div style="background:#23343b;padding:11px 18px;border-radius:8px;box-shadow:0 2px 15px #25f3f026;">
              <b style="font-size:1.17em;">${d.name}</b><br>
              <span style="font-size:.93em;color:#81e6ae;">x${d.qty}</span>
          </div>`
        ).join('')}
      </div>
      ` : ''}
      <div style="margin-top:24px;text-align:center;">
        <button class="primary-btn" onclick="closePopupAndReturn()">р╕Бр╕ер╕▒р╕Ър╕кр╕╣р╣Ир╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б</button>
      </div>
    </div>
    `;

    // Push popup to #popupLayer (use popupManager)
    let popupLayer = document.getElementById('popupLayer');
    if (!popupLayer) {
        popupLayer = document.createElement('div');
        popupLayer.id = 'popupLayer';
        document.body.appendChild(popupLayer);
    }
    popupLayer.innerHTML = popupHtml;
    popupLayer.classList.add('active');

    // Special: р╕Ыр╕┤р╕Ф popup р╣Бр╕ер╕░ refresh field (р╕Бр╕ер╕▒р╕Ър╣Др╕Ыр╣Ар╕бр╕Щр╕╣р╕лр╕ер╕▒р╕Б/refresh battlefield)
    window.closePopupAndReturn = function() {
        // р╕Лр╣Ир╕нр╕Щ popup, р╕Бр╕ер╕▒р╕Ъ index.html
        closePopup();
        if (window.location.pathname.indexOf('index.html') === -1) {
            window.location.href = 'index.html';
        } else {
            // reload team or UI if needed
            if (window.renderBattlefield) window.renderBattlefield();
        }
    }
};

// ---------- INVENTORY ADD HELPER ----------
/**
 * р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕нр╕Зр╣Ар╕Вр╣Йр╕▓р╕Др╕ер╕▒р╕З (р╣Ар╕гр╕╡р╕вр╕Б inventory.js р╕Ир╕гр╕┤р╕Зр╣Др╕Фр╣Йр╣Ар╕ер╕в р╕Цр╣Йр╕▓р╕бр╕╡р╕гр╕░р╕Ър╕Ъ)
 * р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Щр╕╡р╣Й mock р╣Др╕зр╣Йр╣Ар╕Ьр╕╖р╣Ир╕н inventory.js р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Вр╕лр╕ер╕Ф
 */
function addToInventory(itemId, qty) {
    let items = [];
    try {
        let raw = localStorage.getItem('user_inventory') || '[]';
        items = JSON.parse(raw);
    } catch { items = []; }
    let item = items.find(x => x.id === itemId);
    if (item) {
        item.qty += qty;
    } else {
        items.push({ id: itemId, qty: qty });
    }
    localStorage.setItem('user_inventory', JSON.stringify(items));
}

// ---------- UTILS ----------
function randomInt(min, max) {
    if (min === max) return min;
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

// ---------- END OF FILE ----------
/**
 * р╕зр╕┤р╕Шр╕╡р╕Чр╕Фр╕кр╕нр╕Ъ:
 * - р╣Гр╕лр╣Йр╣Ар╕гр╕╡р╕вр╕Б window.renderBattleResult({ state: "win" }) р╕лр╕ер╕▒р╕Зр╕Ир╕Ър╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й
 * - р╕Фр╕╣ popup р╣Бр╕кр╕Фр╕З exp, р╣Др╕нр╣Ар╕Чр╣Зр╕б, р╕нр╕▒р╕Ыр╣Ар╕ер╣Ар╕зр╕е, р╕кр╕▓р╕бр╕▓р╕гр╕Ц "р╕Бр╕ер╕▒р╕Ъ" р╣Др╕Ыр╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Бр╣Др╕Фр╣Й
 * - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ LocalStorage: char_*, user_inventory, userTeam
 */

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/popupManager.js
// /js/popupManager.js

/**
 * popupManager.js
 * Epic Seven Auto Battle - Popup System (v1.0)
 * р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕Ыр╕┤р╕Ф-р╕Ыр╕┤р╕Ф Pop-up р╕Бр╕ер╕▓р╕З / popover р╕Лр╣Йр╕нр╕Щ
 * р╕гр╕нр╕Зр╕гр╕▒р╕Ъ HTML Content, Callback, Responsive
 * р╣Гр╕Кр╣Йр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Ъ index.html, ui.js, р╕Чр╕╕р╕Б module
 * Author: (р╕Др╕╕р╕У)
 */

// р╣Ар╕Бр╣Зр╕Ъ Stack р╕Вр╕нр╕З popup р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Ыр╕┤р╕Фр╕Лр╣Йр╕нр╕Щ
let popupStack = [];

/**
 * р╣Ар╕Ыр╕┤р╕Ф Popup р╕Бр╕ер╕▓р╕Зр╕Ир╕н
 * @param {Object} options { 
 *    id: string, // р╕Кр╕╖р╣Ир╕н feature, р╣Гр╕Кр╣Йр╣Ар╕Ыр╣Зр╕Щ key menu, ex: 'quest', 'inventory'
 *    title: string, // р╕Кр╕╖р╣Ир╕нр╣Бр╕кр╕Фр╕Зр╕лр╕▒р╕зр╕Вр╣Йр╕н
 *    content: HTML string, // р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓ HTML (innerHTML)
 *    size: "normal" | "large" | "tall" | "small",
 *    onClose: function, // callback р╣Ар╕бр╕╖р╣Ир╕н popup р╕Щр╕╡р╣Йр╕Ыр╕┤р╕Ф
 *    showCloseBtn: boolean, // р╣Бр╕кр╕Фр╕Зр╕Ыр╕╕р╣Ир╕бр╕Ыр╕┤р╕Ф (default: true)
 *    autoFocus: CSS selector (optional, р╣Вр╕Яр╕Бр╕▒р╕к input)
 * }
 */
window.popupManager = {
    open: function (options = {}) {
        // р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щ popup р╕Лр╣Йр╕нр╕Щр╕Лр╣Йр╕│р╕Кр╕╖р╣Ир╕нр╣Ар╕Фр╕┤р╕б
        if (popupStack.some(p => p.id === options.id)) {
            return; // р╕Цр╣Йр╕▓р╕бр╕╡р╣Бр╕ер╣Йр╕зр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╕┤р╕Фр╕Лр╣Йр╕│
        }
        const popupLayer = document.getElementById('popupLayer');
        if (!popupLayer) return;

        const { id, title, content, size, onClose, showCloseBtn, autoFocus } = options;
        const sz = size || 'normal';
        let html = `
      <div class="popup${sz === 'large' ? ' large' : sz === 'tall' ? ' tall' : sz === 'small' ? ' small' : ''}" 
        style="z-index: ${100 + popupStack.length * 2};" popup-id="${id || ''}">
          ${showCloseBtn === false ? '' : `<button class="close" onclick="popupManager.close('${id || ''}')">├Ч</button>`}
          <h2 style="margin-bottom:.39em;">${title || ''}</h2>
          <div class="popup-content" style="margin-top:9px;">${content || ''}</div>
      </div>`;

        let wrap = document.createElement('div');
        wrap.className = 'popup-wrap-layer';
        wrap.style = `position:fixed; top:0; left:0; width:100vw;height:100vh;display:flex;
          align-items:center;justify-content:center;z-index:${99 + popupStack.length * 2 + 1};`;
        wrap.innerHTML = html;

        // Store info to Stack
        popupStack.push({
            id,
            wrap,
            onClose: typeof onClose === "function" ? onClose : null
        });

        popupLayer.appendChild(wrap);
        popupLayer.classList.add('active');

        // Auto focus
        if (autoFocus) {
            setTimeout(() => {
                const el = wrap.querySelector(autoFocus);
                if (el) el.focus();
            }, 150);
        }
    },

    /**
     * р╕Ыр╕┤р╕Ф Popup (р╕Ыр╕┤р╕Фр╕Ър╕Щр╕кр╕╕р╕Фр╕ер╣Ир╕▓р╕кр╕╕р╕Ф р╕лр╕гр╕╖р╕нр╕Хр╕▓р╕б id)
     * @param {string} id
     */
    close: function (id = '') {
        const popupLayer = document.getElementById('popupLayer');
        if (!popupLayer) return;
        if (popupStack.length === 0) return;
        let pop;
        if (id) {
            let idx = popupStack.findIndex(p => p.id === id);
            if (idx === -1) return;
            pop = popupStack.splice(idx, 1)[0];
            if (pop && pop.wrap) {
                pop.wrap.remove();
            }
        } else {
            // р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╕кр╣Ир╕З id р╣Гр╕лр╣Йр╕Ыр╕┤р╕Фр╕Хр╕▒р╕зр╕Ър╕Щр╕кр╕╕р╕Ф
            pop = popupStack.pop();
            if (pop && pop.wrap) {
                pop.wrap.remove();
            }
        }
        // onClose callback
        if (pop && pop.onClose) pop.onClose();

        // р╕лр╕▓р╕Бр╣Др╕бр╣Ир╕бр╕╡ popup р╕нр╕╖р╣Ир╕Щр╣Ар╕лр╕ер╕╖р╕н р╣Гр╕лр╣Йр╕Ыр╕┤р╕Ф layer
        if (popupStack.length === 0) {
            popupLayer.classList.remove('active');
        }
    },

    /**
     * р╕Ыр╕┤р╕Ф Popups р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (reset stack)
     */
    closeAll: function () {
        const popupLayer = document.getElementById('popupLayer');
        popupStack.forEach(p => {
            if (p.wrap) p.wrap.remove();
            if (typeof p.onClose === "function") p.onClose();
        });
        popupStack = [];
        if (popupLayer) popupLayer.classList.remove('active');
    },

    /**
     * Render content р╣Гр╕лр╕бр╣Ир╕Ър╕Щ popup id р╕Щр╕╡р╣Й (р╣Ар╕Кр╣Ир╕Щ refetch/refresh)
     * @param {string} id
     * @param {string} content HTML
     */
    update: function (id, content) {
        let pop = popupStack.find(p => p.id === id);
        if (pop && pop.wrap) {
            let inner = pop.wrap.querySelector('.popup-content');
            if (inner) inner.innerHTML = content;
        }
    },

    /**
     * р╕Фр╕╢р╕З Stack popups
     */
    getStack: function () { return [...popupStack]; }
};

// [Global shortcut]
window.openPopup = function (id, content = '', size = 'normal', title = '', options = {}) {
    // For backward compat: openPopup(type, html, size, title, { ... })
    window.popupManager.open({
        id, title: title || id, content, size, ...options
    });
}
window.closePopup = function (id = '') { window.popupManager.close(id); }
window.closeAllPopup = function () { window.popupManager.closeAll(); }

// Escape = close popup р╕ер╣Ир╕▓р╕кр╕╕р╕Ф
document.addEventListener('keyup', ev => {
    if (ev.key === 'Escape') popupManager.close();
});

// Click shadow layer (р╕Ыр╕┤р╕Ф popup р╕ер╣Ир╕▓р╕кр╕╕р╕Ф р╣Ар╕Йр╕Юр╕▓р╕░ popup р╕Чр╕╡р╣Ир╕нр╕Щр╕╕р╕Нр╕▓р╕Х)
document.getElementById('popupLayer')?.addEventListener('mousedown', ev => {
    if (ev.target.classList.contains('popup-wrap-layer')) {
        // р╕лр╕▓р╕Б popup р╕Ър╕Щр╕кр╕╕р╕Фр╕бр╕╡ showCloseBtn = false => р╣Др╕бр╣Ир╕Ыр╕┤р╕Ф р╕Фр╣Йр╕зр╕вр╕Др╕ер╕┤р╕Б
        if (popupStack.length === 0) return;
        let last = popupStack[popupStack.length - 1];
        if (last && last.wrap && last.wrap.querySelector('.close')) {
            window.popupManager.close();
        }
    }
});

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М data/item.json
[
  {
    "id": "gold",
    "name": "Gold",
    "type": "currency",
    "description": "р╣Ар╕лр╕гр╕╡р╕вр╕Нр╕Чр╕нр╕Зр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Гр╕Щр╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓ р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф р╕лр╕гр╕╖р╕нр╕кр╕╕р╣Ир╕бр╕Бр╕▓р╕Кр╕▓",
    "img": "gold.png",
    "rarity": 1,
    "usable": false,
    "price": 0
  },
  {
    "id": "diamond",
    "name": "Crystal",
    "type": "currency",
    "description": "р╣Ар╕Юр╕Кр╕г р╣Гр╕Кр╣Йр╕Лр╕╖р╣Йр╕нр╕Вр╕нр╕Зр╕лр╕гр╕╖р╕нр╕кр╕╕р╣Ир╕бр╕Бр╕▓р╕Кр╕▓ р╕Юр╕┤р╣Ар╕ир╕й",
    "img": "diamond.png",
    "rarity": 2,
    "usable": false,
    "price": 0
  },
  {
    "id": "exp_potion",
    "name": "EXP Potion",
    "type": "xp_item",
    "description": "р╣Ар╕Юр╕┤р╣Ир╕б EXP р╣Гр╕лр╣Йр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Чр╕▒р╕Щр╕Чр╕╡ р╣Гр╕Кр╣Йр╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в",
    "img": "exp_potion.png",
    "rarity": 2,
    "usable": true,
    "effect": { "exp": 500 },
    "price": 200
  },
  {
    "id": "skill_book",
    "name": "Skill Book",
    "type": "upgrade",
    "description": "р╕лр╕Щр╕▒р╕Зр╕кр╕╖р╕нр╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕кр╕Бр╕┤р╕ер╕Хр╕▒р╕зр╕ер╕░р╕Др╕г (р╕кр╕╕р╣Ир╕б 1 skill)",
    "img": "skill_book.png",
    "rarity": 3,
    "usable": true,
    "effect": { "skillup": 1 },
    "price": 900
  },
  {
    "id": "rune_shard",
    "name": "Rune Shard",
    "type": "rune_material",
    "description": "р╣Ар╕ир╕йр╕гр╕╣р╕Щ р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕лр╕гр╕╖р╕нр╕кр╕гр╣Йр╕▓р╕Зр╕гр╕╣р╕Щ",
    "img": "rune_shard.png",
    "rarity": 2,
    "usable": false,
    "price": 150
  },
  {
    "id": "heal_potion",
    "name": "Heal Potion",
    "type": "heal",
    "description": "р╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Гр╕Кр╣Йр╕Яр╕╖р╣Йр╕Щр╕Яр╕╣ HP 50% р╣Гр╕лр╣Йр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Чр╕╡р╣Ир╣Ар╕ер╕╖р╕нр╕Б",
    "img": "heal_potion.png",
    "rarity": 2,
    "usable": true,
    "effect": { "hp_pct": 50 },
    "price": 120
  }
]

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/inventory.js
// js/inventory.js

let itemData = [];
let inventory = [];

/** р╣Вр╕лр╕ер╕Фр╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Ир╕▓р╕Б data/item.json */
async function loadItemData() {
  if (itemData.length) return;
  itemData = await fetch('data/item.json').then(r => r.json());
}
/** р╣Вр╕лр╕ер╕Фр╕Др╕ер╕▒р╕Зр╕Вр╕нр╕Зр╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щ (р╕Ир╕▓р╕Б localStorage) */
function loadInventory() {
  let raw = localStorage.getItem('user_inventory');
  inventory = raw ? JSON.parse(raw) : [];
}
/** р╣Ар╕Лр╕Я inventory */
function saveInventory() {
  localStorage.setItem('user_inventory', JSON.stringify(inventory));
}

/** р╕Др╣Йр╕Щр╕лр╕▓р╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Гр╕Щ data/item.json */
function findItemById(id) {
  return itemData.find(i => i.id === id);
}
/** render UI р╕Др╕ер╕▒р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕б */
function renderInventoryUI() {
  let html = `
    <div style="display:flex;flex-direction:column;gap:7px;max-height:420px;overflow-y:auto;">
      ${inventory.length === 0 ? '<div style="color:#bbb;text-align:center;">р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡р╣Др╕нр╣Ар╕Чр╣Зр╕б</div>' :
        inventory.map(item => {
          let info = findItemById(item.id) || {};
          return `
          <div style="display:flex;align-items:center;background:#272b38;padding:10px 16px;border-radius:10px;gap:19px;">
            <div style="width:36px;height:36px;border-radius:8px;background:#201624;display:flex;justify-content:center;align-items:center;">
              ${info.img ? `<img src="img/item/${info.img}" alt="${info.name}" style="width:32px;">` : "ЁЯОТ"}
            </div>
            <div style="flex-grow:1;">
              <b>${info.name || item.id}</b>
              <div style="font-size:.91em;color:#84ccff;margin-top:2px;">${info.description || ''}</div>
            </div>
            <div style="color:#aaffbe;font-weight:bold;font-size:1.07em;">x${item.qty}</div>
            ${info.usable ? `<button class="primary-btn" style="padding:5px 1em 5px 1em;font-size:.96em;" onclick="useItemPrompt('${item.id}')">р╣Гр╕Кр╣Йр╣Ар╕ер╕в</button>` : ""}
          </div>`
        }).join('')}
    </div>
  `;
  document.getElementById('inventoryArea').innerHTML = html;
}

/** р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ popup р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕б */
window.useItemPrompt = function(itemId) {
  let info = findItemById(itemId);
  window.openPopup('useItem', `
    <div style="text-align:center;">
      <img src="img/item/${info.img}" style="width:52px;margin-bottom:8px;">
      <div style="font-size:1.09em;">${info.name}</div>
      <div style="margin:.6em 0 1.1em 0;font-size:.97em;color:#7cf;">${info.description}</div>
      <button class="primary-btn" style="margin:.8em .3em 0 .3em;padding:.5em 2.1em;" onclick="useItemNow('${itemId}')">р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕б</button>
      <button class="secondary-btn" style="margin:.8em .3em 0 .3em;" onclick="closePopup()">р╕вр╕Бр╣Ар╕ер╕┤р╕Б</button>
    </div>
  `, 'small', `р╣Гр╕Кр╣Й ${info.name}`);
}

/** р╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Чр╕▒р╕Щр╕Чр╕╡ (р╕ер╕Ф qty, р╣Ар╕гр╕╡р╕вр╕Б effect, update ui) */
window.useItemNow = function(itemId) {
  let idx = inventory.findIndex(i => i.id === itemId);
  let info = findItemById(itemId);
  if (idx === -1 || !info) return;
  if (inventory[idx].qty <= 0) return;
  // Effect (mock: р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х character / heal / exp р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤)
  if (info.effect && info.effect.exp) {
    // р╣Ар╕Юр╕┤р╣Ир╕б exp р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Бр╕гр╕Бр╣Гр╕Щ team (р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З)
    let t = JSON.parse(localStorage.getItem('userTeam') || "[]");
    if (t.length) {
      let cid = t[0];
      let cdata = JSON.parse(localStorage.getItem("char_" + cid) || '{}');
      if (cdata) {
        cdata.exp = (cdata.exp || 0) + info.effect.exp;
        localStorage.setItem("char_" + cid, JSON.stringify(cdata));
        alert(`р╣Ар╕Юр╕┤р╣Ир╕б EXP р╣Гр╕лр╣Й ${cdata.name} +${info.effect.exp}`);
      }
    }
  }
  // TODO: р╕гр╕нр╕Зр╕гр╕▒р╕Ъ heal, skillup, hp_pct, etc. р╕Хр╣Ир╕н
  inventory[idx].qty--;
  if (inventory[idx].qty === 0) inventory.splice(idx, 1);
  saveInventory();
  window.closePopup();
  renderInventoryUI();
}

/** р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Ар╕Вр╣Йр╕▓ inventory */
window.addToInventory = function(itemId, qty) {
  if (!itemId || !qty) return;
  let idx = inventory.findIndex(i => i.id === itemId);
  if (idx >= 0) inventory[idx].qty += qty;
  else inventory.push({ id: itemId, qty });
  saveInventory();
}

/** р╕ер╕Ър╣Др╕нр╣Ар╕Чр╣Зр╕б (admin, debug) */
window.removeFromInventory = function(itemId, qty) {
  let idx = inventory.findIndex(i => i.id === itemId);
  if (idx >= 0) {
    inventory[idx].qty -= qty;
    if (inventory[idx].qty <= 0) inventory.splice(idx, 1);
    saveInventory();
  }
}

/** р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Ъ popups (р╣Ар╕Кр╣Ир╕Щ index.html, quest, shop р╕пр╕ер╕п) */
document.addEventListener('DOMContentLoaded', async () => {
  await loadItemData();
  loadInventory();
  // р╣Ар╕Кр╕╖р╣Ир╕нр╕б hook popup
  const showInvPopup = () => {
    window.openPopup('inventory', `
      <div id="inventoryArea"></div>
      <div style="text-align:right;"><button class="secondary-btn" onclick="closePopup()">р╕Ыр╕┤р╕Ф</button></div>
    `, 'large', "р╕Др╕ер╕▒р╕Зр╣Др╕нр╣Ар╕Чр╣Зр╕б");
    renderInventoryUI();
  };
  let btn = document.getElementById('btnInventory');
  if (btn) btn.onclick = showInvPopup;
  // Hook р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щр╣Ар╕гр╕╡р╕вр╕Б
  window.renderInventoryUI = renderInventoryUI;
});

/** р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н API р╣Гр╕лр╣Йр╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щр╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Й */
window.inventoryEngine = {
  load: loadInventory,
  save: saveInventory,
  add: window.addToInventory,
  remove: window.removeFromInventory,
  list: () => inventory,
  findItemById,
  reloadAll: async () => { await loadItemData(); loadInventory(); },
}

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М data/upgrade.json
{
  "levelup": {
    "exp_required_base": 600,
    "exp_curve": 1.2,
    "exp_item": "exp_potion"
  },
  "promotion": {
    "star_max": 6,
    "requirements": [
      { "star": 3, "cost_gold": 1000, "materials": [ { "id": "rune_shard", "qty": 4 } ] },
      { "star": 4, "cost_gold": 4000, "materials": [ { "id": "rune_shard", "qty": 9 } ] },
      { "star": 5, "cost_gold": 9000, "materials": [ { "id": "rune_shard", "qty": 15 }, { "id": "heal_potion", "qty": 2 } ] }
    ]
  },
  "skillup": {
    "item": "skill_book",
    "increase_percent": 11,
    "max_lv": 6,
    "cost_gold": 700
  },
  "awaken": {
    "enabled": true,
    "require_materials": [
      { "star": 4, "materials": [ { "id": "rune_shard", "qty": 8 }, { "id": "heal_potion", "qty": 1 } ] },
      { "star": 5, "materials": [ { "id": "rune_shard", "qty": 14 }, { "id": "heal_potion", "qty": 2 } ] }
    ]
  }
}

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/upgrade.js
// js/upgrade.js - Epic Seven Auto Battle - Upgrade System

let upgradeConfig = {};
let charUpgradeTarget = null;
let inventory = []; // preload via inventory.js

/** р╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕е config р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕Ир╕▓р╕Б /data/upgrade.json */
async function loadUpgradeConfig() {
  if (Object.keys(upgradeConfig).length) return;
  upgradeConfig = await fetch('data/upgrade.json').then(r => r.json());
}

/** Render р╕Ыр╣Кр╕нр╕Ыр╕нр╕▒р╕Ыр╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г р╣Вр╕Кр╕зр╣М stat + р╕Ыр╕╕р╣Ир╕бр╕нр╕▒р╕Ыр╣Ар╕ер╣Ар╕зр╕е/р╕нр╕▒р╕Ыр╕кр╕Бр╕┤р╕е/р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Вр╕▒р╣Йр╕Щ */
async function openUpgradePopup(characterId) {
  await loadUpgradeConfig();
  await window.inventoryEngine.reloadAll();
  let char = JSON.parse(localStorage.getItem('char_' + characterId)
               || localStorage.getItem('char_' + characterId.replace('_', ''))
               || '{}');
  if (!char || !char.id) {
    alert("р╣Др╕бр╣Ир╕Юр╕Ър╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Щр╕╡р╣Й");
    return;
  }
  charUpgradeTarget = char; // export р╕кр╕│р╕лр╕гр╕▒р╕Ъ event р╕ар╕▓р╕вр╕Щр╕нр╕Б

  // Render main popup
  let html = `
    <div style="display:flex;flex-direction:column;align-items:center;gap:10px;">
      <img src="img/char/${char.img}" style="width:72px;border-radius:15px;box-shadow:0 0 22px #1defeb66;">
      <div style="font-size:1.18em;font-weight:bold;">${char.name}</div>
      <div>Lv. <b>${char.level}</b> <span style="color:#ffe480;">тШЕ${char.star}</span>
          / <b>EXP</b> ${char.exp}/${char.exp_max || '?'}
      </div>
      <div style="color:#87c7ff;">HP <b>${char.hp}</b> | ATK <b>${char.atk}</b> | DEF <b>${char.def}</b> | SPD <b>${char.spd}</b></div>
      <hr style="width:88%; border:1px solid #234">
      <div style="display:flex;gap:12px;">
        <button class="primary-btn" onclick="doLevelUpChar('${char.id}')">р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕ер╣Ар╕зр╕е</button>
        <button class="primary-btn" onclick="doSkillUpChar('${char.id}')">р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕кр╕Бр╕┤р╕е</button>
        <button class="primary-btn" onclick="doPromoteChar('${char.id}')">р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Вр╕▒р╣Йр╕Щ/р╣Ар╕Юр╕┤р╣Ир╕бр╕Фр╕▓р╕з</button>
      </div>
      <button class="secondary-btn" onclick="closePopup()">р╕Ыр╕┤р╕Ф</button>
    </div>
  `;
  window.openPopup('upgradePopup', html, 'large', 'р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г');
}

/** р╕нр╕▒р╕Ыр╣Ар╕ер╣Ар╕зр╕е (р╣Гр╕Кр╣Й exp_potion р╣Др╕Фр╣Йр╕Бр╣Ир╕нр╕Щ, р╕лр╕гр╕╖р╕нр╕Ир╕│р╕ер╕нр╕Зр╣Др╕Фр╣Й) */
window.doLevelUpChar = function (charId) {
  let char = JSON.parse(localStorage.getItem('char_' + charId));
  if (!char) return;
  let expItem = upgradeConfig.levelup.exp_item;
  let inv = window.inventoryEngine.list();
  let owned = inv.find(i => i.id === expItem);
  if (!owned || owned.qty <= 0) {
    alert("р╣Др╕бр╣Ир╕бр╕╡ EXP Potion р╣Гр╕Щр╕Др╕ер╕▒р╕З");
    return;
  }
  // EXP р╣Ар╕Юр╕┤р╣Ир╕б
  let expAdd = 500;
  char.exp = (char.exp || 0) + expAdd;
  let lvled = false;
  while (char.exp >= (char.exp_max || 99999)) {
    char.exp -= char.exp_max;
    char.level = (char.level || 1) + 1;
    lvled = true;
  }
  if (lvled) alert("Level UP!");
  // р╣Ар╕Юр╕┤р╣Ир╕б status р╕Чр╕╕р╕Бр╣Ар╕ер╣Ар╕зр╕е (р╕кр╕╣р╕Хр╕г basic -- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Вр╕вр╕З config/curve р╕Хр╣Ир╕нр╣Др╕Фр╣Й)
  char.hp = Math.round(char.hp * 1.085);
  char.atk = Math.round(char.atk * 1.08);
  char.def = Math.round(char.def * 1.09);
  localStorage.setItem('char_' + char.id, JSON.stringify(char));
  window.inventoryEngine.remove(expItem, 1);
  openUpgradePopup(char.id);
};

/** р╕нр╕▒р╕Ыр╕кр╕Бр╕┤р╕е (р╣Гр╕Кр╣Й skill_book, р╣Ар╕Юр╕┤р╣Ир╕б multiplier, р╕ер╕Фр╕Др╕╣р╕ер╕Фр╕▓р╕зр╕Щр╣М) */
window.doSkillUpChar = function (charId) {
  let char = JSON.parse(localStorage.getItem('char_' + charId));
  if (!char) return;
  let inv = window.inventoryEngine.list();
  let skillBookItem = upgradeConfig.skillup.item;
  let owned = inv.find(i => i.id === skillBookItem);
  if (!owned || owned.qty <= 0) { alert("р╣Др╕бр╣Ир╕бр╕╡ Skill Book р╣Гр╕Щр╕Др╕ер╕▒р╕З"); return; }
  // Pick skill to up (р╕кр╕╕р╣Ир╕б 1 skill)
  let skills = char.skills || [];
  if (!skills.length) { alert("р╣Др╕бр╣Ир╕бр╕╡р╕кр╕Бр╕┤р╕ер╣Гр╕лр╣Йр╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф"); return; }
  let idx = Math.floor(Math.random() * skills.length);
  let sk = skills[idx];
  // р╣Ар╕Юр╕┤р╣Ир╕б multiplier р╣Бр╕ер╕░р╕ер╕Ф cooldown р╕Цр╣Йр╕▓р╣Др╕Фр╣Й
  if (sk.multiplier)
    sk.multiplier = +(sk.multiplier + upgradeConfig.skillup.increase_percent/100).toFixed(2);
  if (sk.cooldown && sk.cooldown > 1)
    sk.cooldown = Math.max(1, sk.cooldown - 1);
  char.skills[idx] = sk;
  localStorage.setItem('char_' + char.id, JSON.stringify(char));
  window.inventoryEngine.remove(skillBookItem, 1);
  alert(`р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф Skill "${sk.name}" р╣Гр╕лр╣Йр╣Бр╕гр╕Зр╕Вр╕╢р╣Йр╕Щ!`);
  openUpgradePopup(char.id);
};

/** р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Вр╕▒р╣Йр╕Щ/Promotion р╣Ар╕Юр╕┤р╣Ир╕бр╕Фр╕▓р╕з (р╣Гр╕Кр╣Й gold+materials) */
window.doPromoteChar = function (charId) {
  let char = JSON.parse(localStorage.getItem('char_' + charId));
  if (!char) return;
  let starNext = (char.star || 1) + 1;
  let prom = upgradeConfig.promotion.requirements.find(r => r.star === char.star);
  if (!prom) { alert("р╕Фр╕▓р╕зр╕кр╕╣р╕Зр╕кр╕╕р╕Фр╣Бр╕ер╣Йр╕з"); return; }
  // р╣Ар╕Кр╣Зр╕Др╕Вр╕нр╕З
  let inv = window.inventoryEngine.list();
  let gold = inv.find(i => i.id === 'gold');
  if (!gold || gold.qty < prom.cost_gold) {
    alert("Gold р╣Др╕бр╣Ир╕Юр╕н");
    return;
  }
  let enough = prom.materials.every(mat =>
    inv.find(i => i.id === mat.id && i.qty >= mat.qty));
  if (!enough) { alert("р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ър╣Др╕бр╣Ир╕Юр╕н"); return; }
  // р╕лр╕▒р╕Бр╕Вр╕нр╕З
  window.inventoryEngine.remove('gold', prom.cost_gold);
  prom.materials.forEach(mat => window.inventoryEngine.remove(mat.id, mat.qty));
  // р╣Ар╕Юр╕┤р╣Ир╕бр╕Фр╕▓р╕з+р╕нр╕▒р╕Ы stat
  char.star = starNext;
  char.hp = Math.floor(char.hp * 1.20);
  char.atk = Math.floor(char.atk * 1.15);
  char.def = Math.floor(char.def * 1.12);
  localStorage.setItem('char_' + char.id, JSON.stringify(char));
  alert("р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Вр╕▒р╣Йр╕Щр╕кр╕│р╣Ар╕гр╣Зр╕И! р╕Фр╕▓р╕зр╣Гр╕лр╕бр╣И: " + char.star);
  openUpgradePopup(char.id);
};

// р╣Ар╕Кр╕╖р╣Ир╕нр╕б event р╕Бр╕▒р╕Ъ popup
document.addEventListener('DOMContentLoaded', () => {
  // Hook р╕Бр╕▒р╕Ъ characterCollection
  window.upgradeCharPopup = openUpgradePopup;
  // р╕Цр╣Йр╕▓р╕бр╕╡р╕Бр╕▓р╕гр╕Бр╕Фр╕Ыр╕╕р╣Ир╕бр╕Ир╕▓р╕Бр╕Др╕ер╕▒р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Гр╕лр╣Йр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Др╕Фр╣Йр╣Ар╕ер╕в р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З:
  let area = document.getElementById('characterArea');
  if (area) area.addEventListener('click', e => {
    let target = e.target.closest('[data-upgrade]');
    if (target) openUpgradePopup(target.dataset.upgrade);
  });
});

// Expose р╣Гр╕лр╣Йр╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щр╣Ар╕гр╕╡р╕вр╕Б
window.upgradeEngine = {
  open: openUpgradePopup,
  reloadConfig: loadUpgradeConfig
};

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М data/rune.json
[
  {
    "id": "spd_rare",
    "name": "Speed Rune",
    "slot": 2,
    "main_stat": { "type": "spd", "val": 25 },
    "sub_stats": [
      { "type": "atk_pct", "val": 7 },
      { "type": "def", "val": 16 }
    ],
    "set": "speed",
    "rarity": 4,
    "icon": "ЁЯТи"
  },
  {
    "id": "atk_pure",
    "name": "Attack Rune",
    "slot": 1,
    "main_stat": { "type": "atk_pct", "val": 15 },
    "sub_stats": [
      { "type": "spd", "val": 5 }
    ],
    "set": "rage",
    "rarity": 3,
    "icon": "тЪФя╕П"
  },
  {
    "id": "crit_big",
    "name": "Critical Rune",
    "slot": 4,
    "main_stat": { "type": "crit_pct", "val": 12 },
    "sub_stats": [
      { "type": "atk_pct", "val": 6 },
      { "type": "spd", "val": 7 },
      { "type": "effectiveness", "val": 4 }
    ],
    "set": "critical",
    "rarity": 5,
    "icon": "ЁЯОп"
  },
  {
    "id": "def_basic",
    "name": "Defense Rune",
    "slot": 3,
    "main_stat": { "type": "def_pct", "val": 10 },
    "sub_stats": [],
    "set": "defend",
    "rarity": 2,
    "icon": "ЁЯЫбя╕П"
  },
  {
    "set_bonuses": {
      "speed":    { "slot_required": 2, "bonus": { "spd": 25 },        "desc": "Speed +25%"  },
      "rage":     { "slot_required": 4, "bonus": { "atk_pct": 35 },     "desc": "ATK +35%"    },
      "critical": { "slot_required": 2, "bonus": { "crit_pct": 12 },    "desc": "Crit +12%"   },
      "defend":   { "slot_required": 2, "bonus": { "def_pct": 15 },     "desc": "DEF +15%"    }
    }
  }
]

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/rune.js
// js/rune.js
let runeData = [];
let runeSetBonuses = {};
let userRunes = [];    // р╕гр╕╣р╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Гр╕Щ inventory (id,unlock,slot р╕пр╕ер╕п)
let equippedRunes = {}; // { char_id: [slot1, slot2, slot3, slot4] }
let currentCharEquip = null;   // р╕Кр╕╖р╣Ир╕нр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Чр╕╡р╣Ир╕Бр╕│р╕ер╕▒р╕Зр╕кр╕зр╕бр╣Гр╕кр╣И

// р╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕гр╕╣р╕Щр╕Ир╕▓р╕Б data/rune.json
async function loadRuneData() {
  if (runeData.length) return;
  let arr = await fetch('data/rune.json').then(r => r.json());
  runeData = arr.filter(x => !x.set_bonuses);
  runeSetBonuses = arr.find(x => x.set_bonuses)?.set_bonuses || {};
}

// р╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Щр╕Вр╕нр╕З user (р╕Ир╕▓р╕Б localStorage)
function loadUserRunes() {
  userRunes = JSON.parse(localStorage.getItem('user_runes') || "[]");
  equippedRunes = JSON.parse(localStorage.getItem('equipped_runes') || "{}");
}

// р╣Ар╕Лр╕Яр╕гр╕╣р╕Щр╕Бр╕ер╕▒р╕Ъ localStorage
function saveUserRunes() {
  localStorage.setItem('user_runes', JSON.stringify(userRunes));
  localStorage.setItem('equipped_runes', JSON.stringify(equippedRunes));
}

// UI - render pop-up р╕кр╕зр╕бр╣Гр╕кр╣Ир╕гр╕╣р╕Щ
async function openRuneEquipPopup(char_id) {
  await loadRuneData(); loadUserRunes();
  currentCharEquip = char_id;
  // р╣Ар╕Хр╕гр╕╡р╕вр╕б grid р╕Кр╣Ир╕нр╕З/р╕гр╕╣р╕Щ
  let charRunes = equippedRunes[char_id] || [null, null, null, null];
  let runeSlotHtml = '';
  for (let slot = 1; slot <= 4; slot++) {
    let runeId = charRunes[slot - 1];
    let ru = runeData.find(r => r.id === runeId);
    runeSlotHtml += `<div style="border:1px solid #348ac9;border-radius:10px;padding:8px 7px;min-width:96px;min-height:65px;margin:3px 0;">
      <b>р╕Кр╣Ир╕нр╕З ${slot}:</b> ${ru ?
        `<span title="${ru.name}" style="font-size:1.2em;vertical-align:middle;">${ru.icon ?? 'ЁЯФ╕'}</span> 
        <span style="color:#7df;font-weight:600;">${ru.name}</span>
        <button class="secondary-btn" style="font-size:.96em;padding:.1em .8em;margin-left:4px;" onclick="unequipRune(${slot})">р╕Цр╕нр╕Щ</button>
        <div style="font-size:0.88em;color:#acfc94;margin-top:4px;">${mainStatText(ru.main_stat)} ${ru.sub_stats.map(mainStatText).join(', ')}</div>`
        : `<span style="color:#888;">р╕зр╣Ир╕▓р╕З</span>
          <button class="primary-btn" style="font-size:.9em;" onclick="showSelectRune(${slot})">+ р╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕╣р╕Щ</button>`
      }
      </div>`;
  }
  const setBuffHtml = renderSetBonus(charRunes);
  const html = `
    <div style="display:flex;flex-direction:column;gap:7px;">
      <h3>р╕г'р╕╕р╕Щр╕Вр╕нр╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Щр╕╡р╣Й</h3>
      ${runeSlotHtml}
      ${setBuffHtml}
      <button class="secondary-btn" onclick="closePopup()">р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Бр╕ер╕░р╕Ыр╕┤р╕Ф</button>
    </div>`;
  window.openPopup('runeEquip', html, 'large', 'р╕кр╕зр╕бр╣Гр╕кр╣Ир╕гр╕╣р╕Щ');
}

// Render set buff р╕гр╕зр╕б (р╕Цр╣Йр╕▓р╣Ар╕Лр╣Зр╕Хр╕Др╕гр╕Ъ)
function renderSetBonus(runeIdArr) {
  let sets = {}, slots = {};
  runeIdArr.forEach(id => {
    let r = runeData.find(a => a.id === id);
    if (r) {
      sets[r.set] = (sets[r.set] || 0) + 1;
      slots[r.slot] = 1;
    }
  });
  let buffHtml = '';
  Object.keys(sets).forEach(set => {
    const cfg = runeSetBonuses[set];
    if (cfg && sets[set] >= cfg.slot_required) {
      buffHtml += `<div style="background:#22442b;margin:13px 0;padding:7px 9px;border-radius:7px;">
          <span style="font-size:1.16em;">${cfg.desc}</span> <b style="color:#66e0ca;">(р╕Др╕гр╕Ър╣Ар╕Лр╣Зр╕Х!)</b>
        </div>`;
    }
  });
  return buffHtml ? `<div style="margin-top:14px;">${buffHtml}</div>` : '';
}

// р╣Гр╕Кр╣Йр╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Фр╕гр╕╣р╕Щр╕Бр╕▒р╕Ър╕Кр╣Ир╕нр╕З
window.showSelectRune = function(slot) {
  // р╣Бр╕кр╕Фр╕З pop-up р╣Ар╕ер╕╖р╕нр╕Бр╕гр╕╣р╕Щр╕Чр╕╡р╣Ир╕вр╕▒р╕З тАЬр╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Гр╕кр╣Ир╣Гр╕Др╕гтАЭ
  let avai = userRunes.filter(r => !Object.values(equippedRunes)
                        .flat().includes(r.rune_id) && runeData.find(x => x.id === r.rune_id)?.slot === slot);
  let html = avai.length
      ? avai.map(r => {
          let d = runeData.find(x => x.id === r.rune_id);
          return `<div style="display:flex;align-items:center;gap:9px;">
            <span style="font-size:1.3em;">${d.icon ?? 'ЁЯФ╕'}</span>
            <b>${d.name}</b> <span style="font-size:0.93em;color:#d2ffee;">${mainStatText(d.main_stat)}</span>
            <button class="primary-btn" onclick="equipRuneSlot('${r.rune_id}',${slot})">р╣Гр╕кр╣И</button>
          </div>`;
        }).join('<hr style="margin:2px 0;">')
      : `<div style="color:#fda;">р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡р╕гр╕╣р╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Кр╣Ир╕нр╕Зр╕Щр╕╡р╣Й</div>`;
  window.openPopup('selectRune', html, 'small', `р╣Ар╕ер╕╖р╕нр╕Бр╕гр╕╣р╕Щ р╕Кр╣Ир╕нр╕З ${slot}`);
};

// р╣Ар╕кр╕гр╕┤р╕б-helper
function mainStatText(stat) {
  if (!stat) return "";
  const lib = { spd: 'SPD', atk_pct: 'ATK%', def: 'DEF', def_pct: 'DEF%', crit_pct: 'CRIT%', effectiveness: 'EFF' };
  return (lib[stat.type] || stat.type) + " +" + stat.val;
}

// р╣Гр╕кр╣Ир╕гр╕╣р╕Щр╕ер╕З slot
window.equipRuneSlot = function(rune_id, slot) {
  let charRunes = equippedRunes[currentCharEquip] || [null,null,null,null];
  charRunes[slot - 1] = rune_id;
  equippedRunes[currentCharEquip] = charRunes;
  saveUserRunes();
  closePopup('selectRune'); // р╕Ыр╕┤р╕Фр╣Ар╕ер╕╖р╕нр╕Бр╕гр╕╣р╕Щ
  openRuneEquipPopup(currentCharEquip);
};
// р╕Цр╕нр╕Щр╕гр╕╣р╕Щ (р╕Кр╣Ир╕нр╕З)
window.unequipRune = function(slot) {
  let charRunes = equippedRunes[currentCharEquip] || [null,null,null,null];
  charRunes[slot - 1] = null;
  equippedRunes[currentCharEquip] = charRunes;
  saveUserRunes();
  openRuneEquipPopup(currentCharEquip);
};

// р╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Фр╕гр╕╣р╕Щ (р╣Гр╕Кр╣Йр╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ъ) - р╣Вр╕Ър╕Щр╕▒р╕кр╕кр╕╕р╣Ир╕б (Mock)
window.upgradeRune = function(rune_id) {
  // р╕Ир╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕гр╕░р╕Ър╕Ър╕нр╕▒р╕Ыр╣Ар╕Бр╕гр╕Ф + р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ъ (mock)
  alert("= Demo = р╕Др╕╕р╕Ур╕нр╕▒р╕Ыр╣Ар╕ер╣Ар╕зр╕ер╕гр╕╣р╕Щ " + rune_id + " р╣Бр╕ер╣Йр╕з (mock)");
};


/* р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б: export р╣Гр╕лр╣Йр╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щр╣Ар╕Кр╕╖р╣Ир╕нр╕б */
window.runeEngine = {
  openEquipPopup: openRuneEquipPopup,
  getEquipped: function(char_id) { loadUserRunes(); return equippedRunes[char_id] || [null,null,null,null]; },
  getUserRunes: function() { loadUserRunes(); return userRunes; },
  addRune: function(rune_id) { userRunes.push({ rune_id }); saveUserRunes(); },
  removeRune: function(rune_id) { userRunes = userRunes.filter(r => r.rune_id !== rune_id); saveUserRunes(); }
};

// Hook DOM р╣Гр╕Щр╕Др╕ер╕▒р╕Зр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г (р╣Ар╕Кр╣Ир╕Щр╕Ыр╕╕р╣Ир╕б)
document.addEventListener('DOMContentLoaded', async () => {
  await loadRuneData(); loadUserRunes();
  // р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Ыр╕╕р╣Ир╕б: <button data-equiprune="cid">р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕гр╕╣р╕Щ</button>
  if (document.getElementById('characterArea')) {
    document.getElementById('characterArea').addEventListener('click', e => {
      const btn = e.target.closest('[data-equiprune]');
      if (btn) openRuneEquipPopup(btn.getAttribute('data-equiprune'));
    });
  }
});

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М data/gacha.json
{
  "gachas": [
    {
      "id": "premium_summon",
      "name": "Premium Gacha",
      "type": "normal",
      "enabled": true,
      "cost": { "item": "diamond", "amount": 50 },
      "pool": [
        { "char_id": "astra", "rarity": 5, "rate": 5 },
        { "char_id": "slime_basic", "rarity": 3, "rate": 95 }
      ],
      "pity": { "enabled": true, "max": 20, "guarantee_rarity": 5 },
      "banner_img": "gacha_premium.png",
      "desc": "р╕кр╕╕р╣Ир╕бр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕гр╕░р╕Фр╕▒р╕Ър╕кр╕╣р╕З\nр╕вр╕┤р╣Ир╕Зр╕лр╕бр╕╕р╕Щр╣Ар╕вр╕нр╕░р╕вр╕┤р╣Ир╕Зр╕бр╕╡р╣Вр╕нр╕Бр╕▓р╕кр╣Др╕Фр╣Й тШЕ5!"
    },
    {
      "id": "event_summon_may2024",
      "name": "May 2024 Event",
      "type": "event",
      "enabled": false,
      "cost": { "item": "ticket_event", "amount": 1 },
      "pool": [
        { "char_id": "astra", "rarity": 5, "rate": 10 },
        { "char_id": "slime_basic", "rarity": 3, "rate": 90 }
      ],
      "pity": { "enabled": false },
      "banner_img": "gacha_event_may2024.png",
      "desc": "р╣Ар╕Йр╕Юр╕▓р╕░р╕Бр╕┤р╕И - р╣Гр╕Кр╣Йр╕Хр╕▒р╣Лр╕з Event р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ"
    }
  ]
}

р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣М js/gacha.js
// js/gacha.js - р╕гр╕░р╕Ър╕Ър╕кр╕╕р╣Ир╕бр╕Бр╕▓р╕Кр╕▓ Epic Seven Clone Frontend

let gachaList = [];
let gachaUserLog = [];
let gachaPity = {}; // {gachaId: <count>}

// р╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕▓р╕Кр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
async function loadGachaData() {
    if (gachaList.length) return;
    const res = await fetch('data/gacha.json').then(r => r.json());
    gachaList = res.gachas;
}

// р╣Вр╕лр╕ер╕Ф log р╕Бр╕▓р╕Кр╣Ир╕▓р╕Вр╕нр╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
function loadGachaUserLog() {
    gachaUserLog = JSON.parse(localStorage.getItem('gacha_user_log') || '[]');
    gachaPity = JSON.parse(localStorage.getItem('gacha_pity') || '{}');
}
// р╣Ар╕Лр╕Я log/pity
function saveGachaLog() {
    localStorage.setItem('gacha_user_log', JSON.stringify(gachaUserLog));
    localStorage.setItem('gacha_pity', JSON.stringify(gachaPity));
}

// Render popup UI
async function openGachaPopup() {
    await loadGachaData(); loadGachaUserLog();
    // Render р╕Чр╕╕р╕Бр╕Бр╕▓р╕Кр╕▓р╕Чр╕╡р╣И enabled
    let avai = gachaList.filter(g => g.enabled);
    if (!avai.length) {
        window.openPopup('gacha', `<div>р╣Др╕бр╣Ир╕Юр╕Ър╕Бр╕▓р╕Кр╕▓р╕Чр╕╡р╣Ир╣Ар╕Ыр╕┤р╕Фр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ</div><button class="secondary-btn" onclick="closePopup()">р╕Ыр╕┤р╕Ф</button>`, 'large', 'р╕Бр╕▓р╕Кр╕▓');
        return;
    }
    // Render banner + р╕Ыр╕╕р╣Ир╕бр╕кр╕╕р╣Ир╕б
    let html = avai.map(g => `
        <div style="background:#1b232e;padding:24px 1.5em;border-radius:18px;margin-bottom:24px;text-align:center;box-shadow:0 2px 18px #278ddf18;">
            <img src="img/gacha/${g.banner_img || 'noimg.png'}" style="width:100%;min-width:210px;max-width:330px;border-radius:9px;margin-bottom:7px;box-shadow:0 1px 40px #35cfff23;">
            <div style="font-size:1.14em;color:#7ffbfb;font-weight:600;margin-bottom:4px;">${g.name}</div>
            <div style="color:#aef;margin-bottom:1em;">${g.desc || ''}</div>
            <div style="font-size:.95em;margin-bottom:1em;"><b>р╕Др╣Ир╕▓р╣Гр╕Кр╣Йр╕Ир╣Ир╕▓р╕в: </b>
                <span style="color:goldenrod;font-weight:bold;">${g.cost.amount}</span> 
                <img src="img/item/${g.cost.item}.png" style="width:19px;vertical-align:middle;" />
            </div>
            <div><button class="primary-btn" onclick="gachaSummon('${g.id}',1)">р╕кр╕╕р╣Ир╕б 1 р╕Др╕гр╕▒р╣Йр╕З</button>
            <button class="primary-btn" onclick="gachaSummon('${g.id}',10)">р╕кр╕╕р╣Ир╕б 10 р╕Др╕гр╕▒р╣Йр╕З</button></div>
            <div style="margin-top:18px;font-size:.9em;">
                <a href="#" onclick="openGachaLogPopup('${g.id}');return false;" style="color:#85deff;text-decoration:underline;">р╕Фр╕╣р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕кр╕╕р╣Ир╕б</a>
                ${g.pity?.enabled ? `<span style="margin-left:2em;color:#ffa;">Pity: ${gachaPity[g.id]||0}/${g.pity.max}</span>` : ''}
            </div>
        </div>
    `).join('');
    window.openPopup('gacha', html, 'large', 'р╕Бр╕▓р╕Кр╕▓');
}

// р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕кр╕╕р╣Ир╕б gacha ([р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б])
window.gachaSummon = async function(gachaId, times = 1) {
    await loadGachaData(); loadGachaUserLog();
    let g = gachaList.find(x => x.id === gachaId); if (!g) return;
    // р╕Хр╕гр╕зр╕И inventory
    let inv = window.inventoryEngine?.list();
    let currency = inv?.find(i => i.id === g.cost.item);
    if (!currency || currency.qty < g.cost.amount * times) {
        alert(`р╕Др╕╕р╕Ур╕бр╕╡ ${g.cost.item} р╣Др╕бр╣Ир╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н`);
        return;
    }
    // loop draw
    let poolFlat = [];
    g.pool.forEach(entry => {
        for (let i = 0; i < entry.rate; i++) poolFlat.push(entry.char_id);
    });
    let got = [], pityFlag = false;
    for (let t = 0; t < times; t++) {
        let pity = (g.pity?.enabled ? gachaPity[g.id] || 0 : 0);
        let pick;
        // pity trigger
        if (g.pity?.enabled && g.pity.max && pity+1 >= g.pity.max) {
            pick = g.pool.find(c => c.rarity === g.pity.guarantee_rarity)?.char_id || poolFlat[0];
            gachaPity[g.id] = 0;
            pityFlag = true;
        } else {
            pick = poolFlat[Math.floor(Math.random() * poolFlat.length)];
            // р╕Цр╣Йр╕▓р╣Др╕Фр╣Йр╕Бр╕▓р╕гр╣Мр╕Фр╕Хр╕▓р╕б pity reset
            let card = g.pool.find(c => c.char_id === pick);
            if (g.pity?.enabled) {
                if(card && card.rarity === g.pity.guarantee_rarity) gachaPity[g.id] = 0;
                else gachaPity[g.id] = (gachaPity[g.id] || 0) + 1;
            }
        }
        got.push(pick);
        // р╣Ар╕Юр╕┤р╣Ир╕бр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Ар╕Вр╣Йр╕▓р╕Др╕ер╕▒р╕З (characterCollection / LocalStorage)
        window.collectCharacter?.(pick);
        // Log
        gachaUserLog.push({
            time: Date.now(),
            char: pick,
            gacha_id: g.id,
            rarity: g.pool.find(c => c.char_id === pick)?.rarity || 3
        });
    }
    // р╕лр╕▒р╕Бр╕Чр╕╕р╕Щ
    window.inventoryEngine.remove(g.cost.item, g.cost.amount * times);
    saveGachaLog();
    // Show animation/result popup
    openGachaResult(g, got, pityFlag);
};

// Add character (р╣Ар╕Вр╣Йр╕▓р╕Др╕ер╕▒р╕З р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╕бр╕╡)
window.collectCharacter = function(charId) {
    // р╣Ар╕нр╕▓р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕ер╕З localStorage/char_collection
    let chars = JSON.parse(localStorage.getItem('char_collection') || '[]');
    if(!chars.includes(charId)) chars.push(charId);
    localStorage.setItem('char_collection', JSON.stringify(chars));
}

// р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕кр╕╕р╣Ир╕бр╕Бр╕▓р╕Кр╕▓ (animationр╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕в + р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф + р╣Ар╕Юр╕┤р╣Ир╕бр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г)
function openGachaResult(gacha, resultArr, pityFlag) {
    let html = `<div style="text-align:center;">
        <div style="font-size:1.7em;margin-bottom:6px;">ЁЯО┤ Gacha Result</div>
        <div style="color:#fcc;${pityFlag ? 'font-weight:bold;' : ''}">${pityFlag ? 'Pity Triggerd! р╕Бр╕▓р╕гр╕▒р╕Щр╕Хр╕╡р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕гр╕░р╕Фр╕▒р╕Ър╕кр╕╣р╕Зр╕кр╕╕р╕Ф!' : ''}</div>
        <div style="display:flex;justify-content:center;gap:13px;flex-wrap:wrap;margin-top:1em;">` +
        resultArr.map(cid => {
            let imgSrc = `img/char/${cid}.png`;
            return `<div style="background:#223352;border:2px solid #35aaffb7;border-radius:13px;padding:8px 12px;display:flex;flex-direction:column;align-items:center;min-width:93px;">
                <img src="${imgSrc}" style="width:58px;margin-bottom:8px;border-radius:10px;box-shadow:0 0 17px #27508080;" />
                <b style="color:#aef;">${cid}</b>
            </div>`;
        }).join('') +
        `</div>
        <div style="margin-top:18px;">
            <button class="primary-btn" onclick="closePopup();openGachaPopup();">р╕Бр╕ер╕▒р╕Ър╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Кр╕▓</button>
        </div>
    </div>`;
    window.openPopup('gachaResult', html, 'large', 'р╕кр╕╕р╣Ир╕бр╕Бр╕▓р╕Кр╕▓р╕кр╕│р╣Ар╕гр╣Зр╕И');
}

// р╕Фр╕╣р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕Кр╕▓
window.openGachaLogPopup = function(gachaId) {
    loadGachaUserLog();
    let logs = gachaUserLog.filter(x => x.gacha_id === gachaId).slice(-30).reverse();
    let html = logs.length ? `<div style="max-height:300px;overflow-y:auto;"><table style="width:100%;">
        <tr style="color:#aae;"><th>#</th><th>р╣Ар╕зр╕ер╕▓</th><th>р╕Ьр╕ер╕кр╕╕р╣Ир╕б</th><th>Rarity</th></tr>
        ${logs.map((l,i) => `<tr>
            <td>${i+1}</td>
            <td>${(new Date(l.time)).toLocaleString()}</td>
            <td>${l.char}</td>
            <td><span style="color:${l.rarity>=5?'gold':'#fff'};">тШЕ${l.rarity}</span></td>
        </tr>`).join('')}
        </table></div>` : `<div style="text-align:center">р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╕кр╕╕р╣Ир╕бр╕Бр╕▓р╕Кр╕▓</div>`;
    window.openPopup('gachaLog'+gachaId, html, 'large', "р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕Кр╕▓");
}

// auto hook р╕Ыр╕╕р╣Ир╕б
document.addEventListener('DOMContentLoaded', () => {
    let btn = document.getElementById('btnGacha');
    if(btn) btn.onclick = openGachaPopup;
});

// р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕░р╕Ър╕Ъ/admin р╣Ар╕гр╕╡р╕вр╕Б
window.gachaEngine = {
    open: openGachaPopup,
    log: openGachaLogPopup,
    summon: window.gachaSummon
};

р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Др╕Яр╕ер╣Мр╣Вр╕Др╣Йр╕Фр╕Чр╕╡р╣Ир╕Др╕╕р╕Ур╕Бр╕│р╕ер╕▒р╕Зр╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╣Йр╕Хр╣Ир╕нр╕Ир╕▓р╕Бр╕Щр╕╡р╣Й р╕Ир╕░р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Чр╕кр╣Др╕Фр╣Йр╣Ар╕ер╕вр╣Бр╕ер╕░р╕Ър╕нр╕Бр╕зр╕┤р╕Шр╕╡р╕Фр╕лр╕▓р╕Ир╕╕р╕Фр╕Ър╕▒р╕Др╣Др╕Ыр╣Гр╕Щр╕Хр╕▒р╕з р╕Вр╣Йр╕нр╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕Зр╕Цр╣Йр╕▓р╕лр╕▓р╕Бр╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕Хр╣Йр╕нр╕Зр╕гр╕нр╣Др╕Яр╕ер╣Мр╕гр╕нр╕Бр╣Ир╕нр╕Щр╣Ар╕Юр╕┤р╣Ир╕бр╕Чр╕Фр╕ер╕нр╕Зр╣Др╕Фр╣Йр╣Ар╕Хр╣Зр╕бр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╣Гр╕лр╣Йр╣Бр╕Ир╣Йр╕Зр╕гр╕нр╣Др╕Яр╕ер╣Мр╕Бр╣Ир╕нр╕Щ р╣Ар╕Юр╕╖р╣Ир╕нр╕Ир╕░р╣Др╕Фр╣Йр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Ыр╕гр╕▒р╕Ър╣Вр╕Др╣Йр╕Фр╣Др╕Ыр╕бр╕▓р╣Гр╕Щр╕нр╕Щр╕▓р╕Др╕Х

р╕Юр╕гр╣Йр╕нр╕бр╣Ар╕гр╕┤р╣Ир╕бр╕Др╕╕р╕Ур╣Ар╕Вр╕╡р╕вр╕Щр╕бр╕▓р╣Ар╕Хр╣Зр╕бр╕Йр╕Ър╕▒р╕Ър╣Др╕Фр╣Йр╣Ар╕ер╕вр╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Чр╕Ър╕Чр╕зр╕Щр╣Ар╕Щр╕╖р╣Ир╕нр╕Зр╕лр╕▓р╣Бр╕ер╣Йр╕з р╕Др╕зр╕гр╣Ар╕гр╕┤р╣Ир╕бр╕нр╕▒р╕Щр╣Др╕лр╕Щр╕Бр╣Ир╕нр╕Щ gacha.js, data/gacha.json р╕кр╣Ир╕Зр╣Вр╕Др╣Йр╕Фр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕Хр╣Зр╕бр╕Йр╕Ър╕▒р╕Ър╕бр╕▓р╣Др╕Фр╣Йр╣Ар╕ер╕в 
р╣Бр╕Ир╣Йр╕Зр╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣Мр╣Бр╕ер╕░р╕Др╕зр╕гр╕нр╕вр╕╣р╣Ир╣Гр╕Щр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╣Др╕лр╕Щр╕Фр╣Йр╕зр╕в р╣Бр╕ер╣Йр╕зр╕Ыр╕┤р╕Фр╕Чр╣Йр╕▓р╕вр╕Фр╣Йр╕зр╕вр╕Бр╕▓р╕гр╕кр╕гр╕╕р╕Ыр╕зр╣Ир╕▓р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Хр╣Ир╕нр╣Др╕Ыр╕Др╕╖р╕нр╕нр╕░р╣Др╕г
(р╕гр╕╣р╕Ыр╕Хр╣Ир╕▓р╕Зр╣Жр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Ир╕▓р╕Бр╕Вр╣Йр╕▓р╕Зр╕Щр╕нр╕Бр╕Ир╕░р╕бр╕╡р╣Бр╕Хр╣Ир╕гр╕╣р╕Ыр╕Хр╕▒р╕зр╕ер╕░р╕Др╕г р╕ор╕╡р╣Вр╕гр╣И, р╕бр╕нр╕Щр╣Ар╕Хр╕нр╕гр╣М р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ р╕Щр╕нр╕Бр╕Щр╕▒р╣Йр╕Щр╣Гр╕Кр╣Йр╕гр╕╣р╕Ыр╕лр╕гр╕╖р╕нр╣Др╕нр╕Др╕нр╕Щр╕ар╕▓р╕вр╣Гр╕Щр╕гр╕░р╕Ър╕Ъ)